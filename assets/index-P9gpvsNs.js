(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function LT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Uy={exports:{}},_u={};var Bw;function eN(){if(Bw)return _u;Bw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var d=null;if(l!==void 0&&(d=""+l),a.key!==void 0&&(d=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:d,ref:a!==void 0?a:null,props:l}}return _u.Fragment=e,_u.jsx=t,_u.jsxs=t,_u}var Fw;function tN(){return Fw||(Fw=1,Uy.exports=eN()),Uy.exports}var u=tN(),By={exports:{}},De={};var qw;function nN(){if(qw)return De;qw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,D={};function F(V,ne,fe){this.props=V,this.context=ne,this.refs=D,this.updater=fe||T}F.prototype.isReactComponent={},F.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},F.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function z(){}z.prototype=F.prototype;function J(V,ne,fe){this.props=V,this.context=ne,this.refs=D,this.updater=fe||T}var ae=J.prototype=new z;ae.constructor=J,I(ae,F.prototype),ae.isPureReactComponent=!0;var ce=Array.isArray;function pe(){}var j={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function k(V,ne,fe){var me=fe.ref;return{$$typeof:n,type:V,key:ne,ref:me!==void 0?me:null,props:fe}}function M(V,ne){return k(V.type,ne,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function B(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(fe){return ne[fe]})}var P=/\/+/g;function qe(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?B(""+V.key):ne.toString(36)}function ht(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(pe,pe):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Z(V,ne,fe,me,Ce){var Le=typeof V;(Le==="undefined"||Le==="boolean")&&(V=null);var Qe=!1;if(V===null)Qe=!0;else switch(Le){case"bigint":case"string":case"number":Qe=!0;break;case"object":switch(V.$$typeof){case n:case e:Qe=!0;break;case _:return Qe=V._init,Z(Qe(V._payload),ne,fe,me,Ce)}}if(Qe)return Ce=Ce(V),Qe=me===""?"."+qe(V,0):me,ce(Ce)?(fe="",Qe!=null&&(fe=Qe.replace(P,"$&/")+"/"),Z(Ce,ne,fe,"",function(Ia){return Ia})):Ce!=null&&(O(Ce)&&(Ce=M(Ce,fe+(Ce.key==null||V&&V.key===Ce.key?"":(""+Ce.key).replace(P,"$&/")+"/")+Qe)),ne.push(Ce)),1;Qe=0;var Xt=me===""?".":me+":";if(ce(V))for(var vt=0;vt<V.length;vt++)me=V[vt],Le=Xt+qe(me,vt),Qe+=Z(me,ne,fe,Le,Ce);else if(vt=S(V),typeof vt=="function")for(V=vt.call(V),vt=0;!(me=V.next()).done;)me=me.value,Le=Xt+qe(me,vt++),Qe+=Z(me,ne,fe,Le,Ce);else if(Le==="object"){if(typeof V.then=="function")return Z(ht(V),ne,fe,me,Ce);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Qe}function de(V,ne,fe){if(V==null)return V;var me=[],Ce=0;return Z(V,me,"","",function(Le){return ne.call(fe,Le,Ce++)}),me}function le(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(fe){(V._status===0||V._status===-1)&&(V._status=1,V._result=fe)},function(fe){(V._status===0||V._status===-1)&&(V._status=2,V._result=fe)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var Ae=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ue={map:de,forEach:function(V,ne,fe){de(V,function(){ne.apply(this,arguments)},fe)},count:function(V){var ne=0;return de(V,function(){ne++}),ne},toArray:function(V){return de(V,function(ne){return ne})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return De.Activity=v,De.Children=Ue,De.Component=F,De.Fragment=t,De.Profiler=a,De.PureComponent=J,De.StrictMode=r,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,De.__COMPILER_RUNTIME={__proto__:null,c:function(V){return j.H.useMemoCache(V)}},De.cache=function(V){return function(){return V.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(V,ne,fe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var me=I({},V.props),Ce=V.key;if(ne!=null)for(Le in ne.key!==void 0&&(Ce=""+ne.key),ne)!C.call(ne,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ne.ref===void 0||(me[Le]=ne[Le]);var Le=arguments.length-2;if(Le===1)me.children=fe;else if(1<Le){for(var Qe=Array(Le),Xt=0;Xt<Le;Xt++)Qe[Xt]=arguments[Xt+2];me.children=Qe}return k(V.type,Ce,me)},De.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},De.createElement=function(V,ne,fe){var me,Ce={},Le=null;if(ne!=null)for(me in ne.key!==void 0&&(Le=""+ne.key),ne)C.call(ne,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ce[me]=ne[me]);var Qe=arguments.length-2;if(Qe===1)Ce.children=fe;else if(1<Qe){for(var Xt=Array(Qe),vt=0;vt<Qe;vt++)Xt[vt]=arguments[vt+2];Ce.children=Xt}if(V&&V.defaultProps)for(me in Qe=V.defaultProps,Qe)Ce[me]===void 0&&(Ce[me]=Qe[me]);return k(V,Le,Ce)},De.createRef=function(){return{current:null}},De.forwardRef=function(V){return{$$typeof:f,render:V}},De.isValidElement=O,De.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:le}},De.memo=function(V,ne){return{$$typeof:g,type:V,compare:ne===void 0?null:ne}},De.startTransition=function(V){var ne=j.T,fe={};j.T=fe;try{var me=V(),Ce=j.S;Ce!==null&&Ce(fe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(pe,Ae)}catch(Le){Ae(Le)}finally{ne!==null&&fe.types!==null&&(ne.types=fe.types),j.T=ne}},De.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},De.use=function(V){return j.H.use(V)},De.useActionState=function(V,ne,fe){return j.H.useActionState(V,ne,fe)},De.useCallback=function(V,ne){return j.H.useCallback(V,ne)},De.useContext=function(V){return j.H.useContext(V)},De.useDebugValue=function(){},De.useDeferredValue=function(V,ne){return j.H.useDeferredValue(V,ne)},De.useEffect=function(V,ne){return j.H.useEffect(V,ne)},De.useEffectEvent=function(V){return j.H.useEffectEvent(V)},De.useId=function(){return j.H.useId()},De.useImperativeHandle=function(V,ne,fe){return j.H.useImperativeHandle(V,ne,fe)},De.useInsertionEffect=function(V,ne){return j.H.useInsertionEffect(V,ne)},De.useLayoutEffect=function(V,ne){return j.H.useLayoutEffect(V,ne)},De.useMemo=function(V,ne){return j.H.useMemo(V,ne)},De.useOptimistic=function(V,ne){return j.H.useOptimistic(V,ne)},De.useReducer=function(V,ne,fe){return j.H.useReducer(V,ne,fe)},De.useRef=function(V){return j.H.useRef(V)},De.useState=function(V){return j.H.useState(V)},De.useSyncExternalStore=function(V,ne,fe){return j.H.useSyncExternalStore(V,ne,fe)},De.useTransition=function(){return j.H.useTransition()},De.version="19.2.3",De}var Hw;function x_(){return Hw||(Hw=1,By.exports=nN()),By.exports}var N=x_();const Do=LT(N);var Fy={exports:{}},vu={},qy={exports:{}},Hy={};var $w;function rN(){return $w||($w=1,(function(n){function e(Z,de){var le=Z.length;Z.push(de);e:for(;0<le;){var Ae=le-1>>>1,Ue=Z[Ae];if(0<a(Ue,de))Z[Ae]=de,Z[le]=Ue,le=Ae;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var de=Z[0],le=Z.pop();if(le!==de){Z[0]=le;e:for(var Ae=0,Ue=Z.length,V=Ue>>>1;Ae<V;){var ne=2*(Ae+1)-1,fe=Z[ne],me=ne+1,Ce=Z[me];if(0>a(fe,le))me<Ue&&0>a(Ce,fe)?(Z[Ae]=Ce,Z[me]=le,Ae=me):(Z[Ae]=fe,Z[ne]=le,Ae=ne);else if(me<Ue&&0>a(Ce,le))Z[Ae]=Ce,Z[me]=le,Ae=me;else break e}}return de}function a(Z,de){var le=Z.sortIndex-de.sortIndex;return le!==0?le:Z.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var m=[],g=[],_=1,v=null,w=3,S=!1,T=!1,I=!1,D=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ae(Z){for(var de=t(g);de!==null;){if(de.callback===null)r(g);else if(de.startTime<=Z)r(g),de.sortIndex=de.expirationTime,e(m,de);else break;de=t(g)}}function ce(Z){if(I=!1,ae(Z),!T)if(t(m)!==null)T=!0,pe||(pe=!0,B());else{var de=t(g);de!==null&&ht(ce,de.startTime-Z)}}var pe=!1,j=-1,C=5,k=-1;function M(){return D?!0:!(n.unstable_now()-k<C)}function O(){if(D=!1,pe){var Z=n.unstable_now();k=Z;var de=!0;try{e:{T=!1,I&&(I=!1,z(j),j=-1),S=!0;var le=w;try{t:{for(ae(Z),v=t(m);v!==null&&!(v.expirationTime>Z&&M());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,w=v.priorityLevel;var Ue=Ae(v.expirationTime<=Z);if(Z=n.unstable_now(),typeof Ue=="function"){v.callback=Ue,ae(Z),de=!0;break t}v===t(m)&&r(m),ae(Z)}else r(m);v=t(m)}if(v!==null)de=!0;else{var V=t(g);V!==null&&ht(ce,V.startTime-Z),de=!1}}break e}finally{v=null,w=le,S=!1}de=void 0}}finally{de?B():pe=!1}}}var B;if(typeof J=="function")B=function(){J(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,qe=P.port2;P.port1.onmessage=O,B=function(){qe.postMessage(null)}}else B=function(){F(O,0)};function ht(Z,de){j=F(function(){Z(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var le=w;w=de;try{return Z()}finally{w=le}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(Z,de){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var le=w;w=Z;try{return de()}finally{w=le}},n.unstable_scheduleCallback=function(Z,de,le){var Ae=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ae+le:Ae):le=Ae,Z){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=le+Ue,Z={id:_++,callback:de,priorityLevel:Z,startTime:le,expirationTime:Ue,sortIndex:-1},le>Ae?(Z.sortIndex=le,e(g,Z),t(m)===null&&Z===t(g)&&(I?(z(j),j=-1):I=!0,ht(ce,le-Ae))):(Z.sortIndex=Ue,e(m,Z),T||S||(T=!0,pe||(pe=!0,B()))),Z},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Z){var de=w;return function(){var le=w;w=de;try{return Z.apply(this,arguments)}finally{w=le}}}})(Hy)),Hy}var Ww;function sN(){return Ww||(Ww=1,qy.exports=rN()),qy.exports}var $y={exports:{}},wn={};var Gw;function iN(){if(Gw)return wn;Gw=1;var n=x_();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:g,implementation:_}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},wn.flushSync=function(m){var g=d.T,_=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=g,r.p=_,r.d.f()}},wn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},wn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},wn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,v=f(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:S}):_==="script"&&r.d.X(m,{crossOrigin:v,integrity:w,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=f(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},wn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=f(_,g.crossOrigin);r.d.L(m,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=f(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},wn.requestFormReset=function(m){r.d.r(m)},wn.unstable_batchedUpdates=function(m,g){return m(g)},wn.useFormState=function(m,g,_){return d.H.useFormState(m,g,_)},wn.useFormStatus=function(){return d.H.useHostTransitionStatus()},wn.version="19.2.3",wn}var Kw;function VT(){if(Kw)return $y.exports;Kw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$y.exports=iN(),$y.exports}var Yw;function aN(){if(Yw)return vu;Yw=1;var n=sN(),e=x_(),t=VT();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function d(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function f(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(r(188))}function g(s){var i=s.alternate;if(!i){if(i=l(s),i===null)throw Error(r(188));return i!==s?null:s}for(var o=s,c=i;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return m(p),s;if(y===c)return m(p),i;y=y.sibling}throw Error(r(188))}if(o.return!==c.return)o=p,c=y;else{for(var x=!1,A=p.child;A;){if(A===o){x=!0,o=p,c=y;break}if(A===c){x=!0,c=p,o=y;break}A=A.sibling}if(!x){for(A=y.child;A;){if(A===o){x=!0,o=y,c=p;break}if(A===c){x=!0,c=y,o=p;break}A=A.sibling}if(!x)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?s:i}function _(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=_(s),i!==null)return i;s=s.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function qe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case F:return"Profiler";case D:return"StrictMode";case ce:return"Suspense";case pe:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case J:return s.displayName||"Context";case z:return(s._context.displayName||"Context")+".Consumer";case ae:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return i=s.displayName||null,i!==null?i:qe(s.type)||"Memo";case C:i=s._payload,s=s._init;try{return qe(s(i))}catch{}}return null}var ht=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ae=[],Ue=-1;function V(s){return{current:s}}function ne(s){0>Ue||(s.current=Ae[Ue],Ae[Ue]=null,Ue--)}function fe(s,i){Ue++,Ae[Ue]=s.current,s.current=i}var me=V(null),Ce=V(null),Le=V(null),Qe=V(null);function Xt(s,i){switch(fe(Le,i),fe(Ce,s),fe(me,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?uw(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=uw(i),s=dw(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ne(me),fe(me,s)}function vt(){ne(me),ne(Ce),ne(Le)}function Ia(s){s.memoizedState!==null&&fe(Qe,s);var i=me.current,o=dw(i,s.type);i!==o&&(fe(Ce,s),fe(me,o))}function Vo(s){Ce.current===s&&(ne(me),ne(Ce)),Qe.current===s&&(ne(Qe),pu._currentValue=le)}var zo,Uo;function os(s){if(zo===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);zo=i&&i[1]||"",Uo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zo+s+Uo}var pc=!1;function ja(s,i){if(!s||pc)return"";pc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Q){var K=Q}Reflect.construct(s,[],se)}else{try{se.call()}catch(Q){K=Q}s.call(se.prototype)}}else{try{throw Error()}catch(Q){K=Q}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),x=y[0],A=y[1];if(x&&A){var L=x.split(`
`),W=A.split(`
`);for(p=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(c===L.length||p===W.length)for(c=L.length-1,p=W.length-1;1<=c&&0<=p&&L[c]!==W[p];)p--;for(;1<=c&&0<=p;c--,p--)if(L[c]!==W[p]){if(c!==1||p!==1)do if(c--,p--,0>p||L[c]!==W[p]){var ee=`
`+L[c].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=c&&0<=p);break}}}finally{pc=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?os(o):""}function mc(s,i){switch(s.tag){case 26:case 27:case 5:return os(s.type);case 16:return os("Lazy");case 13:return s.child!==i&&i!==null?os("Suspense Fallback"):os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return ja(s.type,!1);case 11:return ja(s.type.render,!1);case 1:return ja(s.type,!0);case 31:return os("Activity");default:return""}}function gc(s){try{var i="",o=null;do i+=mc(s,o),o=s,s=s.return;while(s);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Mt=Object.prototype.hasOwnProperty,Jt=n.unstable_scheduleCallback,Ti=n.unstable_cancelCallback,Fm=n.unstable_shouldYield,Kd=n.unstable_requestPaint,Cn=n.unstable_now,ka=n.unstable_getCurrentPriorityLevel,yc=n.unstable_ImmediatePriority,_c=n.unstable_UserBlockingPriority,Ai=n.unstable_NormalPriority,qm=n.unstable_LowPriority,Yd=n.unstable_IdlePriority,Qd=n.log,Xd=n.unstable_setDisableYieldValue,Pr=null,un=null;function gr(s){if(typeof Qd=="function"&&Xd(s),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Pr,s)}catch{}}var jt=Math.clz32?Math.clz32:Zd,Jd=Math.log,Bo=Math.LN2;function Zd(s){return s>>>=0,s===0?32:31-(Jd(s)/Bo|0)|0}var ls=256,Na=262144,Lt=4194304;function cs(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function us(s,i,o){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var A=c&134217727;return A!==0?(c=A&~y,c!==0?p=cs(c):(x&=A,x!==0?p=cs(x):o||(o=A&~s,o!==0&&(p=cs(o))))):(A=c&~y,A!==0?p=cs(A):x!==0?p=cs(x):o||(o=c&~s,o!==0&&(p=cs(o)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:p}function Mr(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Hm(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eh(){var s=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),s}function ds(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function Da(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $m(s,i,o,c,p,y){var x=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,L=s.expirationTimes,W=s.hiddenUpdates;for(o=x&~o;0<o;){var ee=31-jt(o),se=1<<ee;A[ee]=0,L[ee]=-1;var K=W[ee];if(K!==null)for(W[ee]=null,ee=0;ee<K.length;ee++){var Q=K[ee];Q!==null&&(Q.lane&=-536870913)}o&=~se}c!==0&&Oa(s,c,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~i))}function Oa(s,i,o){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-jt(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function vc(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var c=31-jt(o),p=1<<c;p&i|s[c]&i&&(s[c]|=i),o&=~p}}function bc(s,i){var o=i&-i;return o=(o&42)!==0?1:Pa(o),(o&(s.suspendedLanes|i))!==0?0:o}function Pa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ws(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function th(){var s=de.p;return s!==0?s:(s=window.event,s===void 0?32:Ow(s.type))}function Lr(s,i){var o=de.p;try{return de.p=s,i()}finally{de.p=o}}var Vr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Vr,rn="__reactProps$"+Vr,hs="__reactContainer$"+Vr,Fo="__reactEvents$"+Vr,Wm="__reactListeners$"+Vr,nh="__reactHandles$"+Vr,rh="__reactResources$"+Vr,fs="__reactMarker$"+Vr;function qo(s){delete s[Vt],delete s[rn],delete s[Fo],delete s[Wm],delete s[nh]}function ps(s){var i=s[Vt];if(i)return i;for(var o=s.parentNode;o;){if(i=o[hs]||o[Vt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=_w(s);s!==null;){if(o=s[Vt])return o;s=_w(s)}return i}s=o,o=s.parentNode}return null}function yr(s){if(s=s[Vt]||s[hs]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Xn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function ms(s){var i=s[rh];return i||(i=s[rh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function zt(s){s[fs]=!0}var xc=new Set,wc={};function gs(s,i){ys(s,i),ys(s+"Capture",i)}function ys(s,i){for(wc[s]=i,s=0;s<i.length;s++)xc.add(i[s])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sc={},Tc={};function sh(s){return Mt.call(Tc,s)?!0:Mt.call(Sc,s)?!1:Ec.test(s)?Tc[s]=!0:(Sc[s]=!0,!1)}function Ho(s,i,o){if(sh(i))if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+o)}}function Jn(s,i,o){if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+o)}}function Ut(s,i,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(i,o,""+c)}}function sn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ri(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ac(s,i,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,y=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(x){o=""+x,y.call(this,x)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function rt(s){if(!s._valueTracker){var i=Ri(s)?"checked":"value";s._valueTracker=Ac(s,i,""+s[i])}}function Ma(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return s&&(c=Ri(s)?s.checked?"true":"false":s.value),s=c,s!==o?(i.setValue(s),!0):!1}function _s(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var La=/[\n"\\]/g;function Mn(s){return s.replace(La,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $o(s,i,o,c,p,y,x,A){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),i!=null?x==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+sn(i)):s.value!==""+sn(i)&&(s.value=""+sn(i)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),i!=null?Rc(s,x,sn(i)):o!=null?Rc(s,x,sn(o)):c!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+sn(A):s.removeAttribute("name")}function ih(s,i,o,c,p,y,x,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){rt(s);return}o=o!=null?""+sn(o):"",i=i!=null?""+sn(i):o,A||i===s.value||(s.value=i),s.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=A?s.checked:!!c,s.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),rt(s)}function Rc(s,i,o){i==="number"&&_s(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Ci(s,i,o,c){if(s=s.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=i.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&c&&(s[o].defaultSelected=!0)}else{for(o=""+sn(o),i=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,c&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function ah(s,i,o){if(i!=null&&(i=""+sn(i),i!==s.value&&(s.value=i),o==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=o!=null?""+sn(o):""}function Ii(s,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(ht(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=sn(i),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),rt(s)}function Ln(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var oh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(s,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,o):typeof o!="number"||o===0||oh.has(i)?i==="float"?s.cssFloat=o:s[i]=(""+o).trim():s[i]=o+"px"}function Ic(s,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&o[p]!==c&&Cc(s,p,c)}else for(var y in i)i.hasOwnProperty(y)&&Cc(s,y,i[y])}function Wo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Go(s){return ji.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function zr(){}var jc=null;function _r(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ki=null,vs=null;function Va(s){var i=yr(s);if(i&&(s=i.stateNode)){var o=s[rn]||null;e:switch(s=i.stateNode,i.type){case"input":if($o(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Mn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==s&&c.form===s.form){var p=c[rn]||null;if(!p)throw Error(r(90));$o(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===s.form&&Ma(c)}break e;case"textarea":ah(s,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Ci(s,!!o.multiple,i,!1)}}}var Ko=!1;function Ni(s,i,o){if(Ko)return s(i,o);Ko=!0;try{var c=s(i);return c}finally{if(Ko=!1,(ki!==null||vs!==null)&&(tf(),ki&&(i=ki,s=vs,vs=ki=null,Va(i),s)))for(i=0;i<s.length;i++)Va(s[i])}}function Ur(s,i){var o=s.stateNode;if(o===null)return null;var c=o[rn]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),za=!1;if(vr)try{var at={};Object.defineProperty(at,"passive",{get:function(){za=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{za=!1}var bs=null,kc=null,Ua=null;function Nc(){if(Ua)return Ua;var s,i=kc,o=i.length,c,p="value"in bs?bs.value:bs.textContent,y=p.length;for(s=0;s<o&&i[s]===p[s];s++);var x=o-s;for(c=1;c<=x&&i[o-c]===p[y-c];c++);return Ua=p.slice(s,1<c?1-c:void 0)}function Ba(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Gs(){return!0}function Br(){return!1}function dn(s){function i(o,c,p,y,x){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Gs:Br,this.isPropagationStopped=Br,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),i}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=dn(Ks),Di=v({},Ks,{view:0,detail:0}),Dc=dn(Di),Oi,Yo,ws,Qo=v({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ws&&(ws&&s.type==="mousemove"?(Oi=s.screenX-ws.screenX,Yo=s.screenY-ws.screenY):Yo=Oi=0,ws=s),Oi)},movementY:function(s){return"movementY"in s?s.movementY:Yo}}),Oc=dn(Qo),Fa=v({},Qo,{dataTransfer:0}),ch=dn(Fa),uh=v({},Di,{relatedTarget:0}),qa=dn(uh),Pc=v({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=dn(Pc),Xo=v({},Ks,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),hh=dn(Xo),fh=v({},Ks,{data:0}),Es=dn(fh),ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=gh[s])?!!i[s]:!1}function Pi(){return yh}var In=v({},Di,{key:function(s){if(s.key){var i=ph[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ba(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?mh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pi,charCode:function(s){return s.type==="keypress"?Ba(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ba(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_h=dn(In),vh=v({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=dn(vh),h=v({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pi}),b=dn(h),E=v({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=dn(E),H=v({},Qo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=dn(H),ue=v({},Ks,{newState:0,oldState:0}),Pe=dn(ue),kt=[9,13,27,32],et=vr&&"CompositionEvent"in window,bt=null;vr&&"documentMode"in document&&(bt=document.documentMode);var br=vr&&"TextEvent"in window&&!bt,Ss=vr&&(!et||bt&&8<bt&&11>=bt),Fr=" ",qr=!1;function Ha(s,i){switch(s){case"keyup":return kt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Zo=!1;function Sj(s,i){switch(s){case"compositionend":return Jo(i);case"keypress":return i.which!==32?null:(qr=!0,Fr);case"textInput":return s=i.data,s===Fr&&qr?null:s;default:return null}}function Tj(s,i){if(Zo)return s==="compositionend"||!et&&Ha(s,i)?(s=Nc(),Ua=kc=bs=null,Zo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ss&&i.locale!=="ko"?null:i.data;default:return null}}var Aj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xb(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Aj[s.type]:i==="textarea"}function wb(s,i,o,c){ki?vs?vs.push(c):vs=[c]:ki=c,i=cf(i,"onChange"),0<i.length&&(o=new xs("onChange","change",null,o,c),s.push({event:o,listeners:i}))}var Mc=null,Lc=null;function Rj(s){sw(s,0)}function bh(s){var i=Xn(s);if(Ma(i))return s}function Eb(s,i){if(s==="change")return i}var Sb=!1;if(vr){var Gm;if(vr){var Km="oninput"in document;if(!Km){var Tb=document.createElement("div");Tb.setAttribute("oninput","return;"),Km=typeof Tb.oninput=="function"}Gm=Km}else Gm=!1;Sb=Gm&&(!document.documentMode||9<document.documentMode)}function Ab(){Mc&&(Mc.detachEvent("onpropertychange",Rb),Lc=Mc=null)}function Rb(s){if(s.propertyName==="value"&&bh(Lc)){var i=[];wb(i,Lc,s,_r(s)),Ni(Rj,i)}}function Cj(s,i,o){s==="focusin"?(Ab(),Mc=i,Lc=o,Mc.attachEvent("onpropertychange",Rb)):s==="focusout"&&Ab()}function Ij(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bh(Lc)}function jj(s,i){if(s==="click")return bh(i)}function kj(s,i){if(s==="input"||s==="change")return bh(i)}function Nj(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Zn=typeof Object.is=="function"?Object.is:Nj;function Vc(s,i){if(Zn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Mt.call(i,p)||!Zn(s[p],i[p]))return!1}return!0}function Cb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ib(s,i){var o=Cb(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=i&&c>=i)return{node:o,offset:i-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Cb(o)}}function jb(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?jb(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function kb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=_s(s.document);i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=_s(s.document)}return i}function Ym(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var Dj=vr&&"documentMode"in document&&11>=document.documentMode,el=null,Qm=null,zc=null,Xm=!1;function Nb(s,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xm||el==null||el!==_s(c)||(c=el,"selectionStart"in c&&Ym(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zc&&Vc(zc,c)||(zc=c,c=cf(Qm,"onSelect"),0<c.length&&(i=new xs("onSelect","select",null,i,o),s.push({event:i,listeners:c}),i.target=el)))}function $a(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var tl={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Jm={},Db={};vr&&(Db=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Wa(s){if(Jm[s])return Jm[s];if(!tl[s])return s;var i=tl[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in Db)return Jm[s]=i[o];return s}var Ob=Wa("animationend"),Pb=Wa("animationiteration"),Mb=Wa("animationstart"),Oj=Wa("transitionrun"),Pj=Wa("transitionstart"),Mj=Wa("transitioncancel"),Lb=Wa("transitionend"),Vb=new Map,Zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zm.push("scrollEnd");function Hr(s,i){Vb.set(s,i),gs(i,[s])}var xh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},xr=[],nl=0,eg=0;function wh(){for(var s=nl,i=eg=nl=0;i<s;){var o=xr[i];xr[i++]=null;var c=xr[i];xr[i++]=null;var p=xr[i];xr[i++]=null;var y=xr[i];if(xr[i++]=null,c!==null&&p!==null){var x=c.pending;x===null?p.next=p:(p.next=x.next,x.next=p),c.pending=p}y!==0&&zb(o,p,y)}}function Eh(s,i,o,c){xr[nl++]=s,xr[nl++]=i,xr[nl++]=o,xr[nl++]=c,eg|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function tg(s,i,o,c){return Eh(s,i,o,c),Sh(s)}function Ga(s,i){return Eh(s,null,null,i),Sh(s)}function zb(s,i,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var p=!1,y=s.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&i!==null&&(p=31-jt(o),s=y.hiddenUpdates,c=s[p],c===null?s[p]=[i]:c.push(i),i.lane=o|536870912),y):null}function Sh(s){if(50<ou)throw ou=0,uy=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var rl={};function Lj(s,i,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(s,i,o,c){return new Lj(s,i,o,c)}function ng(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qs(s,i){var o=s.alternate;return o===null?(o=er(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Ub(s,i){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function Th(s,i,o,c,p,y){var x=0;if(c=s,typeof s=="function")ng(s)&&(x=1);else if(typeof s=="string")x=Fk(s,o,me.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=er(31,o,i,p),s.elementType=k,s.lanes=y,s;case I:return Ka(o.children,p,y,i);case D:x=8,p|=24;break;case F:return s=er(12,o,i,p|2),s.elementType=F,s.lanes=y,s;case ce:return s=er(13,o,i,p),s.elementType=ce,s.lanes=y,s;case pe:return s=er(19,o,i,p),s.elementType=pe,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case J:x=10;break e;case z:x=9;break e;case ae:x=11;break e;case j:x=14;break e;case C:x=16,c=null;break e}x=29,o=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=er(x,o,i,p),i.elementType=s,i.type=c,i.lanes=y,i}function Ka(s,i,o,c){return s=er(7,s,c,i),s.lanes=o,s}function rg(s,i,o){return s=er(6,s,null,i),s.lanes=o,s}function Bb(s){var i=er(18,null,null,0);return i.stateNode=s,i}function sg(s,i,o){return i=er(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Fb=new WeakMap;function wr(s,i){if(typeof s=="object"&&s!==null){var o=Fb.get(s);return o!==void 0?o:(i={value:s,source:i,stack:gc(i)},Fb.set(s,i),i)}return{value:s,source:i,stack:gc(i)}}var sl=[],il=0,Ah=null,Uc=0,Er=[],Sr=0,Mi=null,Ts=1,As="";function Xs(s,i){sl[il++]=Uc,sl[il++]=Ah,Ah=s,Uc=i}function qb(s,i,o){Er[Sr++]=Ts,Er[Sr++]=As,Er[Sr++]=Mi,Mi=s;var c=Ts;s=As;var p=32-jt(c)-1;c&=~(1<<p),o+=1;var y=32-jt(i)+p;if(30<y){var x=p-p%5;y=(c&(1<<x)-1).toString(32),c>>=x,p-=x,Ts=1<<32-jt(i)+p|o<<p|c,As=y+s}else Ts=1<<y|o<<p|c,As=s}function ig(s){s.return!==null&&(Xs(s,1),qb(s,1,0))}function ag(s){for(;s===Ah;)Ah=sl[--il],sl[il]=null,Uc=sl[--il],sl[il]=null;for(;s===Mi;)Mi=Er[--Sr],Er[Sr]=null,As=Er[--Sr],Er[Sr]=null,Ts=Er[--Sr],Er[Sr]=null}function Hb(s,i){Er[Sr++]=Ts,Er[Sr++]=As,Er[Sr++]=Mi,Ts=i.id,As=i.overflow,Mi=s}var hn=null,gt=null,Ye=!1,Li=null,Tr=!1,og=Error(r(519));function Vi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bc(wr(i,s)),og}function $b(s){var i=s.stateNode,o=s.type,c=s.memoizedProps;switch(i[Vt]=s,i[rn]=c,o){case"dialog":Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":case"embed":Fe("load",i);break;case"video":case"audio":for(o=0;o<cu.length;o++)Fe(cu[o],i);break;case"source":Fe("error",i);break;case"img":case"image":case"link":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"input":Fe("invalid",i),ih(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Fe("invalid",i);break;case"textarea":Fe("invalid",i),Ii(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||lw(i.textContent,o)?(c.popover!=null&&(Fe("beforetoggle",i),Fe("toggle",i)),c.onScroll!=null&&Fe("scroll",i),c.onScrollEnd!=null&&Fe("scrollend",i),c.onClick!=null&&(i.onclick=zr),i=!0):i=!1,i||Vi(s,!0)}function Wb(s){for(hn=s.return;hn;)switch(hn.tag){case 5:case 31:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:hn=hn.return}}function al(s){if(s!==hn)return!1;if(!Ye)return Wb(s),Ye=!0,!1;var i=s.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Ty(s.type,s.memoizedProps)),o=!o),o&&gt&&Vi(s),Wb(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));gt=yw(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));gt=yw(s)}else i===27?(i=gt,Ji(s.type)?(s=jy,jy=null,gt=s):gt=i):gt=hn?Rr(s.stateNode.nextSibling):null;return!0}function Ya(){gt=hn=null,Ye=!1}function lg(){var s=Li;return s!==null&&(Bn===null?Bn=s:Bn.push.apply(Bn,s),Li=null),s}function Bc(s){Li===null?Li=[s]:Li.push(s)}var cg=V(null),Qa=null,Js=null;function zi(s,i,o){fe(cg,i._currentValue),i._currentValue=o}function Zs(s){s._currentValue=cg.current,ne(cg)}function ug(s,i,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===o)break;s=s.return}}function dg(s,i,o,c){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var x=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var L=0;L<i.length;L++)if(A.context===i[L]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),ug(y.return,o,s),c||(x=null);break e}y=A.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=o,y=x.alternate,y!==null&&(y.lanes|=o),ug(x,o,s),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===s){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function ol(s,i,o,c){s=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var A=p.type;Zn(p.pendingProps.value,x.value)||(s!==null?s.push(A):s=[A])}}else if(p===Qe.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(pu):s=[pu])}p=p.return}s!==null&&dg(i,s,o,c),i.flags|=262144}function Rh(s){for(s=s.firstContext;s!==null;){if(!Zn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Xa(s){Qa=s,Js=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fn(s){return Gb(Qa,s)}function Ch(s,i){return Qa===null&&Xa(s),Gb(s,i)}function Gb(s,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Js===null){if(s===null)throw Error(r(308));Js=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Js=Js.next=i;return o}var Vj=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(o){return o()})}},zj=n.unstable_scheduleCallback,Uj=n.unstable_NormalPriority,Bt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hg(){return{controller:new Vj,data:new Map,refCount:0}}function Fc(s){s.refCount--,s.refCount===0&&zj(Uj,function(){s.controller.abort()})}var qc=null,fg=0,ll=0,cl=null;function Bj(s,i){if(qc===null){var o=qc=[];fg=0,ll=gy(),cl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return fg++,i.then(Kb,Kb),i}function Kb(){if(--fg===0&&qc!==null){cl!==null&&(cl.status="fulfilled");var s=qc;qc=null,ll=0,cl=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function Fj(s,i){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var Yb=Z.S;Z.S=function(s,i){N1=Cn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Bj(s,i),Yb!==null&&Yb(s,i)};var Ja=V(null);function pg(){var s=Ja.current;return s!==null?s:ft.pooledCache}function Ih(s,i){i===null?fe(Ja,Ja.current):fe(Ja,i.pool)}function Qb(){var s=pg();return s===null?null:{parent:Bt._currentValue,pool:s}}var ul=Error(r(460)),mg=Error(r(474)),jh=Error(r(542)),kh={then:function(){}};function Xb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Jb(s,i,o){switch(o=s[o],o===void 0?s.push(i):o!==i&&(i.then(zr,zr),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,ex(s),s;default:if(typeof i.status=="string")i.then(zr,zr);else{if(s=ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,ex(s),s}throw eo=i,ul}}function Za(s){try{var i=s._init;return i(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(eo=o,ul):o}}var eo=null;function Zb(){if(eo===null)throw Error(r(459));var s=eo;return eo=null,s}function ex(s){if(s===ul||s===jh)throw Error(r(483))}var dl=null,Hc=0;function Nh(s){var i=Hc;return Hc+=1,dl===null&&(dl=[]),Jb(dl,s,i)}function $c(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Dh(s,i){throw i.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function tx(s){function i(q,U){if(s){var $=q.deletions;$===null?(q.deletions=[U],q.flags|=16):$.push(U)}}function o(q,U){if(!s)return null;for(;U!==null;)i(q,U),U=U.sibling;return null}function c(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function p(q,U){return q=Qs(q,U),q.index=0,q.sibling=null,q}function y(q,U,$){return q.index=$,s?($=q.alternate,$!==null?($=$.index,$<U?(q.flags|=67108866,U):$):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function x(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function A(q,U,$,re){return U===null||U.tag!==6?(U=rg($,q.mode,re),U.return=q,U):(U=p(U,$),U.return=q,U)}function L(q,U,$,re){var Se=$.type;return Se===I?ee(q,U,$.props.children,re,$.key):U!==null&&(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&Za(Se)===U.type)?(U=p(U,$.props),$c(U,$),U.return=q,U):(U=Th($.type,$.key,$.props,null,q.mode,re),$c(U,$),U.return=q,U)}function W(q,U,$,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=sg($,q.mode,re),U.return=q,U):(U=p(U,$.children||[]),U.return=q,U)}function ee(q,U,$,re,Se){return U===null||U.tag!==7?(U=Ka($,q.mode,re,Se),U.return=q,U):(U=p(U,$),U.return=q,U)}function se(q,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=rg(""+U,q.mode,$),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return $=Th(U.type,U.key,U.props,null,q.mode,$),$c($,U),$.return=q,$;case T:return U=sg(U,q.mode,$),U.return=q,U;case C:return U=Za(U),se(q,U,$)}if(ht(U)||B(U))return U=Ka(U,q.mode,$,null),U.return=q,U;if(typeof U.then=="function")return se(q,Nh(U),$);if(U.$$typeof===J)return se(q,Ch(q,U),$);Dh(q,U)}return null}function K(q,U,$,re){var Se=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Se!==null?null:A(q,U,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===Se?L(q,U,$,re):null;case T:return $.key===Se?W(q,U,$,re):null;case C:return $=Za($),K(q,U,$,re)}if(ht($)||B($))return Se!==null?null:ee(q,U,$,re,null);if(typeof $.then=="function")return K(q,U,Nh($),re);if($.$$typeof===J)return K(q,U,Ch(q,$),re);Dh(q,$)}return null}function Q(q,U,$,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get($)||null,A(U,q,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return q=q.get(re.key===null?$:re.key)||null,L(U,q,re,Se);case T:return q=q.get(re.key===null?$:re.key)||null,W(U,q,re,Se);case C:return re=Za(re),Q(q,U,$,re,Se)}if(ht(re)||B(re))return q=q.get($)||null,ee(U,q,re,Se,null);if(typeof re.then=="function")return Q(q,U,$,Nh(re),Se);if(re.$$typeof===J)return Q(q,U,$,Ch(U,re),Se);Dh(U,re)}return null}function ve(q,U,$,re){for(var Se=null,Je=null,xe=U,Ve=U=0,$e=null;xe!==null&&Ve<$.length;Ve++){xe.index>Ve?($e=xe,xe=null):$e=xe.sibling;var Ze=K(q,xe,$[Ve],re);if(Ze===null){xe===null&&(xe=$e);break}s&&xe&&Ze.alternate===null&&i(q,xe),U=y(Ze,U,Ve),Je===null?Se=Ze:Je.sibling=Ze,Je=Ze,xe=$e}if(Ve===$.length)return o(q,xe),Ye&&Xs(q,Ve),Se;if(xe===null){for(;Ve<$.length;Ve++)xe=se(q,$[Ve],re),xe!==null&&(U=y(xe,U,Ve),Je===null?Se=xe:Je.sibling=xe,Je=xe);return Ye&&Xs(q,Ve),Se}for(xe=c(xe);Ve<$.length;Ve++)$e=Q(xe,q,Ve,$[Ve],re),$e!==null&&(s&&$e.alternate!==null&&xe.delete($e.key===null?Ve:$e.key),U=y($e,U,Ve),Je===null?Se=$e:Je.sibling=$e,Je=$e);return s&&xe.forEach(function(ra){return i(q,ra)}),Ye&&Xs(q,Ve),Se}function Re(q,U,$,re){if($==null)throw Error(r(151));for(var Se=null,Je=null,xe=U,Ve=U=0,$e=null,Ze=$.next();xe!==null&&!Ze.done;Ve++,Ze=$.next()){xe.index>Ve?($e=xe,xe=null):$e=xe.sibling;var ra=K(q,xe,Ze.value,re);if(ra===null){xe===null&&(xe=$e);break}s&&xe&&ra.alternate===null&&i(q,xe),U=y(ra,U,Ve),Je===null?Se=ra:Je.sibling=ra,Je=ra,xe=$e}if(Ze.done)return o(q,xe),Ye&&Xs(q,Ve),Se;if(xe===null){for(;!Ze.done;Ve++,Ze=$.next())Ze=se(q,Ze.value,re),Ze!==null&&(U=y(Ze,U,Ve),Je===null?Se=Ze:Je.sibling=Ze,Je=Ze);return Ye&&Xs(q,Ve),Se}for(xe=c(xe);!Ze.done;Ve++,Ze=$.next())Ze=Q(xe,q,Ve,Ze.value,re),Ze!==null&&(s&&Ze.alternate!==null&&xe.delete(Ze.key===null?Ve:Ze.key),U=y(Ze,U,Ve),Je===null?Se=Ze:Je.sibling=Ze,Je=Ze);return s&&xe.forEach(function(Zk){return i(q,Zk)}),Ye&&Xs(q,Ve),Se}function ct(q,U,$,re){if(typeof $=="object"&&$!==null&&$.type===I&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:e:{for(var Se=$.key;U!==null;){if(U.key===Se){if(Se=$.type,Se===I){if(U.tag===7){o(q,U.sibling),re=p(U,$.props.children),re.return=q,q=re;break e}}else if(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&Za(Se)===U.type){o(q,U.sibling),re=p(U,$.props),$c(re,$),re.return=q,q=re;break e}o(q,U);break}else i(q,U);U=U.sibling}$.type===I?(re=Ka($.props.children,q.mode,re,$.key),re.return=q,q=re):(re=Th($.type,$.key,$.props,null,q.mode,re),$c(re,$),re.return=q,q=re)}return x(q);case T:e:{for(Se=$.key;U!==null;){if(U.key===Se)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){o(q,U.sibling),re=p(U,$.children||[]),re.return=q,q=re;break e}else{o(q,U);break}else i(q,U);U=U.sibling}re=sg($,q.mode,re),re.return=q,q=re}return x(q);case C:return $=Za($),ct(q,U,$,re)}if(ht($))return ve(q,U,$,re);if(B($)){if(Se=B($),typeof Se!="function")throw Error(r(150));return $=Se.call($),Re(q,U,$,re)}if(typeof $.then=="function")return ct(q,U,Nh($),re);if($.$$typeof===J)return ct(q,U,Ch(q,$),re);Dh(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(o(q,U.sibling),re=p(U,$),re.return=q,q=re):(o(q,U),re=rg($,q.mode,re),re.return=q,q=re),x(q)):o(q,U)}return function(q,U,$,re){try{Hc=0;var Se=ct(q,U,$,re);return dl=null,Se}catch(xe){if(xe===ul||xe===jh)throw xe;var Je=er(29,xe,null,q.mode);return Je.lanes=re,Je.return=q,Je}}}var to=tx(!0),nx=tx(!1),Ui=!1;function gg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yg(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Bi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fi(s,i,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(tt&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Sh(s),zb(s,null,o),i}return Eh(s,c,i,o),Sh(s)}function Wc(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,vc(s,o)}}function _g(s,i){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=x:y=y.next=x,o=o.next}while(o!==null);y===null?p=y=i:y=y.next=i}else p=y=i;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}var vg=!1;function Gc(){if(vg){var s=cl;if(s!==null)throw s}}function Kc(s,i,o,c){vg=!1;var p=s.updateQueue;Ui=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var L=A,W=L.next;L.next=null,x===null?y=W:x.next=W,x=L;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==x&&(A===null?ee.firstBaseUpdate=W:A.next=W,ee.lastBaseUpdate=L))}if(y!==null){var se=p.baseState;x=0,ee=W=L=null,A=y;do{var K=A.lane&-536870913,Q=K!==A.lane;if(Q?(He&K)===K:(c&K)===K){K!==0&&K===ll&&(vg=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=s,Re=A;K=i;var ct=o;switch(Re.tag){case 1:if(ve=Re.payload,typeof ve=="function"){se=ve.call(ct,se,K);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Re.payload,K=typeof ve=="function"?ve.call(ct,se,K):ve,K==null)break e;se=v({},se,K);break e;case 2:Ui=!0}}K=A.callback,K!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(W=ee=Q,L=se):ee=ee.next=Q,x|=K;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);ee===null&&(L=se),p.baseState=L,p.firstBaseUpdate=W,p.lastBaseUpdate=ee,y===null&&(p.shared.lanes=0),Gi|=x,s.lanes=x,s.memoizedState=se}}function rx(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function sx(s,i){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)rx(o[s],i)}var hl=V(null),Oh=V(0);function ix(s,i){s=li,fe(Oh,s),fe(hl,i),li=s|i.baseLanes}function bg(){fe(Oh,li),fe(hl,hl.current)}function xg(){li=Oh.current,ne(hl),ne(Oh)}var tr=V(null),Ar=null;function qi(s){var i=s.alternate;fe(Nt,Nt.current&1),fe(tr,s),Ar===null&&(i===null||hl.current!==null||i.memoizedState!==null)&&(Ar=s)}function wg(s){fe(Nt,Nt.current),fe(tr,s),Ar===null&&(Ar=s)}function ax(s){s.tag===22?(fe(Nt,Nt.current),fe(tr,s),Ar===null&&(Ar=s)):Hi()}function Hi(){fe(Nt,Nt.current),fe(tr,tr.current)}function nr(s){ne(tr),Ar===s&&(Ar=null),ne(Nt)}var Nt=V(0);function Ph(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Cy(o)||Iy(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ei=0,Me=null,ot=null,Ft=null,Mh=!1,fl=!1,no=!1,Lh=0,Yc=0,pl=null,qj=0;function St(){throw Error(r(321))}function Eg(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Zn(s[o],i[o]))return!1;return!0}function Sg(s,i,o,c,p,y){return ei=y,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Z.H=s===null||s.memoizedState===null?qx:zg,no=!1,y=o(c,p),no=!1,fl&&(y=lx(i,o,c,p)),ox(s),y}function ox(s){Z.H=Jc;var i=ot!==null&&ot.next!==null;if(ei=0,Ft=ot=Me=null,Mh=!1,Yc=0,pl=null,i)throw Error(r(300));s===null||qt||(s=s.dependencies,s!==null&&Rh(s)&&(qt=!0))}function lx(s,i,o,c){Me=s;var p=0;do{if(fl&&(pl=null),Yc=0,fl=!1,25<=p)throw Error(r(301));if(p+=1,Ft=ot=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=Hx,y=i(o,c)}while(fl);return y}function Hj(){var s=Z.H,i=s.useState()[0];return i=typeof i.then=="function"?Qc(i):i,s=s.useState()[0],(ot!==null?ot.memoizedState:null)!==s&&(Me.flags|=1024),i}function Tg(){var s=Lh!==0;return Lh=0,s}function Ag(s,i,o){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~o}function Rg(s){if(Mh){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Mh=!1}ei=0,Ft=ot=Me=null,fl=!1,Yc=Lh=0,pl=null}function jn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Me.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function Dt(){if(ot===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=ot.next;var i=Ft===null?Me.memoizedState:Ft.next;if(i!==null)Ft=i,ot=s;else{if(s===null)throw Me.alternate===null?Error(r(467)):Error(r(310));ot=s,s={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ft===null?Me.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qc(s){var i=Yc;return Yc+=1,pl===null&&(pl=[]),s=Jb(pl,s,i),i=Me,(Ft===null?i.memoizedState:Ft.next)===null&&(i=i.alternate,Z.H=i===null||i.memoizedState===null?qx:zg),s}function zh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Qc(s);if(s.$$typeof===J)return fn(s)}throw Error(r(438,String(s)))}function Cg(s){var i=null,o=Me.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Vh(),Me.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(s),c=0;c<s;c++)o[c]=M;return i.index++,o}function ti(s,i){return typeof i=="function"?i(s):i}function Uh(s){var i=Dt();return Ig(i,ot,s)}function Ig(s,i,o){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=s.baseQueue,y=c.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}i.baseQueue=p=y,c.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{i=p.next;var A=x=null,L=null,W=i,ee=!1;do{var se=W.lane&-536870913;if(se!==W.lane?(He&se)===se:(ei&se)===se){var K=W.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),se===ll&&(ee=!0);else if((ei&K)===K){W=W.next,K===ll&&(ee=!0);continue}else se={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(A=L=se,x=y):L=L.next=se,Me.lanes|=K,Gi|=K;se=W.action,no&&o(y,se),y=W.hasEagerState?W.eagerState:o(y,se)}else K={lane:se,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(A=L=K,x=y):L=L.next=K,Me.lanes|=se,Gi|=se;W=W.next}while(W!==null&&W!==i);if(L===null?x=y:L.next=A,!Zn(y,s.memoizedState)&&(qt=!0,ee&&(o=cl,o!==null)))throw o;s.memoizedState=y,s.baseState=x,s.baseQueue=L,c.lastRenderedState=y}return p===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function jg(s){var i=Dt(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=o.dispatch,p=o.pending,y=i.memoizedState;if(p!==null){o.pending=null;var x=p=p.next;do y=s(y,x.action),x=x.next;while(x!==p);Zn(y,i.memoizedState)||(qt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,c]}function cx(s,i,o){var c=Me,p=Dt(),y=Ye;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=i();var x=!Zn((ot||p).memoizedState,o);if(x&&(p.memoizedState=o,qt=!0),p=p.queue,Dg(hx.bind(null,c,p,s),[s]),p.getSnapshot!==i||x||Ft!==null&&Ft.memoizedState.tag&1){if(c.flags|=2048,ml(9,{destroy:void 0},dx.bind(null,c,p,o,i),null),ft===null)throw Error(r(349));y||(ei&127)!==0||ux(c,i,o)}return o}function ux(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=Me.updateQueue,i===null?(i=Vh(),Me.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function dx(s,i,o,c){i.value=o,i.getSnapshot=c,fx(i)&&px(s)}function hx(s,i,o){return o(function(){fx(i)&&px(s)})}function fx(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Zn(s,o)}catch{return!0}}function px(s){var i=Ga(s,2);i!==null&&Fn(i,s,2)}function kg(s){var i=jn();if(typeof s=="function"){var o=s;if(s=o(),no){gr(!0);try{o()}finally{gr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:s},i}function mx(s,i,o,c){return s.baseState=o,Ig(s,ot,typeof c=="function"?c:ti)}function $j(s,i,o,c,p){if(qh(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};Z.T!==null?o(!0):y.isTransition=!1,c(y),o=i.pending,o===null?(y.next=i.pending=y,gx(i,y)):(y.next=o.next,i.pending=o.next=y)}}function gx(s,i){var o=i.action,c=i.payload,p=s.state;if(i.isTransition){var y=Z.T,x={};Z.T=x;try{var A=o(p,c),L=Z.S;L!==null&&L(x,A),yx(s,i,A)}catch(W){Ng(s,i,W)}finally{y!==null&&x.types!==null&&(y.types=x.types),Z.T=y}}else try{y=o(p,c),yx(s,i,y)}catch(W){Ng(s,i,W)}}function yx(s,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){_x(s,i,c)},function(c){return Ng(s,i,c)}):_x(s,i,o)}function _x(s,i,o){i.status="fulfilled",i.value=o,vx(i),s.state=o,i=s.pending,i!==null&&(o=i.next,o===i?s.pending=null:(o=o.next,i.next=o,gx(s,o)))}function Ng(s,i,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,vx(i),i=i.next;while(i!==c)}s.action=null}function vx(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function bx(s,i){return i}function xx(s,i){if(Ye){var o=ft.formState;if(o!==null){e:{var c=Me;if(Ye){if(gt){t:{for(var p=gt,y=Tr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Rr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){gt=Rr(p.nextSibling),c=p.data==="F!";break e}}Vi(c)}c=!1}c&&(i=o[0])}}return o=jn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bx,lastRenderedState:i},o.queue=c,o=Ux.bind(null,Me,c),c.dispatch=o,c=kg(!1),y=Vg.bind(null,Me,!1,c.queue),c=jn(),p={state:i,dispatch:null,action:s,pending:null},c.queue=p,o=$j.bind(null,Me,p,y,o),p.dispatch=o,c.memoizedState=s,[i,o,!1]}function wx(s){var i=Dt();return Ex(i,ot,s)}function Ex(s,i,o){if(i=Ig(s,i,bx)[0],s=Uh(ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Qc(i)}catch(x){throw x===ul?jh:x}else c=i;i=Dt();var p=i.queue,y=p.dispatch;return o!==i.memoizedState&&(Me.flags|=2048,ml(9,{destroy:void 0},Wj.bind(null,p,o),null)),[c,y,s]}function Wj(s,i){s.action=i}function Sx(s){var i=Dt(),o=ot;if(o!==null)return Ex(i,o,s);Dt(),i=i.memoizedState,o=Dt();var c=o.queue.dispatch;return o.memoizedState=s,[i,c,!1]}function ml(s,i,o,c){return s={tag:s,create:o,deps:c,inst:i,next:null},i=Me.updateQueue,i===null&&(i=Vh(),Me.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,i.lastEffect=s),s}function Tx(){return Dt().memoizedState}function Bh(s,i,o,c){var p=jn();Me.flags|=s,p.memoizedState=ml(1|i,{destroy:void 0},o,c===void 0?null:c)}function Fh(s,i,o,c){var p=Dt();c=c===void 0?null:c;var y=p.memoizedState.inst;ot!==null&&c!==null&&Eg(c,ot.memoizedState.deps)?p.memoizedState=ml(i,y,o,c):(Me.flags|=s,p.memoizedState=ml(1|i,y,o,c))}function Ax(s,i){Bh(8390656,8,s,i)}function Dg(s,i){Fh(2048,8,s,i)}function Gj(s){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=Vh(),Me.updateQueue=i,i.events=[s];else{var o=i.events;o===null?i.events=[s]:o.push(s)}}function Rx(s){var i=Dt().memoizedState;return Gj({ref:i,nextImpl:s}),function(){if((tt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Cx(s,i){return Fh(4,2,s,i)}function Ix(s,i){return Fh(4,4,s,i)}function jx(s,i){if(typeof i=="function"){s=s();var o=i(s);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function kx(s,i,o){o=o!=null?o.concat([s]):null,Fh(4,4,jx.bind(null,i,s),o)}function Og(){}function Nx(s,i){var o=Dt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Eg(i,c[1])?c[0]:(o.memoizedState=[s,i],s)}function Dx(s,i){var o=Dt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Eg(i,c[1]))return c[0];if(c=s(),no){gr(!0);try{s()}finally{gr(!1)}}return o.memoizedState=[c,i],c}function Pg(s,i,o){return o===void 0||(ei&1073741824)!==0&&(He&261930)===0?s.memoizedState=i:(s.memoizedState=o,s=O1(),Me.lanes|=s,Gi|=s,o)}function Ox(s,i,o,c){return Zn(o,i)?o:hl.current!==null?(s=Pg(s,o,c),Zn(s,i)||(qt=!0),s):(ei&42)===0||(ei&1073741824)!==0&&(He&261930)===0?(qt=!0,s.memoizedState=o):(s=O1(),Me.lanes|=s,Gi|=s,i)}function Px(s,i,o,c,p){var y=de.p;de.p=y!==0&&8>y?y:8;var x=Z.T,A={};Z.T=A,Vg(s,!1,i,o);try{var L=p(),W=Z.S;if(W!==null&&W(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ee=Fj(L,c);Xc(s,i,ee,ir(s))}else Xc(s,i,c,ir(s))}catch(se){Xc(s,i,{then:function(){},status:"rejected",reason:se},ir())}finally{de.p=y,x!==null&&A.types!==null&&(x.types=A.types),Z.T=x}}function Kj(){}function Mg(s,i,o,c){if(s.tag!==5)throw Error(r(476));var p=Mx(s).queue;Px(s,p,i,le,o===null?Kj:function(){return Lx(s),o(c)})}function Mx(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:le},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:o},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function Lx(s){var i=Mx(s);i.next===null&&(i=s.alternate.memoizedState),Xc(s,i.next.queue,{},ir())}function Lg(){return fn(pu)}function Vx(){return Dt().memoizedState}function zx(){return Dt().memoizedState}function Yj(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var o=ir();s=Bi(o);var c=Fi(i,s,o);c!==null&&(Fn(c,i,o),Wc(c,i,o)),i={cache:hg()},s.payload=i;return}i=i.return}}function Qj(s,i,o){var c=ir();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qh(s)?Bx(i,o):(o=tg(s,i,o,c),o!==null&&(Fn(o,s,c),Fx(o,i,c)))}function Ux(s,i,o){var c=ir();Xc(s,i,o,c)}function Xc(s,i,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(qh(s))Bx(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,A=y(x,o);if(p.hasEagerState=!0,p.eagerState=A,Zn(A,x))return Eh(s,i,p,0),ft===null&&wh(),!1}catch{}if(o=tg(s,i,p,c),o!==null)return Fn(o,s,c),Fx(o,i,c),!0}return!1}function Vg(s,i,o,c){if(c={lane:2,revertLane:gy(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},qh(s)){if(i)throw Error(r(479))}else i=tg(s,o,c,2),i!==null&&Fn(i,s,2)}function qh(s){var i=s.alternate;return s===Me||i!==null&&i===Me}function Bx(s,i){fl=Mh=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function Fx(s,i,o){if((o&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,vc(s,o)}}var Jc={readContext:fn,use:zh,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};Jc.useEffectEvent=St;var qx={readContext:fn,use:zh,useCallback:function(s,i){return jn().memoizedState=[s,i===void 0?null:i],s},useContext:fn,useEffect:Ax,useImperativeHandle:function(s,i,o){o=o!=null?o.concat([s]):null,Bh(4194308,4,jx.bind(null,i,s),o)},useLayoutEffect:function(s,i){return Bh(4194308,4,s,i)},useInsertionEffect:function(s,i){Bh(4,2,s,i)},useMemo:function(s,i){var o=jn();i=i===void 0?null:i;var c=s();if(no){gr(!0);try{s()}finally{gr(!1)}}return o.memoizedState=[c,i],c},useReducer:function(s,i,o){var c=jn();if(o!==void 0){var p=o(i);if(no){gr(!0);try{o(i)}finally{gr(!1)}}}else p=i;return c.memoizedState=c.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},c.queue=s,s=s.dispatch=Qj.bind(null,Me,s),[c.memoizedState,s]},useRef:function(s){var i=jn();return s={current:s},i.memoizedState=s},useState:function(s){s=kg(s);var i=s.queue,o=Ux.bind(null,Me,i);return i.dispatch=o,[s.memoizedState,o]},useDebugValue:Og,useDeferredValue:function(s,i){var o=jn();return Pg(o,s,i)},useTransition:function(){var s=kg(!1);return s=Px.bind(null,Me,s.queue,!0,!1),jn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,o){var c=Me,p=jn();if(Ye){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),ft===null)throw Error(r(349));(He&127)!==0||ux(c,i,o)}p.memoizedState=o;var y={value:o,getSnapshot:i};return p.queue=y,Ax(hx.bind(null,c,y,s),[s]),c.flags|=2048,ml(9,{destroy:void 0},dx.bind(null,c,y,o,i),null),o},useId:function(){var s=jn(),i=ft.identifierPrefix;if(Ye){var o=As,c=Ts;o=(c&~(1<<32-jt(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Lh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=qj++,i="_"+i+"r_"+o.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Lg,useFormState:xx,useActionState:xx,useOptimistic:function(s){var i=jn();i.memoizedState=i.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Vg.bind(null,Me,!0,o),o.dispatch=i,[s,i]},useMemoCache:Cg,useCacheRefresh:function(){return jn().memoizedState=Yj.bind(null,Me)},useEffectEvent:function(s){var i=jn(),o={impl:s};return i.memoizedState=o,function(){if((tt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},zg={readContext:fn,use:zh,useCallback:Nx,useContext:fn,useEffect:Dg,useImperativeHandle:kx,useInsertionEffect:Cx,useLayoutEffect:Ix,useMemo:Dx,useReducer:Uh,useRef:Tx,useState:function(){return Uh(ti)},useDebugValue:Og,useDeferredValue:function(s,i){var o=Dt();return Ox(o,ot.memoizedState,s,i)},useTransition:function(){var s=Uh(ti)[0],i=Dt().memoizedState;return[typeof s=="boolean"?s:Qc(s),i]},useSyncExternalStore:cx,useId:Vx,useHostTransitionStatus:Lg,useFormState:wx,useActionState:wx,useOptimistic:function(s,i){var o=Dt();return mx(o,ot,s,i)},useMemoCache:Cg,useCacheRefresh:zx};zg.useEffectEvent=Rx;var Hx={readContext:fn,use:zh,useCallback:Nx,useContext:fn,useEffect:Dg,useImperativeHandle:kx,useInsertionEffect:Cx,useLayoutEffect:Ix,useMemo:Dx,useReducer:jg,useRef:Tx,useState:function(){return jg(ti)},useDebugValue:Og,useDeferredValue:function(s,i){var o=Dt();return ot===null?Pg(o,s,i):Ox(o,ot.memoizedState,s,i)},useTransition:function(){var s=jg(ti)[0],i=Dt().memoizedState;return[typeof s=="boolean"?s:Qc(s),i]},useSyncExternalStore:cx,useId:Vx,useHostTransitionStatus:Lg,useFormState:Sx,useActionState:Sx,useOptimistic:function(s,i){var o=Dt();return ot!==null?mx(o,ot,s,i):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Cg,useCacheRefresh:zx};Hx.useEffectEvent=Rx;function Ug(s,i,o,c){i=s.memoizedState,o=o(c,i),o=o==null?i:v({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Bg={enqueueSetState:function(s,i,o){s=s._reactInternals;var c=ir(),p=Bi(c);p.payload=i,o!=null&&(p.callback=o),i=Fi(s,p,c),i!==null&&(Fn(i,s,c),Wc(i,s,c))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var c=ir(),p=Bi(c);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=Fi(s,p,c),i!==null&&(Fn(i,s,c),Wc(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=ir(),c=Bi(o);c.tag=2,i!=null&&(c.callback=i),i=Fi(s,c,o),i!==null&&(Fn(i,s,o),Wc(i,s,o))}};function $x(s,i,o,c,p,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,x):i.prototype&&i.prototype.isPureReactComponent?!Vc(o,c)||!Vc(p,y):!0}function Wx(s,i,o,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==s&&Bg.enqueueReplaceState(i,i.state,null)}function ro(s,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(s=s.defaultProps){o===i&&(o=v({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function Gx(s){xh(s)}function Kx(s){console.error(s)}function Yx(s){xh(s)}function Hh(s,i){try{var o=s.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Qx(s,i,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Fg(s,i,o){return o=Bi(o),o.tag=3,o.payload={element:null},o.callback=function(){Hh(s,i)},o}function Xx(s){return s=Bi(s),s.tag=3,s}function Jx(s,i,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;s.payload=function(){return p(y)},s.callback=function(){Qx(i,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){Qx(i,o,c),typeof p!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function Xj(s,i,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&ol(i,o,p,!0),o=tr.current,o!==null){switch(o.tag){case 31:case 13:return Ar===null?nf():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===kh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),fy(s,c,p)),!1;case 22:return o.flags|=65536,c===kh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),fy(s,c,p)),!1}throw Error(r(435,o.tag))}return fy(s,c,p),nf(),!1}if(Ye)return i=tr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==og&&(s=Error(r(422),{cause:c}),Bc(wr(s,o)))):(c!==og&&(i=Error(r(423),{cause:c}),Bc(wr(i,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,c=wr(c,o),p=Fg(s.stateNode,c,p),_g(s,p),Tt!==4&&(Tt=2)),!1;var y=Error(r(520),{cause:c});if(y=wr(y,o),au===null?au=[y]:au.push(y),Tt!==4&&(Tt=2),i===null)return!0;c=wr(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=Fg(o.stateNode,c,s),_g(o,s),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ki===null||!Ki.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Xx(p),Jx(p,s,o,c),_g(o,p),!1}o=o.return}while(o!==null);return!1}var qg=Error(r(461)),qt=!1;function pn(s,i,o,c){i.child=s===null?nx(i,null,o,c):to(i,s.child,o,c)}function Zx(s,i,o,c,p){o=o.render;var y=i.ref;if("ref"in c){var x={};for(var A in c)A!=="ref"&&(x[A]=c[A])}else x=c;return Xa(i),c=Sg(s,i,o,x,y,p),A=Tg(),s!==null&&!qt?(Ag(s,i,p),ni(s,i,p)):(Ye&&A&&ig(i),i.flags|=1,pn(s,i,c,p),i.child)}function e1(s,i,o,c,p){if(s===null){var y=o.type;return typeof y=="function"&&!ng(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,t1(s,i,y,c,p)):(s=Th(o.type,null,c,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!Xg(s,p)){var x=y.memoizedProps;if(o=o.compare,o=o!==null?o:Vc,o(x,c)&&s.ref===i.ref)return ni(s,i,p)}return i.flags|=1,s=Qs(y,c),s.ref=i.ref,s.return=i,i.child=s}function t1(s,i,o,c,p){if(s!==null){var y=s.memoizedProps;if(Vc(y,c)&&s.ref===i.ref)if(qt=!1,i.pendingProps=c=y,Xg(s,p))(s.flags&131072)!==0&&(qt=!0);else return i.lanes=s.lanes,ni(s,i,p)}return Hg(s,i,o,c,p)}function n1(s,i,o,c){var p=c.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(c=i.child=s.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~y}else c=0,i.child=null;return r1(s,i,y,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ih(i,y!==null?y.cachePool:null),y!==null?ix(i,y):bg(),ax(i);else return c=i.lanes=536870912,r1(s,i,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(Ih(i,y.cachePool),ix(i,y),Hi(),i.memoizedState=null):(s!==null&&Ih(i,null),bg(),Hi());return pn(s,i,p,o),i.child}function Zc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function r1(s,i,o,c,p){var y=pg();return y=y===null?null:{parent:Bt._currentValue,pool:y},i.memoizedState={baseLanes:o,cachePool:y},s!==null&&Ih(i,null),bg(),ax(i),s!==null&&ol(s,i,c,!0),i.childLanes=p,null}function $h(s,i){return i=Gh({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function s1(s,i,o){return to(i,s.child,null,o),s=$h(i,i.pendingProps),s.flags|=2,nr(i),i.memoizedState=null,s}function Jj(s,i,o){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ye){if(c.mode==="hidden")return s=$h(i,c),i.lanes=536870912,Zc(null,s);if(wg(i),(s=gt)?(s=gw(s,Tr),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:Mi!==null?{id:Ts,overflow:As}:null,retryLane:536870912,hydrationErrors:null},o=Bb(s),o.return=i,i.child=o,hn=i,gt=null)):s=null,s===null)throw Vi(i);return i.lanes=536870912,null}return $h(i,c)}var y=s.memoizedState;if(y!==null){var x=y.dehydrated;if(wg(i),p)if(i.flags&256)i.flags&=-257,i=s1(s,i,o);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(qt||ol(s,i,o,!1),p=(o&s.childLanes)!==0,qt||p){if(c=ft,c!==null&&(x=bc(c,o),x!==0&&x!==y.retryLane))throw y.retryLane=x,Ga(s,x),Fn(c,s,x),qg;nf(),i=s1(s,i,o)}else s=y.treeContext,gt=Rr(x.nextSibling),hn=i,Ye=!0,Li=null,Tr=!1,s!==null&&Hb(i,s),i=$h(i,c),i.flags|=4096;return i}return s=Qs(s.child,{mode:c.mode,children:c.children}),s.ref=i.ref,i.child=s,s.return=i,s}function Wh(s,i){var o=i.ref;if(o===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(s===null||s.ref!==o)&&(i.flags|=4194816)}}function Hg(s,i,o,c,p){return Xa(i),o=Sg(s,i,o,c,void 0,p),c=Tg(),s!==null&&!qt?(Ag(s,i,p),ni(s,i,p)):(Ye&&c&&ig(i),i.flags|=1,pn(s,i,o,p),i.child)}function i1(s,i,o,c,p,y){return Xa(i),i.updateQueue=null,o=lx(i,c,o,p),ox(s),c=Tg(),s!==null&&!qt?(Ag(s,i,y),ni(s,i,y)):(Ye&&c&&ig(i),i.flags|=1,pn(s,i,o,y),i.child)}function a1(s,i,o,c,p){if(Xa(i),i.stateNode===null){var y=rl,x=o.contextType;typeof x=="object"&&x!==null&&(y=fn(x)),y=new o(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Bg,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},gg(i),x=o.contextType,y.context=typeof x=="object"&&x!==null?fn(x):rl,y.state=i.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Ug(i,o,x,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&Bg.enqueueReplaceState(y,y.state,null),Kc(i,c,y,p),Gc(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){y=i.stateNode;var A=i.memoizedProps,L=ro(o,A);y.props=L;var W=y.context,ee=o.contextType;x=rl,typeof ee=="object"&&ee!==null&&(x=fn(ee));var se=o.getDerivedStateFromProps;ee=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||W!==x)&&Wx(i,y,c,x),Ui=!1;var K=i.memoizedState;y.state=K,Kc(i,c,y,p),Gc(),W=i.memoizedState,A||K!==W||Ui?(typeof se=="function"&&(Ug(i,o,se,c),W=i.memoizedState),(L=Ui||$x(i,o,L,c,K,W,x))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=W),y.props=c,y.state=W,y.context=x,c=L):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,yg(s,i),x=i.memoizedProps,ee=ro(o,x),y.props=ee,se=i.pendingProps,K=y.context,W=o.contextType,L=rl,typeof W=="object"&&W!==null&&(L=fn(W)),A=o.getDerivedStateFromProps,(W=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==se||K!==L)&&Wx(i,y,c,L),Ui=!1,K=i.memoizedState,y.state=K,Kc(i,c,y,p),Gc();var Q=i.memoizedState;x!==se||K!==Q||Ui||s!==null&&s.dependencies!==null&&Rh(s.dependencies)?(typeof A=="function"&&(Ug(i,o,A,c),Q=i.memoizedState),(ee=Ui||$x(i,o,ee,c,K,Q,L)||s!==null&&s.dependencies!==null&&Rh(s.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Q,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Q,L)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Q),y.props=c,y.state=Q,y.context=L,c=ee):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),c=!1)}return y=c,Wh(s,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&c?(i.child=to(i,s.child,null,p),i.child=to(i,null,o,p)):pn(s,i,o,p),i.memoizedState=y.state,s=i.child):s=ni(s,i,p),s}function o1(s,i,o,c){return Ya(),i.flags|=256,pn(s,i,o,c),i.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wg(s){return{baseLanes:s,cachePool:Qb()}}function Gg(s,i,o){return s=s!==null?s.childLanes&~o:0,i&&(s|=sr),s}function l1(s,i,o){var c=i.pendingProps,p=!1,y=(i.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(Nt.current&2)!==0),x&&(p=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ye){if(p?qi(i):Hi(),(s=gt)?(s=gw(s,Tr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:Mi!==null?{id:Ts,overflow:As}:null,retryLane:536870912,hydrationErrors:null},o=Bb(s),o.return=i,i.child=o,hn=i,gt=null)):s=null,s===null)throw Vi(i);return Iy(s)?i.lanes=32:i.lanes=536870912,null}var A=c.children;return c=c.fallback,p?(Hi(),p=i.mode,A=Gh({mode:"hidden",children:A},p),c=Ka(c,p,o,null),A.return=i,c.return=i,A.sibling=c,i.child=A,c=i.child,c.memoizedState=Wg(o),c.childLanes=Gg(s,x,o),i.memoizedState=$g,Zc(null,c)):(qi(i),Kg(i,A))}var L=s.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(y)i.flags&256?(qi(i),i.flags&=-257,i=Yg(s,i,o)):i.memoizedState!==null?(Hi(),i.child=s.child,i.flags|=128,i=null):(Hi(),A=c.fallback,p=i.mode,c=Gh({mode:"visible",children:c.children},p),A=Ka(A,p,o,null),A.flags|=2,c.return=i,A.return=i,c.sibling=A,i.child=c,to(i,s.child,null,o),c=i.child,c.memoizedState=Wg(o),c.childLanes=Gg(s,x,o),i.memoizedState=$g,i=Zc(null,c));else if(qi(i),Iy(A)){if(x=A.nextSibling&&A.nextSibling.dataset,x)var W=x.dgst;x=W,c=Error(r(419)),c.stack="",c.digest=x,Bc({value:c,source:null,stack:null}),i=Yg(s,i,o)}else if(qt||ol(s,i,o,!1),x=(o&s.childLanes)!==0,qt||x){if(x=ft,x!==null&&(c=bc(x,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,Ga(s,c),Fn(x,s,c),qg;Cy(A)||nf(),i=Yg(s,i,o)}else Cy(A)?(i.flags|=192,i.child=s.child,i=null):(s=L.treeContext,gt=Rr(A.nextSibling),hn=i,Ye=!0,Li=null,Tr=!1,s!==null&&Hb(i,s),i=Kg(i,c.children),i.flags|=4096);return i}return p?(Hi(),A=c.fallback,p=i.mode,L=s.child,W=L.sibling,c=Qs(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,W!==null?A=Qs(W,A):(A=Ka(A,p,o,null),A.flags|=2),A.return=i,c.return=i,c.sibling=A,i.child=c,Zc(null,c),c=i.child,A=s.child.memoizedState,A===null?A=Wg(o):(p=A.cachePool,p!==null?(L=Bt._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=Qb(),A={baseLanes:A.baseLanes|o,cachePool:p}),c.memoizedState=A,c.childLanes=Gg(s,x,o),i.memoizedState=$g,Zc(s.child,c)):(qi(i),o=s.child,s=o.sibling,o=Qs(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,s!==null&&(x=i.deletions,x===null?(i.deletions=[s],i.flags|=16):x.push(s)),i.child=o,i.memoizedState=null,o)}function Kg(s,i){return i=Gh({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Gh(s,i){return s=er(22,s,null,i),s.lanes=0,s}function Yg(s,i,o){return to(i,s.child,null,o),s=Kg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function c1(s,i,o){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),ug(s.return,i,o)}function Qg(s,i,o,c,p,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:y}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=p,x.treeForkCount=y)}function u1(s,i,o){var c=i.pendingProps,p=c.revealOrder,y=c.tail;c=c.children;var x=Nt.current,A=(x&2)!==0;if(A?(x=x&1|2,i.flags|=128):x&=1,fe(Nt,x),pn(s,i,c,o),c=Ye?Uc:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&c1(s,o,i);else if(s.tag===19)c1(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)s=o.alternate,s!==null&&Ph(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),Qg(i,!1,p,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&Ph(s)===null){i.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}Qg(i,!0,o,null,y,c);break;case"together":Qg(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function ni(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),Gi|=i.lanes,(o&i.childLanes)===0)if(s!==null){if(ol(s,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,o=Qs(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Qs(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function Xg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&Rh(s)))}function Zj(s,i,o){switch(i.tag){case 3:Xt(i,i.stateNode.containerInfo),zi(i,Bt,s.memoizedState.cache),Ya();break;case 27:case 5:Ia(i);break;case 4:Xt(i,i.stateNode.containerInfo);break;case 10:zi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wg(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(qi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?l1(s,i,o):(qi(i),s=ni(s,i,o),s!==null?s.sibling:null);qi(i);break;case 19:var p=(s.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(ol(s,i,o,!1),c=(o&i.childLanes)!==0),p){if(c)return u1(s,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),fe(Nt,Nt.current),c)break;return null;case 22:return i.lanes=0,n1(s,i,o,i.pendingProps);case 24:zi(i,Bt,s.memoizedState.cache)}return ni(s,i,o)}function d1(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps)qt=!0;else{if(!Xg(s,o)&&(i.flags&128)===0)return qt=!1,Zj(s,i,o);qt=(s.flags&131072)!==0}else qt=!1,Ye&&(i.flags&1048576)!==0&&qb(i,Uc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(s=Za(i.elementType),i.type=s,typeof s=="function")ng(s)?(c=ro(s,c),i.tag=1,i=a1(null,i,s,c,o)):(i.tag=0,i=Hg(null,i,s,c,o));else{if(s!=null){var p=s.$$typeof;if(p===ae){i.tag=11,i=Zx(null,i,s,c,o);break e}else if(p===j){i.tag=14,i=e1(null,i,s,c,o);break e}}throw i=qe(s)||s,Error(r(306,i,""))}}return i;case 0:return Hg(s,i,i.type,i.pendingProps,o);case 1:return c=i.type,p=ro(c,i.pendingProps),a1(s,i,c,p,o);case 3:e:{if(Xt(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var y=i.memoizedState;p=y.element,yg(s,i),Kc(i,c,null,o);var x=i.memoizedState;if(c=x.cache,zi(i,Bt,c),c!==y.cache&&dg(i,[Bt],o,!0),Gc(),c=x.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=o1(s,i,c,o);break e}else if(c!==p){p=wr(Error(r(424)),i),Bc(p),i=o1(s,i,c,o);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,gt=Rr(s.firstChild),hn=i,Ye=!0,Li=null,Tr=!0,o=nx(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ya(),c===p){i=ni(s,i,o);break e}pn(s,i,c,o)}i=i.child}return i;case 26:return Wh(s,i),s===null?(o=ww(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ye||(o=i.type,s=i.pendingProps,c=uf(Le.current).createElement(o),c[Vt]=i,c[rn]=s,mn(c,o,s),zt(c),i.stateNode=c):i.memoizedState=ww(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Ia(i),s===null&&Ye&&(c=i.stateNode=vw(i.type,i.pendingProps,Le.current),hn=i,Tr=!0,p=gt,Ji(i.type)?(jy=p,gt=Rr(c.firstChild)):gt=p),pn(s,i,i.pendingProps.children,o),Wh(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ye&&((p=c=gt)&&(c=Ik(c,i.type,i.pendingProps,Tr),c!==null?(i.stateNode=c,hn=i,gt=Rr(c.firstChild),Tr=!1,p=!0):p=!1),p||Vi(i)),Ia(i),p=i.type,y=i.pendingProps,x=s!==null?s.memoizedProps:null,c=y.children,Ty(p,y)?c=null:x!==null&&Ty(p,x)&&(i.flags|=32),i.memoizedState!==null&&(p=Sg(s,i,Hj,null,null,o),pu._currentValue=p),Wh(s,i),pn(s,i,c,o),i.child;case 6:return s===null&&Ye&&((s=o=gt)&&(o=jk(o,i.pendingProps,Tr),o!==null?(i.stateNode=o,hn=i,gt=null,s=!0):s=!1),s||Vi(i)),null;case 13:return l1(s,i,o);case 4:return Xt(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=to(i,null,c,o):pn(s,i,c,o),i.child;case 11:return Zx(s,i,i.type,i.pendingProps,o);case 7:return pn(s,i,i.pendingProps,o),i.child;case 8:return pn(s,i,i.pendingProps.children,o),i.child;case 12:return pn(s,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,zi(i,i.type,c.value),pn(s,i,c.children,o),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Xa(i),p=fn(p),c=c(p),i.flags|=1,pn(s,i,c,o),i.child;case 14:return e1(s,i,i.type,i.pendingProps,o);case 15:return t1(s,i,i.type,i.pendingProps,o);case 19:return u1(s,i,o);case 31:return Jj(s,i,o);case 22:return n1(s,i,o,i.pendingProps);case 24:return Xa(i),c=fn(Bt),s===null?(p=pg(),p===null&&(p=ft,y=hg(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),i.memoizedState={parent:c,cache:p},gg(i),zi(i,Bt,p)):((s.lanes&o)!==0&&(yg(s,i),Kc(i,null,null,o),Gc()),p=s.memoizedState,y=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),zi(i,Bt,c)):(c=y.cache,zi(i,Bt,c),c!==p.cache&&dg(i,[Bt],o,!0))),pn(s,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ri(s){s.flags|=4}function Jg(s,i,o,c,p){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(V1())s.flags|=8192;else throw eo=kh,mg}else s.flags&=-16777217}function h1(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Rw(i))if(V1())s.flags|=8192;else throw eo=kh,mg}function Kh(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?eh():536870912,s.lanes|=i,vl|=i)}function eu(s,i){if(!Ye)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function yt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(i)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=c,s.childLanes=o,i}function ek(s,i,o){var c=i.pendingProps;switch(ag(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return o=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Zs(Bt),vt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(al(i)?ri(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lg())),yt(i),null;case 26:var p=i.type,y=i.memoizedState;return s===null?(ri(i),y!==null?(yt(i),h1(i,y)):(yt(i),Jg(i,p,null,c,o))):y?y!==s.memoizedState?(ri(i),yt(i),h1(i,y)):(yt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==c&&ri(i),yt(i),Jg(i,p,s,c,o)),null;case 27:if(Vo(i),o=Le.current,p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&ri(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return yt(i),null}s=me.current,al(i)?$b(i):(s=vw(p,c,o),i.stateNode=s,ri(i))}return yt(i),null;case 5:if(Vo(i),p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&ri(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return yt(i),null}if(y=me.current,al(i))$b(i);else{var x=uf(Le.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?x.createElement(p,{is:c.is}):x.createElement(p)}}y[Vt]=i,y[rn]=c;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=y;e:switch(mn(y,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ri(i)}}return yt(i),Jg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,o),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&ri(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=Le.current,al(i)){if(s=i.stateNode,o=i.memoizedProps,c=null,p=hn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}s[Vt]=i,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||lw(s.nodeValue,o)),s||Vi(i,!0)}else s=uf(s).createTextNode(c),s[Vt]=i,i.stateNode=s}return yt(i),null;case 31:if(o=i.memoizedState,s===null||s.memoizedState!==null){if(c=al(i),o!==null){if(s===null){if(!c)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Vt]=i}else Ya(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),s=!1}else o=lg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return i.flags&256?(nr(i),i):(nr(i),null);if((i.flags&128)!==0)throw Error(r(558))}return yt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=al(i),c!==null&&c.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Vt]=i}else Ya(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),p=!1}else p=lg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(nr(i),i):(nr(i),null)}return nr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)),o!==s&&o&&(i.child.flags|=8192),Kh(i,i.updateQueue),yt(i),null);case 4:return vt(),s===null&&by(i.stateNode.containerInfo),yt(i),null;case 10:return Zs(i.type),yt(i),null;case 19:if(ne(Nt),c=i.memoizedState,c===null)return yt(i),null;if(p=(i.flags&128)!==0,y=c.rendering,y===null)if(p)eu(c,!1);else{if(Tt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=Ph(s),y!==null){for(i.flags|=128,eu(c,!1),s=y.updateQueue,i.updateQueue=s,Kh(i,s),i.subtreeFlags=0,s=o,o=i.child;o!==null;)Ub(o,s),o=o.sibling;return fe(Nt,Nt.current&1|2),Ye&&Xs(i,c.treeForkCount),i.child}s=s.sibling}c.tail!==null&&Cn()>Zh&&(i.flags|=128,p=!0,eu(c,!1),i.lanes=4194304)}else{if(!p)if(s=Ph(y),s!==null){if(i.flags|=128,p=!0,s=s.updateQueue,i.updateQueue=s,Kh(i,s),eu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Ye)return yt(i),null}else 2*Cn()-c.renderingStartTime>Zh&&o!==536870912&&(i.flags|=128,p=!0,eu(c,!1),i.lanes=4194304);c.isBackwards?(y.sibling=i.child,i.child=y):(s=c.last,s!==null?s.sibling=y:i.child=y,c.last=y)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=Cn(),s.sibling=null,o=Nt.current,fe(Nt,p?o&1|2:o&1),Ye&&Xs(i,c.treeForkCount),s):(yt(i),null);case 22:case 23:return nr(i),xg(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),o=i.updateQueue,o!==null&&Kh(i,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),s!==null&&ne(Ja),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Zs(Bt),yt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function tk(s,i){switch(ag(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Zs(Bt),vt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Vo(i),null;case 31:if(i.memoizedState!==null){if(nr(i),i.alternate===null)throw Error(r(340));Ya()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(nr(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ya()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ne(Nt),null;case 4:return vt(),null;case 10:return Zs(i.type),null;case 22:case 23:return nr(i),xg(),s!==null&&ne(Ja),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Zs(Bt),null;case 25:return null;default:return null}}function f1(s,i){switch(ag(i),i.tag){case 3:Zs(Bt),vt();break;case 26:case 27:case 5:Vo(i);break;case 4:vt();break;case 31:i.memoizedState!==null&&nr(i);break;case 13:nr(i);break;case 19:ne(Nt);break;case 10:Zs(i.type);break;case 22:case 23:nr(i),xg(),s!==null&&ne(Ja);break;case 24:Zs(Bt)}}function tu(s,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&s)===s){c=void 0;var y=o.create,x=o.inst;c=y(),x.destroy=c}o=o.next}while(o!==p)}}catch(A){it(i,i.return,A)}}function $i(s,i,o){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&s)===s){var x=c.inst,A=x.destroy;if(A!==void 0){x.destroy=void 0,p=i;var L=o,W=A;try{W()}catch(ee){it(p,L,ee)}}}c=c.next}while(c!==y)}}catch(ee){it(i,i.return,ee)}}function p1(s){var i=s.updateQueue;if(i!==null){var o=s.stateNode;try{sx(i,o)}catch(c){it(s,s.return,c)}}}function m1(s,i,o){o.props=ro(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){it(s,i,c)}}function nu(s,i){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(p){it(s,i,p)}}function Rs(s,i){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){it(s,i,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){it(s,i,p)}else o.current=null}function g1(s){var i=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){it(s,s.return,p)}}function Zg(s,i,o){try{var c=s.stateNode;Ek(c,s.type,o,i),c[rn]=i}catch(p){it(s,s.return,p)}}function y1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ji(s.type)||s.tag===4}function ey(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||y1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ji(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ty(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(s),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=zr));else if(c!==4&&(c===27&&Ji(s.type)&&(o=s.stateNode,i=null),s=s.child,s!==null))for(ty(s,i,o),s=s.sibling;s!==null;)ty(s,i,o),s=s.sibling}function Yh(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(c!==4&&(c===27&&Ji(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Yh(s,i,o),s=s.sibling;s!==null;)Yh(s,i,o),s=s.sibling}function _1(s){var i=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);mn(i,c,o),i[Vt]=s,i[rn]=o}catch(y){it(s,s.return,y)}}var si=!1,Ht=!1,ny=!1,v1=typeof WeakSet=="function"?WeakSet:Set,an=null;function nk(s,i){if(s=s.containerInfo,Ey=yf,s=kb(s),Ym(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var x=0,A=-1,L=-1,W=0,ee=0,se=s,K=null;t:for(;;){for(var Q;se!==o||p!==0&&se.nodeType!==3||(A=x+p),se!==y||c!==0&&se.nodeType!==3||(L=x+c),se.nodeType===3&&(x+=se.nodeValue.length),(Q=se.firstChild)!==null;)K=se,se=Q;for(;;){if(se===s)break t;if(K===o&&++W===p&&(A=x),K===y&&++ee===c&&(L=x),(Q=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=Q}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sy={focusedElem:s,selectionRange:o},yf=!1,an=i;an!==null;)if(i=an,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,an=s;else for(;an!==null;){switch(i=an,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=i,p=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var ve=ro(o.type,p);s=c.getSnapshotBeforeUpdate(ve,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Re){it(o,o.return,Re)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,o=s.nodeType,o===9)Ry(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ry(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,an=s;break}an=i.return}}function b1(s,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ai(s,o),c&4&&tu(5,o);break;case 1:if(ai(s,o),c&4)if(s=o.stateNode,i===null)try{s.componentDidMount()}catch(x){it(o,o.return,x)}else{var p=ro(o.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(p,i,s.__reactInternalSnapshotBeforeUpdate)}catch(x){it(o,o.return,x)}}c&64&&p1(o),c&512&&nu(o,o.return);break;case 3:if(ai(s,o),c&64&&(s=o.updateQueue,s!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{sx(s,i)}catch(x){it(o,o.return,x)}}break;case 27:i===null&&c&4&&_1(o);case 26:case 5:ai(s,o),i===null&&c&4&&g1(o),c&512&&nu(o,o.return);break;case 12:ai(s,o);break;case 31:ai(s,o),c&4&&E1(s,o);break;case 13:ai(s,o),c&4&&S1(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=dk.bind(null,o),kk(s,o))));break;case 22:if(c=o.memoizedState!==null||si,!c){i=i!==null&&i.memoizedState!==null||Ht,p=si;var y=Ht;si=c,(Ht=i)&&!y?oi(s,o,(o.subtreeFlags&8772)!==0):ai(s,o),si=p,Ht=y}break;case 30:break;default:ai(s,o)}}function x1(s){var i=s.alternate;i!==null&&(s.alternate=null,x1(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&qo(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xt=null,Vn=!1;function ii(s,i,o){for(o=o.child;o!==null;)w1(s,i,o),o=o.sibling}function w1(s,i,o){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Pr,o)}catch{}switch(o.tag){case 26:Ht||Rs(o,i),ii(s,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ht||Rs(o,i);var c=xt,p=Vn;Ji(o.type)&&(xt=o.stateNode,Vn=!1),ii(s,i,o),du(o.stateNode),xt=c,Vn=p;break;case 5:Ht||Rs(o,i);case 6:if(c=xt,p=Vn,xt=null,ii(s,i,o),xt=c,Vn=p,xt!==null)if(Vn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(y){it(o,i,y)}else try{xt.removeChild(o.stateNode)}catch(y){it(o,i,y)}break;case 18:xt!==null&&(Vn?(s=xt,pw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Rl(s)):pw(xt,o.stateNode));break;case 4:c=xt,p=Vn,xt=o.stateNode.containerInfo,Vn=!0,ii(s,i,o),xt=c,Vn=p;break;case 0:case 11:case 14:case 15:$i(2,o,i),Ht||$i(4,o,i),ii(s,i,o);break;case 1:Ht||(Rs(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&m1(o,i,c)),ii(s,i,o);break;case 21:ii(s,i,o);break;case 22:Ht=(c=Ht)||o.memoizedState!==null,ii(s,i,o),Ht=c;break;default:ii(s,i,o)}}function E1(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Rl(s)}catch(o){it(i,i.return,o)}}}function S1(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Rl(s)}catch(o){it(i,i.return,o)}}function rk(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new v1),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new v1),i;default:throw Error(r(435,s.tag))}}function Qh(s,i){var o=rk(s);i.forEach(function(c){if(!o.has(c)){o.add(c);var p=hk.bind(null,s,c);c.then(p,p)}})}function zn(s,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],y=s,x=i,A=x;e:for(;A!==null;){switch(A.tag){case 27:if(Ji(A.type)){xt=A.stateNode,Vn=!1;break e}break;case 5:xt=A.stateNode,Vn=!1;break e;case 3:case 4:xt=A.stateNode.containerInfo,Vn=!0;break e}A=A.return}if(xt===null)throw Error(r(160));w1(y,x,p),xt=null,Vn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)T1(i,s),i=i.sibling}var $r=null;function T1(s,i){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zn(i,s),Un(s),c&4&&($i(3,s,s.return),tu(3,s),$i(5,s,s.return));break;case 1:zn(i,s),Un(s),c&512&&(Ht||o===null||Rs(o,o.return)),c&64&&si&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=$r;if(zn(i,s),Un(s),c&512&&(Ht||o===null||Rs(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[fs]||y[Vt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),mn(y,c,o),y[Vt]=s,zt(y),c=y;break e;case"link":var x=Tw("link","href",p).get(c+(o.href||""));if(x){for(var A=0;A<x.length;A++)if(y=x[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(A,1);break t}}y=p.createElement(c),mn(y,c,o),p.head.appendChild(y);break;case"meta":if(x=Tw("meta","content",p).get(c+(o.content||""))){for(A=0;A<x.length;A++)if(y=x[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(A,1);break t}}y=p.createElement(c),mn(y,c,o),p.head.appendChild(y);break;default:throw Error(r(468,c))}y[Vt]=s,zt(y),c=y}s.stateNode=c}else Aw(p,s.type,s.stateNode);else s.stateNode=Sw(p,c,s.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?Aw(p,s.type,s.stateNode):Sw(p,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Zg(s,s.memoizedProps,o.memoizedProps)}break;case 27:zn(i,s),Un(s),c&512&&(Ht||o===null||Rs(o,o.return)),o!==null&&c&4&&Zg(s,s.memoizedProps,o.memoizedProps);break;case 5:if(zn(i,s),Un(s),c&512&&(Ht||o===null||Rs(o,o.return)),s.flags&32){p=s.stateNode;try{Ln(p,"")}catch(ve){it(s,s.return,ve)}}c&4&&s.stateNode!=null&&(p=s.memoizedProps,Zg(s,p,o!==null?o.memoizedProps:p)),c&1024&&(ny=!0);break;case 6:if(zn(i,s),Un(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(ve){it(s,s.return,ve)}}break;case 3:if(ff=null,p=$r,$r=df(i.containerInfo),zn(i,s),$r=p,Un(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(ve){it(s,s.return,ve)}ny&&(ny=!1,A1(s));break;case 4:c=$r,$r=df(s.stateNode.containerInfo),zn(i,s),Un(s),$r=c;break;case 12:zn(i,s),Un(s);break;case 31:zn(i,s),Un(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qh(s,c)));break;case 13:zn(i,s),Un(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Jh=Cn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qh(s,c)));break;case 22:p=s.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,W=si,ee=Ht;if(si=W||p,Ht=ee||L,zn(i,s),Ht=ee,si=W,Un(s),c&8192)e:for(i=s.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||L||si||Ht||so(s)),o=null,i=s;;){if(i.tag===5||i.tag===26){if(o===null){L=o=i;try{if(y=L.stateNode,p)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{A=L.stateNode;var se=L.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ve){it(L,L.return,ve)}}}else if(i.tag===6){if(o===null){L=i;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(ve){it(L,L.return,ve)}}}else if(i.tag===18){if(o===null){L=i;try{var Q=L.stateNode;p?mw(Q,!0):mw(L.stateNode,!1)}catch(ve){it(L,L.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Qh(s,o))));break;case 19:zn(i,s),Un(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qh(s,c)));break;case 30:break;case 21:break;default:zn(i,s),Un(s)}}function Un(s){var i=s.flags;if(i&2){try{for(var o,c=s.return;c!==null;){if(y1(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,y=ey(s);Yh(s,y,p);break;case 5:var x=o.stateNode;o.flags&32&&(Ln(x,""),o.flags&=-33);var A=ey(s);Yh(s,A,x);break;case 3:case 4:var L=o.stateNode.containerInfo,W=ey(s);ty(s,W,L);break;default:throw Error(r(161))}}catch(ee){it(s,s.return,ee)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function A1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;A1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function ai(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)b1(s,i.alternate,i),i=i.sibling}function so(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:$i(4,i,i.return),so(i);break;case 1:Rs(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&m1(i,i.return,o),so(i);break;case 27:du(i.stateNode);case 26:case 5:Rs(i,i.return),so(i);break;case 22:i.memoizedState===null&&so(i);break;case 30:so(i);break;default:so(i)}s=s.sibling}}function oi(s,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=s,y=i,x=y.flags;switch(y.tag){case 0:case 11:case 15:oi(p,y,o),tu(4,y);break;case 1:if(oi(p,y,o),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){it(c,c.return,W)}if(c=y,p=c.updateQueue,p!==null){var A=c.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)rx(L[p],A)}catch(W){it(c,c.return,W)}}o&&x&64&&p1(y),nu(y,y.return);break;case 27:_1(y);case 26:case 5:oi(p,y,o),o&&c===null&&x&4&&g1(y),nu(y,y.return);break;case 12:oi(p,y,o);break;case 31:oi(p,y,o),o&&x&4&&E1(p,y);break;case 13:oi(p,y,o),o&&x&4&&S1(p,y);break;case 22:y.memoizedState===null&&oi(p,y,o),nu(y,y.return);break;case 30:break;default:oi(p,y,o)}i=i.sibling}}function ry(s,i){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Fc(o))}function sy(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Fc(s))}function Wr(s,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R1(s,i,o,c),i=i.sibling}function R1(s,i,o,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Wr(s,i,o,c),p&2048&&tu(9,i);break;case 1:Wr(s,i,o,c);break;case 3:Wr(s,i,o,c),p&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Fc(s)));break;case 12:if(p&2048){Wr(s,i,o,c),s=i.stateNode;try{var y=i.memoizedProps,x=y.id,A=y.onPostCommit;typeof A=="function"&&A(x,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){it(i,i.return,L)}}else Wr(s,i,o,c);break;case 31:Wr(s,i,o,c);break;case 13:Wr(s,i,o,c);break;case 23:break;case 22:y=i.stateNode,x=i.alternate,i.memoizedState!==null?y._visibility&2?Wr(s,i,o,c):ru(s,i):y._visibility&2?Wr(s,i,o,c):(y._visibility|=2,gl(s,i,o,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&ry(x,i);break;case 24:Wr(s,i,o,c),p&2048&&sy(i.alternate,i);break;default:Wr(s,i,o,c)}}function gl(s,i,o,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,x=i,A=o,L=c,W=x.flags;switch(x.tag){case 0:case 11:case 15:gl(y,x,A,L,p),tu(8,x);break;case 23:break;case 22:var ee=x.stateNode;x.memoizedState!==null?ee._visibility&2?gl(y,x,A,L,p):ru(y,x):(ee._visibility|=2,gl(y,x,A,L,p)),p&&W&2048&&ry(x.alternate,x);break;case 24:gl(y,x,A,L,p),p&&W&2048&&sy(x.alternate,x);break;default:gl(y,x,A,L,p)}i=i.sibling}}function ru(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=s,c=i,p=c.flags;switch(c.tag){case 22:ru(o,c),p&2048&&ry(c.alternate,c);break;case 24:ru(o,c),p&2048&&sy(c.alternate,c);break;default:ru(o,c)}i=i.sibling}}var su=8192;function yl(s,i,o){if(s.subtreeFlags&su)for(s=s.child;s!==null;)C1(s,i,o),s=s.sibling}function C1(s,i,o){switch(s.tag){case 26:yl(s,i,o),s.flags&su&&s.memoizedState!==null&&qk(o,$r,s.memoizedState,s.memoizedProps);break;case 5:yl(s,i,o);break;case 3:case 4:var c=$r;$r=df(s.stateNode.containerInfo),yl(s,i,o),$r=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=su,su=16777216,yl(s,i,o),su=c):yl(s,i,o));break;default:yl(s,i,o)}}function I1(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function iu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];an=c,k1(c,s)}I1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)j1(s),s=s.sibling}function j1(s){switch(s.tag){case 0:case 11:case 15:iu(s),s.flags&2048&&$i(9,s,s.return);break;case 3:iu(s);break;case 12:iu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Xh(s)):iu(s);break;default:iu(s)}}function Xh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];an=c,k1(c,s)}I1(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:$i(8,i,i.return),Xh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Xh(i));break;default:Xh(i)}s=s.sibling}}function k1(s,i){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:$i(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Fc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,an=c;else e:for(o=s;an!==null;){c=an;var p=c.sibling,y=c.return;if(x1(c),c===o){an=null;break e}if(p!==null){p.return=y,an=p;break e}an=y}}}var sk={getCacheForType:function(s){var i=fn(Bt),o=i.data.get(s);return o===void 0&&(o=s(),i.data.set(s,o)),o},cacheSignal:function(){return fn(Bt).controller.signal}},ik=typeof WeakMap=="function"?WeakMap:Map,tt=0,ft=null,Be=null,He=0,st=0,rr=null,Wi=!1,_l=!1,iy=!1,li=0,Tt=0,Gi=0,io=0,ay=0,sr=0,vl=0,au=null,Bn=null,oy=!1,Jh=0,N1=0,Zh=1/0,ef=null,Ki=null,Zt=0,Yi=null,bl=null,ci=0,ly=0,cy=null,D1=null,ou=0,uy=null;function ir(){return(tt&2)!==0&&He!==0?He&-He:Z.T!==null?gy():th()}function O1(){if(sr===0)if((He&536870912)===0||Ye){var s=Na;Na<<=1,(Na&3932160)===0&&(Na=262144),sr=s}else sr=536870912;return s=tr.current,s!==null&&(s.flags|=32),sr}function Fn(s,i,o){(s===ft&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(xl(s,0),Qi(s,He,sr,!1)),Da(s,o),((tt&2)===0||s!==ft)&&(s===ft&&((tt&2)===0&&(io|=o),Tt===4&&Qi(s,He,sr,!1)),Cs(s))}function P1(s,i,o){if((tt&6)!==0)throw Error(r(327));var c=!o&&(i&127)===0&&(i&s.expiredLanes)===0||Mr(s,i),p=c?lk(s,i):hy(s,i,!0),y=c;do{if(p===0){_l&&!c&&Qi(s,i,0,!1);break}else{if(o=s.current.alternate,y&&!ak(o)){p=hy(s,i,!1),y=!1;continue}if(p===2){if(y=i,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var A=s;p=au;var L=A.current.memoizedState.isDehydrated;if(L&&(xl(A,x).flags|=256),x=hy(A,x,!1),x!==2){if(iy&&!L){A.errorRecoveryDisabledLanes|=y,io|=y,p=4;break e}y=Bn,Bn=p,y!==null&&(Bn===null?Bn=y:Bn.push.apply(Bn,y))}p=x}if(y=!1,p!==2)continue}}if(p===1){xl(s,0),Qi(s,i,0,!0);break}e:{switch(c=s,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Qi(c,i,sr,!Wi);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=Jh+300-Cn(),10<p)){if(Qi(c,i,sr,!Wi),us(c,0,!0)!==0)break e;ci=i,c.timeoutHandle=hw(M1.bind(null,c,o,Bn,ef,oy,i,sr,io,vl,Wi,y,"Throttled",-0,0),p);break e}M1(c,o,Bn,ef,oy,i,sr,io,vl,Wi,y,null,-0,0)}}break}while(!0);Cs(s)}function M1(s,i,o,c,p,y,x,A,L,W,ee,se,K,Q){if(s.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zr},C1(i,y,se);var ve=(y&62914560)===y?Jh-Cn():(y&4194048)===y?N1-Cn():0;if(ve=Hk(se,ve),ve!==null){ci=y,s.cancelPendingCommit=ve(H1.bind(null,s,i,y,o,c,p,x,A,L,ee,se,null,K,Q)),Qi(s,y,x,!W);return}}H1(s,i,y,o,c,p,x,A,L)}function ak(s){for(var i=s;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],y=p.getSnapshot;p=p.value;try{if(!Zn(y(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qi(s,i,o,c){i&=~ay,i&=~io,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var p=i;0<p;){var y=31-jt(p),x=1<<y;c[y]=-1,p&=~x}o!==0&&Oa(s,o,i)}function tf(){return(tt&6)===0?(lu(0),!1):!0}function dy(){if(Be!==null){if(st===0)var s=Be.return;else s=Be,Js=Qa=null,Rg(s),dl=null,Hc=0,s=Be;for(;s!==null;)f1(s.alternate,s),s=s.return;Be=null}}function xl(s,i){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,Ak(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),ci=0,dy(),ft=s,Be=o=Qs(s.current,null),He=i,st=0,rr=null,Wi=!1,_l=Mr(s,i),iy=!1,vl=sr=ay=io=Gi=Tt=0,Bn=au=null,oy=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var p=31-jt(c),y=1<<p;i|=s[p],c&=~y}return li=i,wh(),o}function L1(s,i){Me=null,Z.H=Jc,i===ul||i===jh?(i=Zb(),st=3):i===mg?(i=Zb(),st=4):st=i===qg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,rr=i,Be===null&&(Tt=1,Hh(s,wr(i,s.current)))}function V1(){var s=tr.current;return s===null?!0:(He&4194048)===He?Ar===null:(He&62914560)===He||(He&536870912)!==0?s===Ar:!1}function z1(){var s=Z.H;return Z.H=Jc,s===null?Jc:s}function U1(){var s=Z.A;return Z.A=sk,s}function nf(){Tt=4,Wi||(He&4194048)!==He&&tr.current!==null||(_l=!0),(Gi&134217727)===0&&(io&134217727)===0||ft===null||Qi(ft,He,sr,!1)}function hy(s,i,o){var c=tt;tt|=2;var p=z1(),y=U1();(ft!==s||He!==i)&&(ef=null,xl(s,i)),i=!1;var x=Tt;e:do try{if(st!==0&&Be!==null){var A=Be,L=rr;switch(st){case 8:dy(),x=6;break e;case 3:case 2:case 9:case 6:tr.current===null&&(i=!0);var W=st;if(st=0,rr=null,wl(s,A,L,W),o&&_l){x=0;break e}break;default:W=st,st=0,rr=null,wl(s,A,L,W)}}ok(),x=Tt;break}catch(ee){L1(s,ee)}while(!0);return i&&s.shellSuspendCounter++,Js=Qa=null,tt=c,Z.H=p,Z.A=y,Be===null&&(ft=null,He=0,wh()),x}function ok(){for(;Be!==null;)B1(Be)}function lk(s,i){var o=tt;tt|=2;var c=z1(),p=U1();ft!==s||He!==i?(ef=null,Zh=Cn()+500,xl(s,i)):_l=Mr(s,i);e:do try{if(st!==0&&Be!==null){i=Be;var y=rr;t:switch(st){case 1:st=0,rr=null,wl(s,i,y,1);break;case 2:case 9:if(Xb(y)){st=0,rr=null,F1(i);break}i=function(){st!==2&&st!==9||ft!==s||(st=7),Cs(s)},y.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Xb(y)?(st=0,rr=null,F1(i)):(st=0,rr=null,wl(s,i,y,7));break;case 5:var x=null;switch(Be.tag){case 26:x=Be.memoizedState;case 5:case 27:var A=Be;if(x?Rw(x):A.stateNode.complete){st=0,rr=null;var L=A.sibling;if(L!==null)Be=L;else{var W=A.return;W!==null?(Be=W,rf(W)):Be=null}break t}}st=0,rr=null,wl(s,i,y,5);break;case 6:st=0,rr=null,wl(s,i,y,6);break;case 8:dy(),Tt=6;break e;default:throw Error(r(462))}}ck();break}catch(ee){L1(s,ee)}while(!0);return Js=Qa=null,Z.H=c,Z.A=p,tt=o,Be!==null?0:(ft=null,He=0,wh(),Tt)}function ck(){for(;Be!==null&&!Fm();)B1(Be)}function B1(s){var i=d1(s.alternate,s,li);s.memoizedProps=s.pendingProps,i===null?rf(s):Be=i}function F1(s){var i=s,o=i.alternate;switch(i.tag){case 15:case 0:i=i1(o,i,i.pendingProps,i.type,void 0,He);break;case 11:i=i1(o,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:Rg(i);default:f1(o,i),i=Be=Ub(i,li),i=d1(o,i,li)}s.memoizedProps=s.pendingProps,i===null?rf(s):Be=i}function wl(s,i,o,c){Js=Qa=null,Rg(i),dl=null,Hc=0;var p=i.return;try{if(Xj(s,p,i,o,He)){Tt=1,Hh(s,wr(o,s.current)),Be=null;return}}catch(y){if(p!==null)throw Be=p,y;Tt=1,Hh(s,wr(o,s.current)),Be=null;return}i.flags&32768?(Ye||c===1?s=!0:_l||(He&536870912)!==0?s=!1:(Wi=s=!0,(c===2||c===9||c===3||c===6)&&(c=tr.current,c!==null&&c.tag===13&&(c.flags|=16384))),q1(i,s)):rf(i)}function rf(s){var i=s;do{if((i.flags&32768)!==0){q1(i,Wi);return}s=i.return;var o=ek(i.alternate,i,li);if(o!==null){Be=o;return}if(i=i.sibling,i!==null){Be=i;return}Be=i=s}while(i!==null);Tt===0&&(Tt=5)}function q1(s,i){do{var o=tk(s.alternate,s);if(o!==null){o.flags&=32767,Be=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(s=s.sibling,s!==null)){Be=s;return}Be=s=o}while(s!==null);Tt=6,Be=null}function H1(s,i,o,c,p,y,x,A,L){s.cancelPendingCommit=null;do sf();while(Zt!==0);if((tt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=eg,$m(s,o,y,x,A,L),s===ft&&(Be=ft=null,He=0),bl=i,Yi=s,ci=o,ly=y,cy=p,D1=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,fk(Ai,function(){return Y1(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,p=de.p,de.p=2,x=tt,tt|=4;try{nk(s,i,o)}finally{tt=x,de.p=p,Z.T=c}}Zt=1,$1(),W1(),G1()}}function $1(){if(Zt===1){Zt=0;var s=Yi,i=bl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=de.p;de.p=2;var p=tt;tt|=4;try{T1(i,s);var y=Sy,x=kb(s.containerInfo),A=y.focusedElem,L=y.selectionRange;if(x!==A&&A&&A.ownerDocument&&jb(A.ownerDocument.documentElement,A)){if(L!==null&&Ym(A)){var W=L.start,ee=L.end;if(ee===void 0&&(ee=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(ee,A.value.length);else{var se=A.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var Q=K.getSelection(),ve=A.textContent.length,Re=Math.min(L.start,ve),ct=L.end===void 0?Re:Math.min(L.end,ve);!Q.extend&&Re>ct&&(x=ct,ct=Re,Re=x);var q=Ib(A,Re),U=Ib(A,ct);if(q&&U&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var $=se.createRange();$.setStart(q.node,q.offset),Q.removeAllRanges(),Re>ct?(Q.addRange($),Q.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),Q.addRange($))}}}}for(se=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&se.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<se.length;A++){var re=se[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}yf=!!Ey,Sy=Ey=null}finally{tt=p,de.p=c,Z.T=o}}s.current=i,Zt=2}}function W1(){if(Zt===2){Zt=0;var s=Yi,i=bl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=de.p;de.p=2;var p=tt;tt|=4;try{b1(s,i.alternate,i)}finally{tt=p,de.p=c,Z.T=o}}Zt=3}}function G1(){if(Zt===4||Zt===3){Zt=0,Kd();var s=Yi,i=bl,o=ci,c=D1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Zt=5:(Zt=0,bl=Yi=null,K1(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Ki=null),Ws(o),i=i.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Pr,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=Z.T,p=de.p,de.p=2,Z.T=null;try{for(var y=s.onRecoverableError,x=0;x<c.length;x++){var A=c[x];y(A.value,{componentStack:A.stack})}}finally{Z.T=i,de.p=p}}(ci&3)!==0&&sf(),Cs(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===uy?ou++:(ou=0,uy=s):ou=0,lu(0)}}function K1(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Fc(i)))}function sf(){return $1(),W1(),G1(),Y1()}function Y1(){if(Zt!==5)return!1;var s=Yi,i=ly;ly=0;var o=Ws(ci),c=Z.T,p=de.p;try{de.p=32>o?32:o,Z.T=null,o=cy,cy=null;var y=Yi,x=ci;if(Zt=0,bl=Yi=null,ci=0,(tt&6)!==0)throw Error(r(331));var A=tt;if(tt|=4,j1(y.current),R1(y,y.current,x,o),tt=A,lu(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Pr,y)}catch{}return!0}finally{de.p=p,Z.T=c,K1(s,i)}}function Q1(s,i,o){i=wr(o,i),i=Fg(s.stateNode,i,2),s=Fi(s,i,2),s!==null&&(Da(s,2),Cs(s))}function it(s,i,o){if(s.tag===3)Q1(s,s,o);else for(;i!==null;){if(i.tag===3){Q1(i,s,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ki===null||!Ki.has(c))){s=wr(o,s),o=Xx(2),c=Fi(i,o,2),c!==null&&(Jx(o,c,i,s),Da(c,2),Cs(c));break}}i=i.return}}function fy(s,i,o){var c=s.pingCache;if(c===null){c=s.pingCache=new ik;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(o)||(iy=!0,p.add(o),s=uk.bind(null,s,i,o),i.then(s,s))}function uk(s,i,o){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ft===s&&(He&o)===o&&(Tt===4||Tt===3&&(He&62914560)===He&&300>Cn()-Jh?(tt&2)===0&&xl(s,0):ay|=o,vl===He&&(vl=0)),Cs(s)}function X1(s,i){i===0&&(i=eh()),s=Ga(s,i),s!==null&&(Da(s,i),Cs(s))}function dk(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),X1(s,o)}function hk(s,i){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),X1(s,o)}function fk(s,i){return Jt(s,i)}var af=null,El=null,py=!1,of=!1,my=!1,Xi=0;function Cs(s){s!==El&&s.next===null&&(El===null?af=El=s:El=El.next=s),of=!0,py||(py=!0,mk())}function lu(s,i){if(!my&&of){my=!0;do for(var o=!1,c=af;c!==null;){if(s!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var x=c.suspendedLanes,A=c.pingedLanes;y=(1<<31-jt(42|s)+1)-1,y&=p&~(x&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,tw(c,y))}else y=He,y=us(c,c===ft?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Mr(c,y)||(o=!0,tw(c,y));c=c.next}while(o);my=!1}}function pk(){J1()}function J1(){of=py=!1;var s=0;Xi!==0&&Tk()&&(s=Xi);for(var i=Cn(),o=null,c=af;c!==null;){var p=c.next,y=Z1(c,i);y===0?(c.next=null,o===null?af=p:o.next=p,p===null&&(El=o)):(o=c,(s!==0||(y&3)!==0)&&(of=!0)),c=p}Zt!==0&&Zt!==5||lu(s),Xi!==0&&(Xi=0)}function Z1(s,i){for(var o=s.suspendedLanes,c=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-jt(y),A=1<<x,L=p[x];L===-1?((A&o)===0||(A&c)!==0)&&(p[x]=Hm(A,i)):L<=i&&(s.expiredLanes|=A),y&=~A}if(i=ft,o=He,o=us(s,s===i?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===i&&(st===2||st===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Ti(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Mr(s,o)){if(i=o&-o,i===s.callbackPriority)return i;switch(c!==null&&Ti(c),Ws(o)){case 2:case 8:o=_c;break;case 32:o=Ai;break;case 268435456:o=Yd;break;default:o=Ai}return c=ew.bind(null,s),o=Jt(o,c),s.callbackPriority=i,s.callbackNode=o,i}return c!==null&&c!==null&&Ti(c),s.callbackPriority=2,s.callbackNode=null,2}function ew(s,i){if(Zt!==0&&Zt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(sf()&&s.callbackNode!==o)return null;var c=He;return c=us(s,s===ft?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(P1(s,c,i),Z1(s,Cn()),s.callbackNode!=null&&s.callbackNode===o?ew.bind(null,s):null)}function tw(s,i){if(sf())return null;P1(s,i,!0)}function mk(){Rk(function(){(tt&6)!==0?Jt(yc,pk):J1()})}function gy(){if(Xi===0){var s=ll;s===0&&(s=ls,ls<<=1,(ls&261888)===0&&(ls=256)),Xi=s}return Xi}function nw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Go(""+s)}function rw(s,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,s.id&&o.setAttribute("form",s.id),i.parentNode.insertBefore(o,i),s=new FormData(s),o.parentNode.removeChild(o),s}function gk(s,i,o,c,p){if(i==="submit"&&o&&o.stateNode===p){var y=nw((p[rn]||null).action),x=c.submitter;x&&(i=(i=x[rn]||null)?nw(i.formAction):x.getAttribute("formAction"),i!==null&&(y=i,x=null));var A=new xs("action","action",null,c,p);s.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Xi!==0){var L=x?rw(p,x):new FormData(p);Mg(o,{pending:!0,data:L,method:p.method,action:y},null,L)}}else typeof y=="function"&&(A.preventDefault(),L=x?rw(p,x):new FormData(p),Mg(o,{pending:!0,data:L,method:p.method,action:y},y,L))},currentTarget:p}]})}}for(var yy=0;yy<Zm.length;yy++){var _y=Zm[yy],yk=_y.toLowerCase(),_k=_y[0].toUpperCase()+_y.slice(1);Hr(yk,"on"+_k)}Hr(Ob,"onAnimationEnd"),Hr(Pb,"onAnimationIteration"),Hr(Mb,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(Oj,"onTransitionRun"),Hr(Pj,"onTransitionStart"),Hr(Mj,"onTransitionCancel"),Hr(Lb,"onTransitionEnd"),ys("onMouseEnter",["mouseout","mouseover"]),ys("onMouseLeave",["mouseout","mouseover"]),ys("onPointerEnter",["pointerout","pointerover"]),ys("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function sw(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],p=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var x=c.length-1;0<=x;x--){var A=c[x],L=A.instance,W=A.currentTarget;if(A=A.listener,L!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=W;try{y(p)}catch(ee){xh(ee)}p.currentTarget=null,y=L}else for(x=0;x<c.length;x++){if(A=c[x],L=A.instance,W=A.currentTarget,A=A.listener,L!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=W;try{y(p)}catch(ee){xh(ee)}p.currentTarget=null,y=L}}}}function Fe(s,i){var o=i[Fo];o===void 0&&(o=i[Fo]=new Set);var c=s+"__bubble";o.has(c)||(iw(i,s,2,!1),o.add(c))}function vy(s,i,o){var c=0;i&&(c|=4),iw(o,s,c,i)}var lf="_reactListening"+Math.random().toString(36).slice(2);function by(s){if(!s[lf]){s[lf]=!0,xc.forEach(function(o){o!=="selectionchange"&&(vk.has(o)||vy(o,!1,s),vy(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[lf]||(i[lf]=!0,vy("selectionchange",!1,i))}}function iw(s,i,o,c){switch(Ow(i)){case 2:var p=Gk;break;case 8:p=Kk;break;default:p=Py}o=p.bind(null,i,o,s),p=void 0,!za||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?s.addEventListener(i,o,{capture:!0,passive:p}):s.addEventListener(i,o,!0):p!==void 0?s.addEventListener(i,o,{passive:p}):s.addEventListener(i,o,!1)}function xy(s,i,o,c,p){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var A=c.stateNode.containerInfo;if(A===p)break;if(x===4)for(x=c.return;x!==null;){var L=x.tag;if((L===3||L===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;A!==null;){if(x=ps(A),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){c=y=x;continue e}A=A.parentNode}}c=c.return}Ni(function(){var W=y,ee=_r(o),se=[];e:{var K=Vb.get(s);if(K!==void 0){var Q=xs,ve=s;switch(s){case"keypress":if(Ba(o)===0)break e;case"keydown":case"keyup":Q=_h;break;case"focusin":ve="focus",Q=qa;break;case"focusout":ve="blur",Q=qa;break;case"beforeblur":case"afterblur":Q=qa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=b;break;case Ob:case Pb:case Mb:Q=dh;break;case Lb:Q=R;break;case"scroll":case"scrollend":Q=Dc;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ys;break;case"toggle":case"beforetoggle":Q=Pe}var Re=(i&4)!==0,ct=!Re&&(s==="scroll"||s==="scrollend"),q=Re?K!==null?K+"Capture":null:K;Re=[];for(var U=W,$;U!==null;){var re=U;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||q===null||(re=Ur(U,q),re!=null&&Re.push(uu(U,re,$))),ct)break;U=U.return}0<Re.length&&(K=new Q(K,ve,null,o,ee),se.push({event:K,listeners:Re}))}}if((i&7)===0){e:{if(K=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",K&&o!==jc&&(ve=o.relatedTarget||o.fromElement)&&(ps(ve)||ve[hs]))break e;if((Q||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(ve=o.relatedTarget||o.toElement,Q=W,ve=ve?ps(ve):null,ve!==null&&(ct=l(ve),Re=ve.tag,ve!==ct||Re!==5&&Re!==27&&Re!==6)&&(ve=null)):(Q=null,ve=W),Q!==ve)){if(Re=Oc,re="onMouseLeave",q="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Ys,re="onPointerLeave",q="onPointerEnter",U="pointer"),ct=Q==null?K:Xn(Q),$=ve==null?K:Xn(ve),K=new Re(re,U+"leave",Q,o,ee),K.target=ct,K.relatedTarget=$,re=null,ps(ee)===W&&(Re=new Re(q,U+"enter",ve,o,ee),Re.target=$,Re.relatedTarget=ct,re=Re),ct=re,Q&&ve)t:{for(Re=bk,q=Q,U=ve,$=0,re=q;re;re=Re(re))$++;re=0;for(var Se=U;Se;Se=Re(Se))re++;for(;0<$-re;)q=Re(q),$--;for(;0<re-$;)U=Re(U),re--;for(;$--;){if(q===U||U!==null&&q===U.alternate){Re=q;break t}q=Re(q),U=Re(U)}Re=null}else Re=null;Q!==null&&aw(se,K,Q,Re,!1),ve!==null&&ct!==null&&aw(se,ct,ve,Re,!0)}}e:{if(K=W?Xn(W):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var Je=Eb;else if(xb(K))if(Sb)Je=kj;else{Je=Ij;var xe=Cj}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&Wo(W.elementType)&&(Je=Eb):Je=jj;if(Je&&(Je=Je(s,W))){wb(se,Je,o,ee);break e}xe&&xe(s,K,W),s==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&Rc(K,"number",K.value)}switch(xe=W?Xn(W):window,s){case"focusin":(xb(xe)||xe.contentEditable==="true")&&(el=xe,Qm=W,zc=null);break;case"focusout":zc=Qm=el=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,Nb(se,o,ee);break;case"selectionchange":if(Dj)break;case"keydown":case"keyup":Nb(se,o,ee)}var Ve;if(et)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Zo?Ha(s,o)&&($e="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(Ss&&o.locale!=="ko"&&(Zo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Zo&&(Ve=Nc()):(bs=ee,kc="value"in bs?bs.value:bs.textContent,Zo=!0)),xe=cf(W,$e),0<xe.length&&($e=new Es($e,s,null,o,ee),se.push({event:$e,listeners:xe}),Ve?$e.data=Ve:(Ve=Jo(o),Ve!==null&&($e.data=Ve)))),(Ve=br?Sj(s,o):Tj(s,o))&&($e=cf(W,"onBeforeInput"),0<$e.length&&(xe=new Es("onBeforeInput","beforeinput",null,o,ee),se.push({event:xe,listeners:$e}),xe.data=Ve)),gk(se,s,W,o,ee)}sw(se,i)})}function uu(s,i,o){return{instance:s,listener:i,currentTarget:o}}function cf(s,i){for(var o=i+"Capture",c=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ur(s,o),p!=null&&c.unshift(uu(s,p,y)),p=Ur(s,i),p!=null&&c.push(uu(s,p,y))),s.tag===3)return c;s=s.return}return[]}function bk(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aw(s,i,o,c,p){for(var y=i._reactName,x=[];o!==null&&o!==c;){var A=o,L=A.alternate,W=A.stateNode;if(A=A.tag,L!==null&&L===c)break;A!==5&&A!==26&&A!==27||W===null||(L=W,p?(W=Ur(o,y),W!=null&&x.unshift(uu(o,W,L))):p||(W=Ur(o,y),W!=null&&x.push(uu(o,W,L)))),o=o.return}x.length!==0&&s.push({event:i,listeners:x})}var xk=/\r\n?/g,wk=/\u0000|\uFFFD/g;function ow(s){return(typeof s=="string"?s:""+s).replace(xk,`
`).replace(wk,"")}function lw(s,i){return i=ow(i),ow(s)===i}function lt(s,i,o,c,p,y){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Ln(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Ln(s,""+c);break;case"className":Jn(s,"class",c);break;case"tabIndex":Jn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(s,o,c);break;case"style":Ic(s,c,y);break;case"data":if(i!=="object"){Jn(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Go(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&lt(s,i,"name",p.name,p,null),lt(s,i,"formEncType",p.formEncType,p,null),lt(s,i,"formMethod",p.formMethod,p,null),lt(s,i,"formTarget",p.formTarget,p,null)):(lt(s,i,"encType",p.encType,p,null),lt(s,i,"method",p.method,p,null),lt(s,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Go(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=zr);break;case"onScroll":c!=null&&Fe("scroll",s);break;case"onScrollEnd":c!=null&&Fe("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=Go(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":Fe("beforetoggle",s),Fe("toggle",s),Ho(s,"popover",c);break;case"xlinkActuate":Ut(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ut(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ut(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ut(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ut(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ut(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ut(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ut(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ut(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ho(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lh.get(o)||o,Ho(s,o,c))}}function wy(s,i,o,c,p,y){switch(o){case"style":Ic(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Ln(s,c):(typeof c=="number"||typeof c=="bigint")&&Ln(s,""+c);break;case"onScroll":c!=null&&Fe("scroll",s);break;case"onScrollEnd":c!=null&&Fe("scrollend",s);break;case"onClick":c!=null&&(s.onclick=zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),y=s[rn]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(i,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(i,c,p);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):Ho(s,o,c)}}}function mn(s,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",s),Fe("load",s);var c=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var x=o[y];if(x!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(s,i,y,x,o,null)}}p&&lt(s,i,"srcSet",o.srcSet,o,null),c&&lt(s,i,"src",o.src,o,null);return;case"input":Fe("invalid",s);var A=y=x=p=null,L=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":p=ee;break;case"type":x=ee;break;case"checked":L=ee;break;case"defaultChecked":W=ee;break;case"value":y=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:lt(s,i,c,ee,o,null)}}ih(s,y,A,L,W,x,p,!1);return;case"select":Fe("invalid",s),c=x=y=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":x=A;break;case"multiple":c=A;default:lt(s,i,p,A,o,null)}i=y,o=x,s.multiple=!!c,i!=null?Ci(s,!!c,i,!1):o!=null&&Ci(s,!!c,o,!0);return;case"textarea":Fe("invalid",s),y=p=c=null;for(x in o)if(o.hasOwnProperty(x)&&(A=o[x],A!=null))switch(x){case"value":c=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:lt(s,i,x,A,o,null)}Ii(s,c,p,y);return;case"option":for(L in o)o.hasOwnProperty(L)&&(c=o[L],c!=null)&&(L==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":lt(s,i,L,c,o,null));return;case"dialog":Fe("beforetoggle",s),Fe("toggle",s),Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":Fe("load",s);break;case"video":case"audio":for(c=0;c<cu.length;c++)Fe(cu[c],s);break;case"image":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"embed":case"source":case"link":Fe("error",s),Fe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(s,i,W,c,o,null)}return;default:if(Wo(i)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&wy(s,i,ee,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&lt(s,i,A,c,o,null))}function Ek(s,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,x=null,A=null,L=null,W=null,ee=null;for(Q in o){var se=o[Q];if(o.hasOwnProperty(Q)&&se!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":L=se;default:c.hasOwnProperty(Q)||lt(s,i,Q,null,c,se)}}for(var K in c){var Q=c[K];if(se=o[K],c.hasOwnProperty(K)&&(Q!=null||se!=null))switch(K){case"type":y=Q;break;case"name":p=Q;break;case"checked":W=Q;break;case"defaultChecked":ee=Q;break;case"value":x=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==se&&lt(s,i,K,Q,c,se)}}$o(s,x,A,L,W,ee,y,p);return;case"select":Q=x=A=K=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":Q=L;default:c.hasOwnProperty(y)||lt(s,i,y,null,c,L)}for(p in c)if(y=c[p],L=o[p],c.hasOwnProperty(p)&&(y!=null||L!=null))switch(p){case"value":K=y;break;case"defaultValue":A=y;break;case"multiple":x=y;default:y!==L&&lt(s,i,p,y,c,L)}i=A,o=x,c=Q,K!=null?Ci(s,!!o,K,!1):!!c!=!!o&&(i!=null?Ci(s,!!o,i,!0):Ci(s,!!o,o?[]:"",!1));return;case"textarea":Q=K=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:lt(s,i,A,null,c,p)}for(x in c)if(p=c[x],y=o[x],c.hasOwnProperty(x)&&(p!=null||y!=null))switch(x){case"value":K=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&lt(s,i,x,p,c,y)}ah(s,K,Q);return;case"option":for(var ve in o)K=o[ve],o.hasOwnProperty(ve)&&K!=null&&!c.hasOwnProperty(ve)&&(ve==="selected"?s.selected=!1:lt(s,i,ve,null,c,K));for(L in c)K=c[L],Q=o[L],c.hasOwnProperty(L)&&K!==Q&&(K!=null||Q!=null)&&(L==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":lt(s,i,L,K,c,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)K=o[Re],o.hasOwnProperty(Re)&&K!=null&&!c.hasOwnProperty(Re)&&lt(s,i,Re,null,c,K);for(W in c)if(K=c[W],Q=o[W],c.hasOwnProperty(W)&&K!==Q&&(K!=null||Q!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:lt(s,i,W,K,c,Q)}return;default:if(Wo(i)){for(var ct in o)K=o[ct],o.hasOwnProperty(ct)&&K!==void 0&&!c.hasOwnProperty(ct)&&wy(s,i,ct,void 0,c,K);for(ee in c)K=c[ee],Q=o[ee],!c.hasOwnProperty(ee)||K===Q||K===void 0&&Q===void 0||wy(s,i,ee,K,c,Q);return}}for(var q in o)K=o[q],o.hasOwnProperty(q)&&K!=null&&!c.hasOwnProperty(q)&&lt(s,i,q,null,c,K);for(se in c)K=c[se],Q=o[se],!c.hasOwnProperty(se)||K===Q||K==null&&Q==null||lt(s,i,se,K,c,Q)}function cw(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sk(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],y=p.transferSize,x=p.initiatorType,A=p.duration;if(y&&A&&cw(x)){for(x=0,A=p.responseEnd,c+=1;c<o.length;c++){var L=o[c],W=L.startTime;if(W>A)break;var ee=L.transferSize,se=L.initiatorType;ee&&cw(se)&&(L=L.responseEnd,x+=ee*(L<A?1:(A-W)/(L-W)))}if(--c,i+=8*(y+x)/(p.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ey=null,Sy=null;function uf(s){return s.nodeType===9?s:s.ownerDocument}function uw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dw(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Ty(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ay=null;function Tk(){var s=window.event;return s&&s.type==="popstate"?s===Ay?!1:(Ay=s,!0):(Ay=null,!1)}var hw=typeof setTimeout=="function"?setTimeout:void 0,Ak=typeof clearTimeout=="function"?clearTimeout:void 0,fw=typeof Promise=="function"?Promise:void 0,Rk=typeof queueMicrotask=="function"?queueMicrotask:typeof fw<"u"?function(s){return fw.resolve(null).then(s).catch(Ck)}:hw;function Ck(s){setTimeout(function(){throw s})}function Ji(s){return s==="head"}function pw(s,i){var o=i,c=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(p),Rl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")du(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,du(o);for(var y=o.firstChild;y;){var x=y.nextSibling,A=y.nodeName;y[fs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=x}}else o==="body"&&du(s.ownerDocument.body);o=p}while(o);Rl(i)}function mw(s,i){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function Ry(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ry(o),qo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function Ik(s,i,o,c){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[fs])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Rr(s.nextSibling),s===null)break}return null}function jk(s,i,o){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Rr(s.nextSibling),s===null))return null;return s}function gw(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=Rr(s.nextSibling),s===null))return null;return s}function Cy(s){return s.data==="$?"||s.data==="$~"}function Iy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function kk(s,i){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Rr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var jy=null;function yw(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(i===0)return Rr(s.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}s=s.nextSibling}return null}function _w(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return s;i--}else o!=="/$"&&o!=="/&"||i++}s=s.previousSibling}return null}function vw(s,i,o){switch(i=uf(o),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function du(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);qo(s)}var Cr=new Map,bw=new Set;function df(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ui=de.d;de.d={f:Nk,r:Dk,D:Ok,C:Pk,L:Mk,m:Lk,X:zk,S:Vk,M:Uk};function Nk(){var s=ui.f(),i=tf();return s||i}function Dk(s){var i=yr(s);i!==null&&i.tag===5&&i.type==="form"?Lx(i):ui.r(s)}var Sl=typeof document>"u"?null:document;function xw(s,i,o){var c=Sl;if(c&&typeof i=="string"&&i){var p=Mn(i);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),bw.has(p)||(bw.add(p),s={rel:s,crossOrigin:o,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),mn(i,"link",s),zt(i),c.head.appendChild(i)))}}function Ok(s){ui.D(s),xw("dns-prefetch",s,null)}function Pk(s,i){ui.C(s,i),xw("preconnect",s,i)}function Mk(s,i,o){ui.L(s,i,o);var c=Sl;if(c&&s&&i){var p='link[rel="preload"][as="'+Mn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Mn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Mn(o.imageSizes)+'"]')):p+='[href="'+Mn(s)+'"]';var y=p;switch(i){case"style":y=Tl(s);break;case"script":y=Al(s)}Cr.has(y)||(s=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:s,as:i},o),Cr.set(y,s),c.querySelector(p)!==null||i==="style"&&c.querySelector(hu(y))||i==="script"&&c.querySelector(fu(y))||(i=c.createElement("link"),mn(i,"link",s),zt(i),c.head.appendChild(i)))}}function Lk(s,i){ui.m(s,i);var o=Sl;if(o&&s){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Mn(c)+'"][href="'+Mn(s)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Al(s)}if(!Cr.has(y)&&(s=v({rel:"modulepreload",href:s},i),Cr.set(y,s),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(fu(y)))return}c=o.createElement("link"),mn(c,"link",s),zt(c),o.head.appendChild(c)}}}function Vk(s,i,o){ui.S(s,i,o);var c=Sl;if(c&&s){var p=ms(c).hoistableStyles,y=Tl(s);i=i||"default";var x=p.get(y);if(!x){var A={loading:0,preload:null};if(x=c.querySelector(hu(y)))A.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":i},o),(o=Cr.get(y))&&ky(s,o);var L=x=c.createElement("link");zt(L),mn(L,"link",s),L._p=new Promise(function(W,ee){L.onload=W,L.onerror=ee}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,hf(x,i,c)}x={type:"stylesheet",instance:x,count:1,state:A},p.set(y,x)}}}function zk(s,i){ui.X(s,i);var o=Sl;if(o&&s){var c=ms(o).hoistableScripts,p=Al(s),y=c.get(p);y||(y=o.querySelector(fu(p)),y||(s=v({src:s,async:!0},i),(i=Cr.get(p))&&Ny(s,i),y=o.createElement("script"),zt(y),mn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function Uk(s,i){ui.M(s,i);var o=Sl;if(o&&s){var c=ms(o).hoistableScripts,p=Al(s),y=c.get(p);y||(y=o.querySelector(fu(p)),y||(s=v({src:s,async:!0,type:"module"},i),(i=Cr.get(p))&&Ny(s,i),y=o.createElement("script"),zt(y),mn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function ww(s,i,o,c){var p=(p=Le.current)?df(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Tl(o.href),o=ms(p).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Tl(o.href);var y=ms(p).hoistableStyles,x=y.get(s);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=p.querySelector(hu(s)))&&!y._p&&(x.instance=y,x.state.loading=5),Cr.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Cr.set(s,o),y||Bk(p,s,o,x.state))),i&&c===null)throw Error(r(528,""));return x}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Al(o),o=ms(p).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Tl(s){return'href="'+Mn(s)+'"'}function hu(s){return'link[rel="stylesheet"]['+s+"]"}function Ew(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function Bk(s,i,o,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),mn(i,"link",o),zt(i),s.head.appendChild(i))}function Al(s){return'[src="'+Mn(s)+'"]'}function fu(s){return"script[async]"+s}function Sw(s,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+Mn(o.href)+'"]');if(c)return i.instance=c,zt(c),c;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),zt(c),mn(c,"style",p),hf(c,o.precedence,s),i.instance=c;case"stylesheet":p=Tl(o.href);var y=s.querySelector(hu(p));if(y)return i.state.loading|=4,i.instance=y,zt(y),y;c=Ew(o),(p=Cr.get(p))&&ky(c,p),y=(s.ownerDocument||s).createElement("link"),zt(y);var x=y;return x._p=new Promise(function(A,L){x.onload=A,x.onerror=L}),mn(y,"link",c),i.state.loading|=4,hf(y,o.precedence,s),i.instance=y;case"script":return y=Al(o.src),(p=s.querySelector(fu(y)))?(i.instance=p,zt(p),p):(c=o,(p=Cr.get(y))&&(c=v({},o),Ny(c,p)),s=s.ownerDocument||s,p=s.createElement("script"),zt(p),mn(p,"link",c),s.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,hf(c,o.precedence,s));return i.instance}function hf(s,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,x=0;x<c.length;x++){var A=c[x];if(A.dataset.precedence===i)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(s,i.firstChild))}function ky(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Ny(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var ff=null;function Tw(s,i,o){if(ff===null){var c=new Map,p=ff=new Map;p.set(o,c)}else p=ff,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var y=o[p];if(!(y[fs]||y[Vt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(i)||"";x=s+x;var A=c.get(x);A?A.push(y):c.set(x,[y])}}return c}function Aw(s,i,o){s=s.ownerDocument||s,s.head.insertBefore(o,i==="title"?s.querySelector("head > title"):null)}function Fk(s,i,o){if(o===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Rw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function qk(s,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Tl(c.href),y=i.querySelector(hu(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=pf.bind(s),i.then(s,s)),o.state.loading|=4,o.instance=y,zt(y);return}y=i.ownerDocument||i,c=Ew(c),(p=Cr.get(p))&&ky(c,p),y=y.createElement("link"),zt(y);var x=y;x._p=new Promise(function(A,L){x.onload=A,x.onerror=L}),mn(y,"link",c),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=pf.bind(s),i.addEventListener("load",o),i.addEventListener("error",o))}}var Dy=0;function Hk(s,i){return s.stylesheets&&s.count===0&&gf(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&gf(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Dy===0&&(Dy=62500*Sk());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&gf(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Dy?50:800)+i);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var mf=null;function gf(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,mf=new Map,i.forEach($k,s),mf=null,pf.call(s))}function $k(s,i){if(!(i.state.loading&4)){var o=mf.get(s);if(o)var c=o.get(null);else{o=new Map,mf.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var x=p[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}p=i.instance,x=p.getAttribute("data-precedence"),y=o.get(x)||c,y===c&&o.set(null,p),o.set(x,p),this.count++,c=pf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),i.state.loading|=4}}var pu={$$typeof:J,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Wk(s,i,o,c,p,y,x,A,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Cw(s,i,o,c,p,y,x,A,L,W,ee,se){return s=new Wk(s,i,o,x,L,W,ee,se,A),i=1,y===!0&&(i|=24),y=er(3,null,null,i),s.current=y,y.stateNode=s,i=hg(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:i},gg(y),s}function Iw(s){return s?(s=rl,s):rl}function jw(s,i,o,c,p,y){p=Iw(p),c.context===null?c.context=p:c.pendingContext=p,c=Bi(i),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Fi(s,c,i),o!==null&&(Fn(o,s,i),Wc(o,s,i))}function kw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function Oy(s,i){kw(s,i),(s=s.alternate)&&kw(s,i)}function Nw(s){if(s.tag===13||s.tag===31){var i=Ga(s,67108864);i!==null&&Fn(i,s,67108864),Oy(s,67108864)}}function Dw(s){if(s.tag===13||s.tag===31){var i=ir();i=Pa(i);var o=Ga(s,i);o!==null&&Fn(o,s,i),Oy(s,i)}}var yf=!0;function Gk(s,i,o,c){var p=Z.T;Z.T=null;var y=de.p;try{de.p=2,Py(s,i,o,c)}finally{de.p=y,Z.T=p}}function Kk(s,i,o,c){var p=Z.T;Z.T=null;var y=de.p;try{de.p=8,Py(s,i,o,c)}finally{de.p=y,Z.T=p}}function Py(s,i,o,c){if(yf){var p=My(c);if(p===null)xy(s,i,c,_f,o),Pw(s,c);else if(Qk(p,s,i,o,c))c.stopPropagation();else if(Pw(s,c),i&4&&-1<Yk.indexOf(s)){for(;p!==null;){var y=yr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=cs(y.pendingLanes);if(x!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;x;){var L=1<<31-jt(x);A.entanglements[1]|=L,x&=~L}Cs(y),(tt&6)===0&&(Zh=Cn()+500,lu(0))}}break;case 31:case 13:A=Ga(y,2),A!==null&&Fn(A,y,2),tf(),Oy(y,2)}if(y=My(c),y===null&&xy(s,i,c,_f,o),y===p)break;p=y}p!==null&&c.stopPropagation()}else xy(s,i,c,null,o)}}function My(s){return s=_r(s),Ly(s)}var _f=null;function Ly(s){if(_f=null,s=ps(s),s!==null){var i=l(s);if(i===null)s=null;else{var o=i.tag;if(o===13){if(s=d(i),s!==null)return s;s=null}else if(o===31){if(s=f(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return _f=s,null}function Ow(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case yc:return 2;case _c:return 8;case Ai:case qm:return 32;case Yd:return 268435456;default:return 32}default:return 32}}var Vy=!1,Zi=null,ea=null,ta=null,mu=new Map,gu=new Map,na=[],Yk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pw(s,i){switch(s){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":mu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(i.pointerId)}}function yu(s,i,o,c,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},i!==null&&(i=yr(i),i!==null&&Nw(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Qk(s,i,o,c,p){switch(i){case"focusin":return Zi=yu(Zi,s,i,o,c,p),!0;case"dragenter":return ea=yu(ea,s,i,o,c,p),!0;case"mouseover":return ta=yu(ta,s,i,o,c,p),!0;case"pointerover":var y=p.pointerId;return mu.set(y,yu(mu.get(y)||null,s,i,o,c,p)),!0;case"gotpointercapture":return y=p.pointerId,gu.set(y,yu(gu.get(y)||null,s,i,o,c,p)),!0}return!1}function Mw(s){var i=ps(s.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){s.blockedOn=i,Lr(s.priority,function(){Dw(o)});return}}else if(i===31){if(i=f(o),i!==null){s.blockedOn=i,Lr(s.priority,function(){Dw(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vf(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=My(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);jc=c,o.target.dispatchEvent(c),jc=null}else return i=yr(o),i!==null&&Nw(i),s.blockedOn=o,!1;i.shift()}return!0}function Lw(s,i,o){vf(s)&&o.delete(i)}function Xk(){Vy=!1,Zi!==null&&vf(Zi)&&(Zi=null),ea!==null&&vf(ea)&&(ea=null),ta!==null&&vf(ta)&&(ta=null),mu.forEach(Lw),gu.forEach(Lw)}function bf(s,i){s.blockedOn===i&&(s.blockedOn=null,Vy||(Vy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Xk)))}var xf=null;function Vw(s){xf!==s&&(xf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xf===s&&(xf=null);for(var i=0;i<s.length;i+=3){var o=s[i],c=s[i+1],p=s[i+2];if(typeof c!="function"){if(Ly(c||o)===null)continue;break}var y=yr(o);y!==null&&(s.splice(i,3),i-=3,Mg(y,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Rl(s){function i(L){return bf(L,s)}Zi!==null&&bf(Zi,s),ea!==null&&bf(ea,s),ta!==null&&bf(ta,s),mu.forEach(i),gu.forEach(i);for(var o=0;o<na.length;o++){var c=na[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<na.length&&(o=na[0],o.blockedOn===null);)Mw(o),o.blockedOn===null&&na.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],x=p[rn]||null;if(typeof y=="function")x||Vw(o);else if(x){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,x=y[rn]||null)A=x.formAction;else if(Ly(p)!==null)continue}else A=x.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),Vw(o)}}}function zw(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function zy(s){this._internalRoot=s}wf.prototype.render=zy.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=ir();jw(o,c,s,i,null,null)},wf.prototype.unmount=zy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;jw(s.current,2,null,s,null,null),tf(),i[hs]=null}};function wf(s){this._internalRoot=s}wf.prototype.unstable_scheduleHydration=function(s){if(s){var i=th();s={blockedOn:null,target:s,priority:i};for(var o=0;o<na.length&&i!==0&&i<na[o].priority;o++);na.splice(o,0,s),o===0&&Mw(s)}};var Uw=e.version;if(Uw!=="19.2.3")throw Error(r(527,Uw,"19.2.3"));de.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(i),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var Jk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Pr=Ef.inject(Jk),un=Ef}catch{}}return vu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var o=!1,c="",p=Gx,y=Kx,x=Yx;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=Cw(s,1,!1,null,null,o,c,null,p,y,x,zw),s[hs]=i.current,by(s),new zy(i)},vu.hydrateRoot=function(s,i,o){if(!a(s))throw Error(r(299));var c=!1,p="",y=Gx,x=Kx,A=Yx,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),i=Cw(s,1,!0,i,o??null,c,p,L,y,x,A,zw),i.context=Iw(null),o=i.current,c=ir(),c=Pa(c),p=Bi(c),p.callback=null,Fi(o,p,c),o=c,i.current.lanes=o,Da(i,o),Cs(i),s[hs]=i.current,by(s),new wf(i)},vu.version="19.2.3",vu}var Qw;function oN(){if(Qw)return Fy.exports;Qw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fy.exports=aN(),Fy.exports}var lN=oN();const cN=LT(lN);var Xw="popstate";function uN(n={}){function e(r,a){let{pathname:l,search:d,hash:f}=r.location;return T0("",{pathname:l,search:d,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:cd(a)}return hN(e,t,null,n)}function wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dN(){return Math.random().toString(36).substring(2,10)}function Jw(n,e){return{usr:n.state,key:n.key,idx:e}}function T0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?nc(e):e,state:t,key:e&&e.key||r||dN()}}function cd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function nc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function hN(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,d=a.history,f="POP",m=null,g=_();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function _(){return(d.state||{idx:null}).idx}function v(){f="POP";let D=_(),F=D==null?null:D-g;g=D,m&&m({action:f,location:I.location,delta:F})}function w(D,F){f="PUSH";let z=T0(I.location,D,F);g=_()+1;let J=Jw(z,g),ae=I.createHref(z);try{d.pushState(J,"",ae)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;a.location.assign(ae)}l&&m&&m({action:f,location:I.location,delta:1})}function S(D,F){f="REPLACE";let z=T0(I.location,D,F);g=_();let J=Jw(z,g),ae=I.createHref(z);d.replaceState(J,"",ae),l&&m&&m({action:f,location:I.location,delta:0})}function T(D){return fN(D)}let I={get action(){return f},get location(){return n(a,d)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Xw,v),m=D,()=>{a.removeEventListener(Xw,v),m=null}},createHref(D){return e(a,D)},createURL:T,encodeLocation(D){let F=T(D);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:S,go(D){return d.go(D)}};return I}function fN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),wt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:cd(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function zT(n,e,t="/"){return pN(n,e,t,!1)}function pN(n,e,t,r){let a=typeof e=="string"?nc(e):e,l=bi(a.pathname||"/",t);if(l==null)return null;let d=UT(n);mN(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let g=AN(l);f=SN(d[m],g,r)}return f}function UT(n,e=[],t=[],r="",a=!1){let l=(d,f,m=a,g)=>{let _={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&m)return;wt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let v=_i([r,_.relativePath]),w=t.concat(_);d.children&&d.children.length>0&&(wt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),UT(d.children,e,w,v,m)),!(d.path==null&&!d.index)&&e.push({path:v,score:wN(v,d.index),routesMeta:w})};return n.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))l(d,f);else for(let m of BT(d.path))l(d,f,!0,m)}),e}function BT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let d=BT(r.join("/")),f=[];return f.push(...d.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...d),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function mN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:EN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var gN=/^:[\w-]+$/,yN=3,_N=2,vN=1,bN=10,xN=-2,Zw=n=>n==="*";function wN(n,e){let t=n.split("/"),r=t.length;return t.some(Zw)&&(r+=xN),e&&(r+=_N),t.filter(a=>!Zw(a)).reduce((a,l)=>a+(gN.test(l)?yN:l===""?vN:bN),r)}function EN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function SN(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",d=[];for(let f=0;f<r.length;++f){let m=r[f],g=f===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=yp({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),w=m.route;if(!v&&g&&t&&!r[r.length-1].route.index&&(v=yp({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!v)return null;Object.assign(a,v.params),d.push({params:a,pathname:_i([l,v.pathname]),pathnameBase:jN(_i([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=_i([l,v.pathnameBase]))}return d}function yp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=TN(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],d=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:v},w)=>{if(_==="*"){let T=f[w]||"";d=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const S=f[w];return v&&!S?g[_]=void 0:g[_]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:d,pattern:n}}function TN(n,e=!1,t=!0){Dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function AN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function bi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var FT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RN=n=>FT.test(n);function CN(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?nc(n):n,l;if(t)if(RN(t))l=t;else{if(t.includes("//")){let d=t;t=t.replace(/\/\/+/g,"/"),Dr(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${t}`)}t.startsWith("/")?l=eE(t.substring(1),"/"):l=eE(t,e)}else l=e;return{pathname:l,search:kN(r),hash:NN(a)}}function eE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Wy(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function w_(n){let e=IN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function E_(n,e,t,r=!1){let a;typeof n=="string"?a=nc(n):(a={...n},wt(!a.pathname||!a.pathname.includes("?"),Wy("?","pathname","search",a)),wt(!a.pathname||!a.pathname.includes("#"),Wy("#","pathname","hash",a)),wt(!a.search||!a.search.includes("#"),Wy("#","search","hash",a)));let l=n===""||a.pathname==="",d=l?"/":a.pathname,f;if(d==null)f=t;else{let v=e.length-1;if(!r&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}f=v>=0?e[v]:"/"}let m=CN(a,f),g=d&&d!=="/"&&d.endsWith("/"),_=(l||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var _i=n=>n.join("/").replace(/\/\/+/g,"/"),jN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,DN=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function ON(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function PN(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function HT(n,e){let t=n;if(typeof t!="string"||!FT.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(qT)try{let l=new URL(window.location.href),d=t.startsWith("//")?new URL(l.protocol+t):new URL(t),f=bi(d.pathname,e);d.origin===l.origin&&f!=null?t=f+d.search+d.hash:a=!0}catch{Dr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $T=["POST","PUT","PATCH","DELETE"];new Set($T);var MN=["GET",...$T];new Set(MN);var rc=N.createContext(null);rc.displayName="DataRouter";var Jp=N.createContext(null);Jp.displayName="DataRouterState";var LN=N.createContext(!1),WT=N.createContext({isTransitioning:!1});WT.displayName="ViewTransition";var VN=N.createContext(new Map);VN.displayName="Fetchers";var zN=N.createContext(null);zN.displayName="Await";var fr=N.createContext(null);fr.displayName="Navigation";var Sd=N.createContext(null);Sd.displayName="Location";var ns=N.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var S_=N.createContext(null);S_.displayName="RouteError";var GT="REACT_ROUTER_ERROR",UN="REDIRECT",BN="ROUTE_ERROR_RESPONSE";function FN(n){if(n.startsWith(`${GT}:${UN}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function qN(n){if(n.startsWith(`${GT}:${BN}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new DN(e.status,e.statusText,e.data)}catch{}}function HN(n,{relative:e}={}){wt(sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=N.useContext(fr),{hash:a,pathname:l,search:d}=Td(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:_i([t,l])),r.createHref({pathname:f,search:d,hash:a})}function sc(){return N.useContext(Sd)!=null}function rs(){return wt(sc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Sd).location}var KT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YT(n){N.useContext(fr).static||N.useLayoutEffect(n)}function pr(){let{isDataRoute:n}=N.useContext(ns);return n?rD():$N()}function $N(){wt(sc(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(rc),{basename:e,navigator:t}=N.useContext(fr),{matches:r}=N.useContext(ns),{pathname:a}=rs(),l=JSON.stringify(w_(r)),d=N.useRef(!1);return YT(()=>{d.current=!0}),N.useCallback((m,g={})=>{if(Dr(d.current,KT),!d.current)return;if(typeof m=="number"){t.go(m);return}let _=E_(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:_i([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,n])}N.createContext(null);function T_(){let{matches:n}=N.useContext(ns),e=n[n.length-1];return e?e.params:{}}function Td(n,{relative:e}={}){let{matches:t}=N.useContext(ns),{pathname:r}=rs(),a=JSON.stringify(w_(t));return N.useMemo(()=>E_(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function WN(n,e){return QT(n,e)}function QT(n,e,t,r,a){wt(sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(fr),{matches:d}=N.useContext(ns),f=d[d.length-1],m=f?f.params:{},g=f?f.pathname:"/",_=f?f.pathnameBase:"/",v=f&&f.route;{let z=v&&v.path||"";JT(g,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let w=rs(),S;if(e){let z=typeof e=="string"?nc(e):e;wt(_==="/"||z.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=w;let T=S.pathname||"/",I=T;if(_!=="/"){let z=_.replace(/^\//,"").split("/");I="/"+T.replace(/^\//,"").split("/").slice(z.length).join("/")}let D=zT(n,{pathname:I});Dr(v||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Dr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=XN(D&&D.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:_i([_,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:_i([_,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),d,t,r,a);return e&&F?N.createElement(Sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function GN(){let n=nD(),e=ON(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:a},t):null,d)}var KN=N.createElement(GN,null),XT=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=qN(n.digest);t&&(n=t)}let e=n!==void 0?N.createElement(ns.Provider,{value:this.props.routeContext},N.createElement(S_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?N.createElement(YN,{error:n},e):e}};XT.contextType=LN;var Gy=new WeakMap;function YN({children:n,error:e}){let{basename:t}=N.useContext(fr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=FN(e.digest);if(r){let a=Gy.get(e);if(a)throw a;let l=HT(r.location,t);if(qT&&!Gy.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Gy.set(e,d),d}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function QN({routeContext:n,match:e,children:t}){let r=N.useContext(rc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ns.Provider,{value:n},t)}function XN(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,d=t?.errors;if(d!=null){let _=l.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);wt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let f=!1,m=-1;if(t)for(let _=0;_<l.length;_++){let v=l[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=_),v.route.id){let{loaderData:w,errors:S}=t,T=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||T){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&r?(_,v)=>{r(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:PN(t.matches),errorInfo:v})}:void 0;return l.reduceRight((_,v,w)=>{let S,T=!1,I=null,D=null;t&&(S=d&&v.route.id?d[v.route.id]:void 0,I=v.route.errorElement||KN,f&&(m<0&&w===0?(JT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,D=null):m===w&&(T=!0,D=v.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,w+1)),z=()=>{let J;return S?J=I:T?J=D:v.route.Component?J=N.createElement(v.route.Component,null):v.route.element?J=v.route.element:J=_,N.createElement(QN,{match:v,routeContext:{outlet:_,matches:F,isDataRoute:t!=null},children:J})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?N.createElement(XT,{location:t.location,revalidation:t.revalidation,component:I,error:S,children:z(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):z()},null)}function A_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JN(n){let e=N.useContext(rc);return wt(e,A_(n)),e}function ZN(n){let e=N.useContext(Jp);return wt(e,A_(n)),e}function eD(n){let e=N.useContext(ns);return wt(e,A_(n)),e}function R_(n){let e=eD(n),t=e.matches[e.matches.length-1];return wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tD(){return R_("useRouteId")}function nD(){let n=N.useContext(S_),e=ZN("useRouteError"),t=R_("useRouteError");return n!==void 0?n:e.errors?.[t]}function rD(){let{router:n}=JN("useNavigate"),e=R_("useNavigate"),t=N.useRef(!1);return YT(()=>{t.current=!0}),N.useCallback(async(a,l={})=>{Dr(t.current,KT),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var tE={};function JT(n,e,t){!e&&!tE[n]&&(tE[n]=!0,Dr(!1,t))}N.memo(sD);function sD({routes:n,future:e,state:t,onError:r}){return QT(n,void 0,t,r,e)}function ZT({to:n,replace:e,state:t,relative:r}){wt(sc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(fr);Dr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(ns),{pathname:d}=rs(),f=pr(),m=E_(n,w_(l),d,r==="path"),g=JSON.stringify(m);return N.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:r})},[f,g,r,e,t]),null}function on(n){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iD({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:d}){wt(!sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:d,future:{}}),[f,a,l,d]);typeof t=="string"&&(t=nc(t));let{pathname:g="/",search:_="",hash:v="",state:w=null,key:S="default"}=t,T=N.useMemo(()=>{let I=bi(g,f);return I==null?null:{location:{pathname:I,search:_,hash:v,state:w,key:S},navigationType:r}},[f,g,_,v,w,S,r]);return Dr(T!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:N.createElement(fr.Provider,{value:m},N.createElement(Sd.Provider,{children:e,value:T}))}function aD({children:n,location:e}){return WN(A0(n),e)}function A0(n,e=[]){let t=[];return N.Children.forEach(n,(r,a)=>{if(!N.isValidElement(r))return;let l=[...e,a];if(r.type===N.Fragment){t.push.apply(t,A0(r.props.children,l));return}wt(r.type===on,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=A0(r.props.children,l)),t.push(d)}),t}var $f="get",Wf="application/x-www-form-urlencoded";function Zp(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function oD(n){return Zp(n)&&n.tagName.toLowerCase()==="button"}function lD(n){return Zp(n)&&n.tagName.toLowerCase()==="form"}function cD(n){return Zp(n)&&n.tagName.toLowerCase()==="input"}function uD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dD(n,e){return n.button===0&&(!e||e==="_self")&&!uD(n)}var Sf=null;function hD(){if(Sf===null)try{new FormData(document.createElement("form"),0),Sf=!1}catch{Sf=!0}return Sf}var fD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ky(n){return n!=null&&!fD.has(n)?(Dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wf}"`),null):n}function pD(n,e){let t,r,a,l,d;if(lD(n)){let f=n.getAttribute("action");r=f?bi(f,e):null,t=n.getAttribute("method")||$f,a=Ky(n.getAttribute("enctype"))||Wf,l=new FormData(n)}else if(oD(n)||cD(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(r=m?bi(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||$f,a=Ky(n.getAttribute("formenctype"))||Ky(f.getAttribute("enctype"))||Wf,l=new FormData(f,n),!hD()){let{name:g,type:_,value:v}=n;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,v)}}else{if(Zp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$f,r=null,a=Wf,d=n}return l&&a==="text/plain"&&(d=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function C_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mD(n,e,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&bi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function gD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _D(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let d=await gD(l,t);return d.links?d.links():[]}return[]}));return wD(r.flat(1).filter(yD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nE(n,e,t,r,a,l){let d=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,f=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>d(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{let _=r.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(d(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function vD(n,e,{includeHydrateFallback:t}={}){return bD(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function bD(n){return[...new Set(n)]}function xD(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function wD(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(xD(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function e2(){let n=N.useContext(rc);return C_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ED(){let n=N.useContext(Jp);return C_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var I_=N.createContext(void 0);I_.displayName="FrameworkContext";function t2(){let n=N.useContext(I_);return C_(n,"You must render this element inside a <HydratedRouter> element"),n}function SD(n,e){let t=N.useContext(I_),[r,a]=N.useState(!1),[l,d]=N.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:v}=e,w=N.useRef(null);N.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let I=F=>{F.forEach(z=>{d(z.isIntersecting)})},D=new IntersectionObserver(I,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[n]),N.useEffect(()=>{if(r){let I=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(I)}}},[r]);let S=()=>{a(!0)},T=()=>{a(!1),d(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:bu(f,S),onBlur:bu(m,T),onMouseEnter:bu(g,S),onMouseLeave:bu(_,T),onTouchStart:bu(v,S)}]:[!1,w,{}]}function bu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function TD({page:n,...e}){let{router:t}=e2(),r=N.useMemo(()=>zT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?N.createElement(RD,{page:n,matches:r,...e}):null}function AD(n){let{manifest:e,routeModules:t}=t2(),[r,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return _D(n,e,t).then(d=>{l||a(d)}),()=>{l=!0}},[n,e,t]),r}function RD({page:n,matches:e,...t}){let r=rs(),{future:a,manifest:l,routeModules:d}=t2(),{basename:f}=e2(),{loaderData:m,matches:g}=ED(),_=N.useMemo(()=>nE(n,e,g,l,r,"data"),[n,e,g,l,r]),v=N.useMemo(()=>nE(n,e,g,l,r,"assets"),[n,e,g,l,r]),w=N.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,D=!1;if(e.forEach(z=>{let J=l.routes[z.route.id];!J||!J.hasLoader||(!_.some(ae=>ae.route.id===z.route.id)&&z.route.id in m&&d[z.route.id]?.shouldRevalidate||J.hasClientLoader?D=!0:I.add(z.route.id))}),I.size===0)return[];let F=mD(n,f,a.unstable_trailingSlashAwareDataRequests,"data");return D&&I.size>0&&F.searchParams.set("_routes",e.filter(z=>I.has(z.route.id)).map(z=>z.route.id).join(",")),[F.pathname+F.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,r,l,_,e,n,d]),S=N.useMemo(()=>vD(v,l),[v,l]),T=AD(v);return N.createElement(N.Fragment,null,w.map(I=>N.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),S.map(I=>N.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),T.map(({key:I,link:D})=>N.createElement("link",{key:I,nonce:t.nonce,...D})))}function CD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ID=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ID&&(window.__reactRouterVersion="7.12.0")}catch{}function jD({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=N.useRef();a.current==null&&(a.current=uN({window:r,v5Compat:!0}));let l=a.current,[d,f]=N.useState({action:l.action,location:l.location}),m=N.useCallback(g=>{t===!1?f(g):N.startTransition(()=>f(g))},[t]);return N.useLayoutEffect(()=>l.listen(m),[l,m]),N.createElement(iD,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:l,unstable_useTransitions:t})}var n2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=N.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:d,state:f,target:m,to:g,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:w,...S},T){let{basename:I,unstable_useTransitions:D}=N.useContext(fr),F=typeof g=="string"&&n2.test(g),z=HT(g,I);g=z.to;let J=HN(g,{relative:a}),[ae,ce,pe]=SD(r,S),j=OD(g,{replace:d,state:f,target:m,preventScrollReset:_,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:D});function C(M){e&&e(M),M.defaultPrevented||j(M)}let k=N.createElement("a",{...S,...pe,href:z.absoluteURL||J,onClick:z.isExternal||l?e:C,ref:CD(T,ce),target:m,"data-discover":!F&&t==="render"?"true":void 0});return ae&&!F?N.createElement(N.Fragment,null,k,N.createElement(TD,{page:J})):k});ut.displayName="Link";var kD=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:d,viewTransition:f,children:m,...g},_){let v=Td(d,{relative:g.relative}),w=rs(),S=N.useContext(Jp),{navigator:T,basename:I}=N.useContext(fr),D=S!=null&&zD(v)&&f===!0,F=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,z=w.pathname,J=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(z=z.toLowerCase(),J=J?J.toLowerCase():null,F=F.toLowerCase()),J&&I&&(J=bi(J,I)||J);const ae=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ce=z===F||!a&&z.startsWith(F)&&z.charAt(ae)==="/",pe=J!=null&&(J===F||!a&&J.startsWith(F)&&J.charAt(F.length)==="/"),j={isActive:ce,isPending:pe,isTransitioning:D},C=ce?e:void 0,k;typeof r=="function"?k=r(j):k=[r,ce?"active":null,pe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(j):l;return N.createElement(ut,{...g,"aria-current":C,className:k,ref:_,style:M,to:d,viewTransition:f},typeof m=="function"?m(j):m)});kD.displayName="NavLink";var ND=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:d=$f,action:f,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:w,...S},T)=>{let{unstable_useTransitions:I}=N.useContext(fr),D=LD(),F=VD(f,{relative:g}),z=d.toLowerCase()==="get"?"get":"post",J=typeof f=="string"&&n2.test(f),ae=ce=>{if(m&&m(ce),ce.defaultPrevented)return;ce.preventDefault();let pe=ce.nativeEvent.submitter,j=pe?.getAttribute("formmethod")||d,C=()=>D(pe||ce.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:w});I&&t!==!1?N.startTransition(()=>C()):C()};return N.createElement("form",{ref:T,method:z,action:F,onSubmit:r?m:ae,...S,"data-discover":!J&&n==="render"?"true":void 0})});ND.displayName="Form";function DD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r2(n){let e=N.useContext(rc);return wt(e,DD(n)),e}function OD(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let g=pr(),_=rs(),v=Td(n,{relative:l});return N.useCallback(w=>{if(dD(w,e)){w.preventDefault();let S=t!==void 0?t:cd(_)===cd(v),T=()=>g(n,{replace:S,state:r,preventScrollReset:a,relative:l,viewTransition:d,unstable_defaultShouldRevalidate:f});m?N.startTransition(()=>T()):T()}},[_,g,v,t,r,e,n,a,l,d,f,m])}var PD=0,MD=()=>`__${String(++PD)}__`;function LD(){let{router:n}=r2("useSubmit"),{basename:e}=N.useContext(fr),t=tD(),r=n.fetch,a=n.navigate;return N.useCallback(async(l,d={})=>{let{action:f,method:m,encType:g,formData:_,body:v}=pD(l,e);if(d.navigate===!1){let w=d.fetcherKey||MD();await r(w,t,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:_,body:v,formMethod:d.method||m,formEncType:d.encType||g,flushSync:d.flushSync})}else await a(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:_,body:v,formMethod:d.method||m,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,a,e,t])}function VD(n,{relative:e}={}){let{basename:t}=N.useContext(fr),r=N.useContext(ns);wt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Td(n||".",{relative:e})},d=rs();if(n==null){l.search=d.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(_=>_==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:_i([t,l.pathname])),cd(l)}function zD(n,{relative:e}={}){let t=N.useContext(WT);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=r2("useViewTransitionState"),a=Td(n,{relative:e});if(!t.isTransitioning)return!1;let l=bi(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=bi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return yp(a.pathname,d)!=null||yp(a.pathname,l)!=null}var s2=VT();const UD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),rE=n=>{const e=BD(n);return e.charAt(0).toUpperCase()+e.slice(1)},i2=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),FD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var qD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HD=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:d,...f},m)=>N.createElement("svg",{ref:m,...qD,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:i2("lucide",a),...!l&&!FD(f)&&{"aria-hidden":"true"},...f},[...d.map(([g,_])=>N.createElement(g,_)),...Array.isArray(l)?l:[l]]));const _e=(n,e)=>{const t=N.forwardRef(({className:r,...a},l)=>N.createElement(HD,{ref:l,iconNode:e,className:i2(`lucide-${UD(rE(n))}`,`lucide-${n}`,r),...a}));return t.displayName=rE(n),t};const $D=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],a2=_e("arrow-left",$D);const WD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fs=_e("arrow-right",WD);const GD=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],o2=_e("bot",GD);const KD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],YD=_e("briefcase",KD);const QD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],j_=_e("calendar",QD);const XD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],JD=_e("chart-no-axes-column-increasing",XD);const ZD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],em=_e("check",ZD);const eO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],l2=_e("chevron-down",eO);const tO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],c2=_e("chevron-right",tO);const nO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rO=_e("circle-alert",nO);const sO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ha=_e("circle-check-big",sO);const iO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aO=_e("circle",iO);const oO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],k_=_e("clock",oO);const lO=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],R0=_e("cpu",lO);const cO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],uO=_e("database",cO);const dO=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],u2=_e("dollar-sign",dO);const hO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fO=_e("eye",hO);const pO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],N_=_e("file-text",pO);const mO=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],gO=_e("folder",mO);const yO=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],_O=_e("git-branch",yO);const vO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ud=_e("globe",vO);const bO=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Tf=_e("hash",bO);const xO=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],wO=_e("heart",xO);const EO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],SO=_e("image",EO);const TO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],d2=_e("info",TO);const AO=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],C0=_e("instagram",AO);const RO=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],CO=_e("key",RO);const IO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],D_=_e("layers",IO);const jO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kO=_e("layout-dashboard",jO);const NO=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],DO=_e("linkedin",NO);const OO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],PO=_e("list",OO);const MO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LO=_e("loader-circle",MO);const VO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],zO=_e("lock-open",VO);const UO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],O_=_e("lock",UO);const BO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FO=_e("log-out",BO);const qO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],h2=_e("mail",qO);const HO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],$O=_e("maximize-2",HO);const WO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],f2=_e("menu",WO);const GO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],I0=_e("message-square",GO);const KO=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],YO=_e("minimize-2",KO);const QO=[["path",{d:"M5 12h14",key:"1ays0h"}]],XO=_e("minus",QO);const JO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ZO=_e("monitor",JO);const e4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],P_=_e("panels-top-left",e4);const t4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],n4=_e("pen-line",t4);const r4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],s4=_e("pen",r4);const i4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_p=_e("play",i4);const a4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vp=_e("plus",a4);const o4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],l4=_e("save",o4);const c4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],p2=_e("search",c4);const u4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],m2=_e("send",u4);const d4=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],h4=_e("server",d4);const f4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g2=_e("settings",f4);const p4=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],y2=_e("share-2",p4);const m4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],g4=_e("shield-check",m4);const y4=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],M_=_e("shopping-bag",y4);const _4=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],v4=_e("smartphone",_4);const b4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Gf=_e("star",b4);const x4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],w4=_e("target",x4);const E4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],j0=_e("trending-up",E4);const S4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],T4=_e("triangle-alert",S4);const A4=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],_2=_e("twitter",A4);const R4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],C4=_e("user",R4);const I4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yo=_e("users",I4);const j4=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],bp=_e("video",j4);const k4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tm=_e("x",k4);const N4=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],D4=_e("youtube",N4);const O4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],L_=_e("zap",O4),P4=()=>{};var sE={};const v2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},M4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],d=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(d&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],d=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|d&63)}}return e.join("")},b2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],d=a+1<n.length,f=d?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,_=l>>2,v=(l&3)<<4|f>>4;let w=(f&15)<<2|g>>6,S=g&63;m||(S=64,d||(w=64)),r.push(t[_],t[v],t[w],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(v2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):M4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||g==null||v==null)throw new L4;const w=l<<2|f>>4;if(r.push(w),g!==64){const S=f<<4&240|g>>2;if(r.push(S),v!==64){const T=g<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class L4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V4=function(n){const e=v2(n);return b2.encodeByteArray(e,!0)},xp=function(n){return V4(n).replace(/\./g,"")},x2=function(n){try{return b2.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function z4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U4=()=>z4().__FIREBASE_DEFAULTS__,B4=()=>{if(typeof process>"u"||typeof sE>"u")return;const n=sE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},F4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&x2(n[1]);return e&&JSON.parse(e)},nm=()=>{try{return P4()||U4()||B4()||F4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},w2=n=>nm()?.emulatorHosts?.[n],E2=n=>{const e=w2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},S2=()=>nm()?.config,T2=n=>nm()?.[`_${n}`];class q4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Ta(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function V_(n){return(await fetch(n,{credentials:"include"})).ok}function A2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[xp(JSON.stringify(t)),xp(JSON.stringify(d)),""].join(".")}const Yu={};function H4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Yu))Yu[e]?n.emulator.push(e):n.prod.push(e);return n}function $4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let iE=!1;function z_(n,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||Yu[n]===e||Yu[n]||iE)return;Yu[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=H4().prod.length>0;function d(){const w=document.getElementById(r);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{iE=!0,d()},w}function _(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=$4(r),S=t("text"),T=document.getElementById(S)||document.createElement("span"),I=t("learnmore"),D=document.getElementById(I)||document.createElement("a"),F=t("preprendIcon"),z=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const J=w.element;f(J),_(D,I);const ae=g();m(z,F),J.append(z,T,D,ae),document.body.appendChild(J)}l?(T.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function G4(){const n=nm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Q4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X4(){const n=Rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function J4(){return!G4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z4(){try{return typeof indexedDB=="object"}catch{return!1}}function e5(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const t5="FirebaseError";class Hs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=t5,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ad.prototype.create)}}class Ad{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],d=l?n5(l,r):"Error",f=`${this.serviceName}: ${d} (${a}).`;return new Hs(a,f,r)}}function n5(n,e){return n.replace(r5,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const r5=/\{\$([^}]+)}/g;function s5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],d=e[a];if(aE(l)&&aE(d)){if(!wo(l,d))return!1}else if(l!==d)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function aE(n){return n!==null&&typeof n=="object"}function ic(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ku(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Nu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function i5(n,e){const t=new a5(n,e);return t.subscribe.bind(t)}class a5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");o5(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Yy),a.error===void 0&&(a.error=Yy),a.complete===void 0&&(a.complete=Yy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o5(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yy(){}function mt(n){return n&&n._delegate?n._delegate:n}class ya{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ao="[DEFAULT]";class l5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new q4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u5(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&d.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c5(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c5(n){return n===ao?void 0:n}function u5(n){return n.instantiationMode==="EAGER"}class d5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const h5={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},f5=We.INFO,p5={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},m5=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=p5[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U_{constructor(e){this.name=e,this._logLevel=f5,this._logHandler=m5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const g5=(n,e)=>e.some(t=>n instanceof t);let oE,lE;function y5(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _5(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R2=new WeakMap,k0=new WeakMap,C2=new WeakMap,Qy=new WeakMap,B_=new WeakMap;function v5(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(fa(n.result)),a()},d=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&R2.set(t,n)}).catch(()=>{}),B_.set(e,n),e}function b5(n){if(k0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),a()},d=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});k0.set(n,e)}let N0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return k0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||C2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function x5(n){N0=n(N0)}function w5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Xy(this),e,...t);return C2.set(r,e.sort?e.sort():[e]),fa(r)}:_5().includes(n)?function(...e){return n.apply(Xy(this),e),fa(R2.get(this))}:function(...e){return fa(n.apply(Xy(this),e))}}function E5(n){return typeof n=="function"?w5(n):(n instanceof IDBTransaction&&b5(n),g5(n,y5())?new Proxy(n,N0):n)}function fa(n){if(n instanceof IDBRequest)return v5(n);if(Qy.has(n))return Qy.get(n);const e=E5(n);return e!==n&&(Qy.set(n,e),B_.set(e,n)),e}const Xy=n=>B_.get(n);function S5(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const d=indexedDB.open(n,e),f=fa(d);return r&&d.addEventListener("upgradeneeded",m=>{r(fa(d.result),m.oldVersion,m.newVersion,fa(d.transaction),m)}),t&&d.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const T5=["get","getKey","getAll","getAllKeys","count"],A5=["put","add","delete","clear"],Jy=new Map;function cE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jy.get(e))return Jy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=A5.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||T5.includes(t)))return;const l=async function(d,...f){const m=this.transaction(d,a?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&m.done]))[0]};return Jy.set(e,l),l}x5(n=>({...n,get:(e,t,r)=>cE(e,t)||n.get(e,t,r),has:(e,t)=>!!cE(e,t)||n.has(e,t)}));class R5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(C5(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function C5(n){return n.getComponent()?.type==="VERSION"}const D0="@firebase/app",uE="0.14.8";const xi=new U_("@firebase/app"),I5="@firebase/app-compat",j5="@firebase/analytics-compat",k5="@firebase/analytics",N5="@firebase/app-check-compat",D5="@firebase/app-check",O5="@firebase/auth",P5="@firebase/auth-compat",M5="@firebase/database",L5="@firebase/data-connect",V5="@firebase/database-compat",z5="@firebase/functions",U5="@firebase/functions-compat",B5="@firebase/installations",F5="@firebase/installations-compat",q5="@firebase/messaging",H5="@firebase/messaging-compat",$5="@firebase/performance",W5="@firebase/performance-compat",G5="@firebase/remote-config",K5="@firebase/remote-config-compat",Y5="@firebase/storage",Q5="@firebase/storage-compat",X5="@firebase/firestore",J5="@firebase/ai",Z5="@firebase/firestore-compat",e3="firebase",t3="12.9.0";const O0="[DEFAULT]",n3={[D0]:"fire-core",[I5]:"fire-core-compat",[k5]:"fire-analytics",[j5]:"fire-analytics-compat",[D5]:"fire-app-check",[N5]:"fire-app-check-compat",[O5]:"fire-auth",[P5]:"fire-auth-compat",[M5]:"fire-rtdb",[L5]:"fire-data-connect",[V5]:"fire-rtdb-compat",[z5]:"fire-fn",[U5]:"fire-fn-compat",[B5]:"fire-iid",[F5]:"fire-iid-compat",[q5]:"fire-fcm",[H5]:"fire-fcm-compat",[$5]:"fire-perf",[W5]:"fire-perf-compat",[G5]:"fire-rc",[K5]:"fire-rc-compat",[Y5]:"fire-gcs",[Q5]:"fire-gcs-compat",[X5]:"fire-fst",[Z5]:"fire-fst-compat",[J5]:"fire-vertex","fire-js":"fire-js",[e3]:"fire-js-all"};const wp=new Map,r3=new Map,P0=new Map;function dE(n,e){try{n.container.addComponent(e)}catch(t){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Eo(n){const e=n.name;if(P0.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;P0.set(e,n);for(const t of wp.values())dE(t,n);for(const t of r3.values())dE(t,n);return!0}function rm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function On(n){return n==null?!1:n.settings!==void 0}const s3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new Ad("app","Firebase",s3);class i3{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}const Oo=t3;function I2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:O0,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw pa.create("bad-app-name",{appName:String(a)});if(t||(t=S2()),!t)throw pa.create("no-options");const l=wp.get(a);if(l){if(wo(t,l.options)&&wo(r,l.config))return l;throw pa.create("duplicate-app",{appName:a})}const d=new d5(a);for(const m of P0.values())d.addComponent(m);const f=new i3(t,r,d);return wp.set(a,f),f}function F_(n=O0){const e=wp.get(n);if(!e&&n===O0&&S2())return I2();if(!e)throw pa.create("no-app",{appName:n});return e}function Ms(n,e,t){let r=n3[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${r}" with version "${e}":`];a&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(d.join(" "));return}Eo(new ya(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const a3="firebase-heartbeat-database",o3=1,dd="firebase-heartbeat-store";let Zy=null;function j2(){return Zy||(Zy=S5(a3,o3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dd)}catch(t){console.warn(t)}}}}).catch(n=>{throw pa.create("idb-open",{originalErrorMessage:n.message})})),Zy}async function l3(n){try{const t=(await j2()).transaction(dd),r=await t.objectStore(dd).get(k2(n));return await t.done,r}catch(e){if(e instanceof Hs)xi.warn(e.message);else{const t=pa.create("idb-get",{originalErrorMessage:e?.message});xi.warn(t.message)}}}async function hE(n,e){try{const r=(await j2()).transaction(dd,"readwrite");await r.objectStore(dd).put(e,k2(n)),await r.done}catch(t){if(t instanceof Hs)xi.warn(t.message);else{const r=pa.create("idb-set",{originalErrorMessage:t?.message});xi.warn(r.message)}}}function k2(n){return`${n.name}!${n.options.appId}`}const c3=1024,u3=30;class d3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new f3(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>u3){const a=p3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fE(),{heartbeatsToSend:t,unsentEntries:r}=h3(this._heartbeatsCache.heartbeats),a=xp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return xi.warn(e),""}}}function fE(){return new Date().toISOString().substring(0,10)}function h3(n,e=c3){const t=[];let r=n.slice();for(const a of n){const l=t.find(d=>d.agent===a.agent);if(l){if(l.dates.push(a.date),pE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),pE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class f3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z4()?e5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await l3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pE(n){return xp(JSON.stringify({version:2,heartbeats:n})).length}function p3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function m3(n){Eo(new ya("platform-logger",e=>new R5(e),"PRIVATE")),Eo(new ya("heartbeat",e=>new d3(e),"PRIVATE")),Ms(D0,uE,n),Ms(D0,uE,"esm2020"),Ms("fire-js","")}m3("");function N2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g3=N2,D2=new Ad("auth","Firebase",N2());const Ep=new U_("@firebase/auth");function y3(n,...e){Ep.logLevel<=We.WARN&&Ep.warn(`Auth (${Oo}): ${n}`,...e)}function Kf(n,...e){Ep.logLevel<=We.ERROR&&Ep.error(`Auth (${Oo}): ${n}`,...e)}function Or(n,...e){throw H_(n,...e)}function Gn(n,...e){return H_(n,...e)}function q_(n,e,t){const r={...g3(),[e]:t};return new Ad("auth","Firebase",r).create(e,{appName:n.name})}function Ls(n){return q_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _3(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Or(n,"argument-error"),q_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function H_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return D2.create(n,...e)}function ye(n,e,...t){if(!n)throw H_(e,...t)}function gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Kf(e),new Error(e)}function wi(n,e){n||gi(e)}function M0(){return typeof self<"u"&&self.location?.href||""}function O2(){return mE()==="http:"||mE()==="https:"}function mE(){return typeof self<"u"&&self.location?.protocol||null}function v3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O2()||Y4()||"connection"in navigator)?navigator.onLine:!0}function b3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Rd{constructor(e,t){this.shortDelay=e,this.longDelay=t,wi(t>e,"Short delay should be less than long delay!"),this.isMobile=W4()||Q4()}get(){return v3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $_(n,e){wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class P2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const w3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E3=new Rd(3e4,6e4);function Qn(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function mr(n,e,t,r,a={}){return M2(n,a,async()=>{let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});const f=ic({key:n.config.apiKey,...d}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return K4()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ta(n.emulatorConfig.host)&&(g.credentials="include"),P2.fetch()(await L2(n,n.config.apiHost,t,f),g)})}async function M2(n,e,t){n._canInitEmulator=!1;const r={...x3,...e};try{const a=new T3(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw Du(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const f=l.ok?d.errorMessage:d.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Du(n,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Du(n,"email-already-in-use",d);if(m==="USER_DISABLED")throw Du(n,"user-disabled",d);const _=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw q_(n,_,g);Or(n,_)}}catch(a){if(a instanceof Hs)throw a;Or(n,"network-request-failed",{message:String(a)})}}async function Aa(n,e,t,r,a={}){const l=await mr(n,e,t,r,a);return"mfaPendingCredential"in l&&Or(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function L2(n,e,t,r){const a=`${e}${t}?${r}`,l=n,d=l.config.emulator?$_(n.config,a):`${n.config.apiScheme}://${a}`;return w3.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function S3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class T3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),E3.get())})}}function Du(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Gn(n,e,r);return a.customData._tokenResponse=t,a}function gE(n){return n!==void 0&&n.getResponse!==void 0}function yE(n){return n!==void 0&&n.enterprise!==void 0}class V2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return S3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A3(n){return(await mr(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function z2(n,e){return mr(n,"GET","/v2/recaptchaConfig",Qn(n,e))}async function R3(n,e){return mr(n,"POST","/v1/accounts:delete",e)}async function Sp(n,e){return mr(n,"POST","/v1/accounts:lookup",e)}function Qu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C3(n,e=!1){const t=mt(n),r=await t.getIdToken(e),a=W_(r);ye(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,d=l?.sign_in_provider;return{claims:a,token:r,authTime:Qu(e0(a.auth_time)),issuedAtTime:Qu(e0(a.iat)),expirationTime:Qu(e0(a.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}}function e0(n){return Number(n)*1e3}function W_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const a=x2(t);return a?JSON.parse(a):(Kf("Failed to decode base64 JWT payload"),null)}catch(a){return Kf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function _E(n){const e=W_(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Kl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Hs&&I3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function I3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class j3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class L0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Tp(n){const e=n.auth,t=await n.getIdToken(),r=await Kl(n,Sp(e,{idToken:t}));ye(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?U2(a.providerUserInfo):[],d=N3(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!d?.length,g=f?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new L0(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function k3(n){const e=mt(n);await Tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N3(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function U2(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function D3(n,e){const t=await M2(n,{},async()=>{const r=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,d=await L2(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return n.emulatorConfig&&Ta(n.emulatorConfig.host)&&(m.credentials="include"),P2.fetch()(d,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function O3(n,e){return mr(n,"POST","/v2/accounts:revokeToken",Qn(n,e))}class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=_E(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await D3(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,d=new Bl;return r&&(ye(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),a&&(ye(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),l&&(ye(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return gi("not implemented")}}function sa(n,e){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new j3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new L0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return C3(this,e)}reload(){return k3(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await Kl(this,R3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,d=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:S,providerData:T,stsTokenManager:I}=t;ye(v&&I,e,"internal-error");const D=Bl.fromJSON(this.name,I);ye(typeof v=="string",e,"internal-error"),sa(r,e.name),sa(a,e.name),ye(typeof w=="boolean",e,"internal-error"),ye(typeof S=="boolean",e,"internal-error"),sa(l,e.name),sa(d,e.name),sa(f,e.name),sa(m,e.name),sa(g,e.name),sa(_,e.name);const F=new Jr({uid:v,auth:e,email:a,emailVerified:w,displayName:r,isAnonymous:S,photoURL:d,phoneNumber:l,tenantId:f,stsTokenManager:D,createdAt:g,lastLoginAt:_});return T&&Array.isArray(T)&&(F.providerData=T.map(z=>({...z}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,t,r=!1){const a=new Bl;a.updateFromServerResponse(t);const l=new Jr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Tp(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];ye(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?U2(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!l?.length,f=new Bl;f.updateFromIdToken(r);const m=new Jr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new L0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const vE=new Map;function yi(n){wi(n instanceof Function,"Expected a class definition");let e=vE.get(n);return e?(wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vE.set(n,e),e)}class B2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}B2.type="NONE";const bE=B2;function Yf(n,e,t){return`firebase:${n}:${e}:${t}`}class Fl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Yf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Yf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sp(this.auth,{idToken:e}).catch(()=>{});return t?Jr._fromGetAccountInfoResponse(this.auth,t,e):null}return Jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fl(yi(bE),e,r);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||yi(bE);const d=Yf(r,e.config.apiKey,e.name);let f=null;for(const g of t)try{const _=await g._get(d);if(_){let v;if(typeof _=="string"){const w=await Sp(e,{idToken:_}).catch(()=>{});if(!w)break;v=await Jr._fromGetAccountInfoResponse(e,w,_)}else v=Jr._fromJSON(e,_);g!==l&&(f=v),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Fl(l,e,r):(l=m[0],f&&await l._set(d,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(d)}catch{}})),new Fl(l,e,r))}}function xE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G2(e))return"Blackberry";if(K2(e))return"Webos";if(q2(e))return"Safari";if((e.includes("chrome/")||H2(e))&&!e.includes("edge/"))return"Chrome";if(W2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function F2(n=Rn()){return/firefox\//i.test(n)}function q2(n=Rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H2(n=Rn()){return/crios\//i.test(n)}function $2(n=Rn()){return/iemobile/i.test(n)}function W2(n=Rn()){return/android/i.test(n)}function G2(n=Rn()){return/blackberry/i.test(n)}function K2(n=Rn()){return/webos/i.test(n)}function G_(n=Rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function P3(n=Rn()){return G_(n)&&!!window.navigator?.standalone}function M3(){return X4()&&document.documentMode===10}function Y2(n=Rn()){return G_(n)||W2(n)||K2(n)||G2(n)||/windows phone/i.test(n)||$2(n)}function Q2(n,e=[]){let t;switch(n){case"Browser":t=xE(Rn());break;case"Worker":t=`${xE(Rn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oo}/${r}`}class L3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((d,f)=>{try{const m=e(l);d(m)}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function V3(n,e={}){return mr(n,"GET","/v2/passwordPolicy",Qn(n,e))}const z3=6;class U3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??z3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class B3{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wE(this),this.idTokenSubscription=new wE(this),this.beforeStateQueue=new L3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sp(this,{idToken:e}),r=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(On(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,d=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===d)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Ls(this));const t=e?mt(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V3(this),t=new U3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ad("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await O3(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yi(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(f,this,"internal-error"),f.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,a);return()=>{d=!0,m()}}else{const m=e.addObserver(t);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&y3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ss(n){return mt(n)}class wE{constructor(e){this.auth=e,this.observer=null,this.addObserver=i5(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F3(n){Cd=n}function K_(n){return Cd.loadJS(n)}function q3(){return Cd.recaptchaV2Script}function H3(){return Cd.recaptchaEnterpriseScript}function $3(){return Cd.gapiScript}function X2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const W3=500,G3=6e4,Af=1e12;class K3{constructor(e){this.auth=e,this.counter=Af,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new X3(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||Af;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||Af;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||Af;return this._widgets.get(t)?.execute(),""}}class Y3{constructor(){this.enterprise=new Q3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Q3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class X3{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof e=="string"?document.getElementById(e):e;ye(a,"argument-error",{appName:t}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=J3(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},G3)},W3))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function J3(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const Z3="recaptcha-enterprise",Xu="NO_RECAPTCHA";class J2{constructor(e){this.type=Z3,this.auth=ss(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,f)=>{z2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new V2(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,d(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,d,f){const m=window.grecaptcha;yE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{d(g)}).catch(()=>{d(Xu)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y3().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{r(this.auth).then(f=>{if(!t&&yE(window.grecaptcha))a(f,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=H3();m.length!==0&&(m+=f),K_(m).then(()=>{a(f,l,d)}).catch(g=>{d(g)})}}).catch(f=>{d(f)})})}}async function xu(n,e,t,r=!1,a=!1){const l=new J2(n);let d;if(a)d=Xu;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function ql(n,e,t,r,a){if(a==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await xu(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await xu(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(l)});else if(a==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const l=await xu(n,e,t);return r(n,l).catch(async d=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const f=await xu(n,e,t,!1,!0);return r(n,f)}return Promise.reject(d)})}else{const l=await xu(n,e,t,!1,!0);return r(n,l)}else return Promise.reject(a+" provider is not supported.")}async function e6(n){const e=ss(n),t=await z2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new V2(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new J2(e).verify()}function t6(n,e){const t=rm(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(wo(l,e??{}))return a;Or(a,"already-initialized")}return t.initialize({options:e})}function n6(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(yi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function r6(n,e,t){const r=ss(n);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=Z2(e),{host:d,port:f}=s6(e),m=f===null?"":`:${f}`,g={url:`${l}//${d}${m}/`},_=Object.freeze({host:d,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(wo(g,r.config.emulator)&&wo(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Ta(d)?(V_(`${l}//${d}${m}`),z_("Auth",!0)):i6()}function Z2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function s6(n){const e=Z2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:EE(r.substr(l.length+1))}}else{const[l,d]=r.split(":");return{host:l,port:EE(d)}}}function EE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function i6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class sm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,t){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function a6(n,e){return mr(n,"POST","/v1/accounts:signUp",e)}async function o6(n,e){return Aa(n,"POST","/v1/accounts:signInWithPassword",Qn(n,e))}async function l6(n,e){return Aa(n,"POST","/v1/accounts:signInWithEmailLink",Qn(n,e))}async function c6(n,e){return Aa(n,"POST","/v1/accounts:signInWithEmailLink",Qn(n,e))}class hd extends sm{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new hd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new hd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ql(e,t,"signInWithPassword",o6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return l6(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ql(e,r,"signUpPassword",a6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return c6(e,{idToken:t,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Hl(n,e){return Aa(n,"POST","/v1/accounts:signInWithIdp",Qn(n,e))}const u6="http://localhost";class So extends sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const d=new So(r,a);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Hl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Hl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Hl(e,t)}buildRequest(){const e={requestUri:u6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ic(t)}return e}}async function SE(n,e){return mr(n,"POST","/v1/accounts:sendVerificationCode",Qn(n,e))}async function d6(n,e){return Aa(n,"POST","/v1/accounts:signInWithPhoneNumber",Qn(n,e))}async function h6(n,e){const t=await Aa(n,"POST","/v1/accounts:signInWithPhoneNumber",Qn(n,e));if(t.temporaryProof)throw Du(n,"account-exists-with-different-credential",t);return t}const f6={USER_NOT_FOUND:"user-not-found"};async function p6(n,e){const t={...e,operation:"REAUTH"};return Aa(n,"POST","/v1/accounts:signInWithPhoneNumber",Qn(n,t),f6)}class Ju extends sm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ju({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ju({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return d6(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return h6(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return p6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:a}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:a,temporaryProof:l}=e;return!r&&!t&&!a&&!l?null:new Ju({verificationId:t,verificationCode:r,phoneNumber:a,temporaryProof:l})}}function m6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g6(n){const e=ku(Nu(n)).link,t=e?ku(Nu(e)).deep_link_id:null,r=ku(Nu(n)).deep_link_id;return(r?ku(Nu(r)).link:null)||r||t||e||n}class Y_{constructor(e){const t=ku(Nu(e)),r=t.apiKey??null,a=t.oobCode??null,l=m6(t.mode??null);ye(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=g6(e);try{return new Y_(t)}catch{return null}}}class ac{constructor(){this.providerId=ac.PROVIDER_ID}static credential(e,t){return hd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Y_.parseLink(t);return ye(r,"argument-error"),hd._fromEmailAndCode(e,r.code,r.tenantId)}}ac.PROVIDER_ID="password";ac.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ac.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Q_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Id extends Q_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class oa extends Id{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";oa.PROVIDER_ID="facebook.com";class fi extends Id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return So._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return fi.credential(t,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";class la extends Id{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";class ca extends Id{constructor(){super("twitter.com")}static credential(e,t){return So._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ca.credential(t,r)}catch{return null}}}ca.TWITTER_SIGN_IN_METHOD="twitter.com";ca.PROVIDER_ID="twitter.com";async function y6(n,e){return Aa(n,"POST","/v1/accounts:signUp",Qn(n,e))}class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Jr._fromIdTokenResponse(e,r,a),d=TE(r);return new To({user:l,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=TE(r);return new To({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function TE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ap extends Hs{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Ap.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Ap(e,t,r,a)}}function eA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ap._fromErrorAndOperation(n,l,e,r):l})}async function _6(n,e,t=!1){const r=await Kl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return To._forOperation(n,"link",r)}async function v6(n,e,t=!1){const{auth:r}=n;if(On(r.app))return Promise.reject(Ls(r));const a="reauthenticate";try{const l=await Kl(n,eA(r,a,e,n),t);ye(l.idToken,r,"internal-error");const d=W_(l.idToken);ye(d,r,"internal-error");const{sub:f}=d;return ye(n.uid===f,r,"user-mismatch"),To._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Or(r,"user-mismatch"),l}}async function tA(n,e,t=!1){if(On(n.app))return Promise.reject(Ls(n));const r="signIn",a=await eA(n,r,e),l=await To._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function nA(n,e){return tA(ss(n),e)}async function rA(n){const e=ss(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function b6(n,e,t){if(On(n.app))return Promise.reject(Ls(n));const r=ss(n),d=await ql(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y6,"EMAIL_PASSWORD_PROVIDER").catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&rA(n),m}),f=await To._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(f.user),f}function x6(n,e,t){return On(n.app)?Promise.reject(Ls(n)):nA(mt(n),ac.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rA(n),r})}async function w6(n,e){return mr(n,"POST","/v1/accounts:update",e)}async function sA(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=mt(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Kl(r,w6(r.auth,l));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const f=r.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function E6(n,e,t,r){return mt(n).onIdTokenChanged(e,t,r)}function S6(n,e,t){return mt(n).beforeAuthStateChanged(e,t)}function T6(n,e,t,r){return mt(n).onAuthStateChanged(e,t,r)}function A6(n){return mt(n).signOut()}function AE(n,e){return mr(n,"POST","/v2/accounts/mfaEnrollment:start",Qn(n,e))}const Rp="__sak";class iA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rp,"1"),this.storage.removeItem(Rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const R6=1e3,C6=10;class aA extends iA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,m)=>{this.notifyListeners(d,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},l=this.storage.getItem(r);M3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,C6):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},R6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aA.type="LOCAL";const I6=aA;class oA extends iA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oA.type="SESSION";const lA=oA;function j6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,d=this.handlersMap[a];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(d).map(async g=>g(t.origin,l)),m=await j6(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];function X_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class k6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,d;return new Promise((f,m)=>{const g=X_("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},r);d={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Wt(){return window}function N6(n){Wt().location.href=n}function J_(){return typeof Wt().WorkerGlobalScope<"u"&&typeof Wt().importScripts=="function"}async function D6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O6(){return navigator?.serviceWorker?.controller||null}function P6(){return J_()?self:null}const cA="firebaseLocalStorageDb",M6=1,Cp="firebaseLocalStorage",uA="fbase_key";class jd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function am(n,e){return n.transaction([Cp],e?"readwrite":"readonly").objectStore(Cp)}function L6(){const n=indexedDB.deleteDatabase(cA);return new jd(n).toPromise()}function V0(){const n=indexedDB.open(cA,M6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Cp,{keyPath:uA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Cp)?e(r):(r.close(),await L6(),e(await V0()))})})}async function RE(n,e,t){const r=am(n,!0).put({[uA]:e,value:t});return new jd(r).toPromise()}async function V6(n,e){const t=am(n,!1).get(e),r=await new jd(t).toPromise();return r===void 0?null:r.value}function CE(n,e){const t=am(n,!0).delete(e);return new jd(t).toPromise()}const z6=800,U6=3;class dA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>U6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(P6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D6(),!this.activeServiceWorker)return;this.sender=new k6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await V0();return await RE(e,Rp,"1"),await CE(e,Rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>RE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>V6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>CE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=am(a,!1).getAll();return new jd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dA.type="LOCAL";const B6=dA;function IE(n,e){return mr(n,"POST","/v2/accounts/mfaSignIn:start",Qn(n,e))}const t0=X2("rcb"),F6=new Rd(3e4,6e4);class q6{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wt().grecaptcha?.render}load(e,t=""){return ye(H6(t),e,"argument-error"),this.shouldResolveImmediately(t)&&gE(Wt().grecaptcha)?Promise.resolve(Wt().grecaptcha):new Promise((r,a)=>{const l=Wt().setTimeout(()=>{a(Gn(e,"network-request-failed"))},F6.get());Wt()[t0]=()=>{Wt().clearTimeout(l),delete Wt()[t0];const f=Wt().grecaptcha;if(!f||!gE(f)){a(Gn(e,"internal-error"));return}const m=f.render;f.render=(g,_)=>{const v=m(g,_);return this.counter++,v},this.hostLanguage=t,r(f)};const d=`${q3()}?${ic({onload:t0,render:"explicit",hl:t})}`;K_(d).catch(()=>{clearTimeout(l),a(Gn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Wt().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function H6(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class $6{async load(e){return new K3(e)}clearedOneInstance(){}}const Zu="recaptcha",W6={theme:"light",type:"image"};class G6{constructor(e,t,r={...W6}){this.parameters=r,this.type=Zu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ss(e),this.isInvisible=this.parameters.size==="invisible",ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof t=="string"?document.getElementById(t):t;ye(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $6:new q6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(a=>{const l=d=>{d&&(this.tokenChangeListeners.delete(l),a(d))};this.tokenChangeListeners.add(l),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Wt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ye(O2()&&!J_(),this.auth,"internal-error"),await K6(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await A3(this.auth);ye(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function K6(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}class Y6{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ju._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Q6(n,e,t){if(On(n.app))return Promise.reject(Ls(n));const r=ss(n),a=await X6(r,e,mt(t));return new Y6(a,l=>nA(r,l))}async function X6(n,e,t){if(!n._getRecaptchaConfig())try{await e6(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const a=r.session;if("phoneNumber"in r){ye(a.type==="enroll",n,"internal-error");const l={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ql(n,l,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Xu){ye(t?.type===Zu,g,"argument-error");const v=await n0(g,_,t);return AE(g,v)}return AE(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{ye(a.type==="signin",n,"internal-error");const l=r.multiFactorHint?.uid||r.multiFactorUid;ye(l,n,"missing-multi-factor-info");const d={mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ql(n,d,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Xu){ye(t?.type===Zu,_,"argument-error");const w=await n0(_,v,t);return IE(_,w)}return IE(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ql(n,a,"sendVerificationCode",async(m,g)=>{if(g.captchaResponse===Xu){ye(t?.type===Zu,m,"argument-error");const _=await n0(m,g,t);return SE(m,_)}return SE(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).sessionInfo}}finally{t?._reset()}}async function n0(n,e,t){ye(t.type===Zu,n,"argument-error");const r=await t.verify();ye(typeof r=="string",n,"argument-error");const a={...e};if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.captchaResponse,f=a.phoneEnrollmentInfo.clientType,m=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:r,captchaResponse:d,clientType:f,recaptchaVersion:m}}),a}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.captchaResponse,d=a.phoneSignInInfo.clientType,f=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:l,clientType:d,recaptchaVersion:f}}),a}else return Object.assign(a,{recaptchaToken:r}),a}function hA(n,e){return e?yi(e):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Z_ extends sm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function J6(n){return tA(n.auth,new Z_(n),n.bypassAuthState)}function Z6(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),v6(t,new Z_(n),n.bypassAuthState)}async function eP(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),_6(t,new Z_(n),n.bypassAuthState)}class fA{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:d,type:f}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J6;case"linkViaPopup":case"linkViaRedirect":return eP;case"reauthViaPopup":case"reauthViaRedirect":return Z6;default:Or(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tP=new Rd(2e3,1e4);async function nP(n,e,t){if(On(n.app))return Promise.reject(Gn(n,"operation-not-supported-in-this-environment"));const r=ss(n);_3(n,e,Q_);const a=hA(r,t);return new co(r,"signInViaPopup",e,a).executeNotNull()}class co extends fA{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=X_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tP.get())};e()}}co.currentPopupAction=null;const rP="pendingRedirect",Qf=new Map;class sP extends fA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const r=await iP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iP(n,e){const t=lP(e),r=oP(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function aP(n,e){Qf.set(n._key(),e)}function oP(n){return yi(n._redirectPersistence)}function lP(n){return Yf(rP,n.config.apiKey,n.name)}async function cP(n,e,t=!1){if(On(n.app))return Promise.reject(Ls(n));const r=ss(n),a=hA(r,e),d=await new sP(r,a,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const uP=600*1e3;class dP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!pA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Gn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uP&&this.cachedEventUids.clear(),this.cachedEventUids.has(jE(e))}saveEventToCache(e){this.cachedEventUids.add(jE(e)),this.lastProcessedEventTime=Date.now()}}function jE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function pA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function hP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pA(n);default:return!1}}async function fP(n,e={}){return mr(n,"GET","/v1/projects",e)}const pP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mP=/^https?/;async function gP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fP(n);for(const t of e)try{if(yP(t))return}catch{}Or(n,"unauthorized-domain")}function yP(n){const e=M0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!mP.test(t))return!1;if(pP.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const _P=new Rd(3e4,6e4);function kE(){const n=Wt().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function vP(n){return new Promise((e,t)=>{function r(){kE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kE(),t(Gn(n,"network-request-failed"))},timeout:_P.get()})}if(Wt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wt().gapi?.load)r();else{const a=X2("iframefcb");return Wt()[a]=()=>{gapi.load?r():t(Gn(n,"network-request-failed"))},K_(`${$3()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Xf=null,e})}let Xf=null;function bP(n){return Xf=Xf||vP(n),Xf}const xP=new Rd(5e3,15e3),wP="__/auth/iframe",EP="emulator/auth/iframe",SP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AP(n){const e=n.config;ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$_(e,EP):`https://${n.config.authDomain}/${wP}`,r={apiKey:e.apiKey,appName:n.name,v:Oo},a=TP.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${ic(r).slice(1)}`}async function RP(n){const e=await bP(n),t=Wt().gapi;return ye(t,n,"internal-error"),e.open({where:document.body,url:AP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SP,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const d=Gn(n,"network-request-failed"),f=Wt().setTimeout(()=>{l(d)},xP.get());function m(){Wt().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(d)})}))}const CP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IP=500,jP=600,kP="_blank",NP="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DP(n,e,t,r=IP,a=jP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m={...CP,width:r.toString(),height:a.toString(),top:l,left:d},g=Rn().toLowerCase();t&&(f=H2(g)?kP:t),F2(g)&&(e=e||NP,m.scrollbars="yes");const _=Object.entries(m).reduce((w,[S,T])=>`${w}${S}=${T},`,"");if(P3(g)&&f!=="_self")return OP(e||"",f),new NE(null);const v=window.open(e||"",f,_);ye(v,n,"popup-blocked");try{v.focus()}catch{}return new NE(v)}function OP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const PP="__/auth/handler",MP="emulator/auth/handler",LP=encodeURIComponent("fac");async function DE(n,e,t,r,a,l){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Oo,eventId:a};if(e instanceof Q_){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",s5(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))d[_]=v}if(e instanceof Id){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(d.scopes=_.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const m=await n._getAppCheckToken(),g=m?`#${LP}=${encodeURIComponent(m)}`:"";return`${VP(n)}?${ic(f).slice(1)}${g}`}function VP({config:n}){return n.emulator?$_(n,MP):`https://${n.authDomain}/${PP}`}const r0="webStorageSupport";class zP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lA,this._completeRedirectFn=cP,this._overrideRedirectResult=aP}async _openPopup(e,t,r,a){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await DE(e,t,r,M0(),a);return DP(e,l,X_())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await DE(e,t,r,M0(),a);return N6(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(wi(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await RP(e),r=new dP(e);return t.register("authEvent",a=>(ye(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(r0,{type:r0},a=>{const l=a?.[0]?.[r0];l!==void 0&&t(!!l),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Y2()||q2()||G_()}}const UP=zP;var OE="@firebase/auth",PE="1.12.0";class BP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qP(n){Eo(new ya("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=r.options;ye(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q2(n)},g=new B3(r,a,l,m);return n6(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Eo(new ya("auth-internal",e=>{const t=ss(e.getProvider("auth").getImmediate());return(r=>new BP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(OE,PE,FP(n)),Ms(OE,PE,"esm2020")}const HP=300,$P=T2("authIdTokenMaxAge")||HP;let ME=null;const WP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>$P)return;const a=t?.token;ME!==a&&(ME=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function GP(n=F_()){const e=rm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=t6(n,{popupRedirectResolver:UP,persistence:[B6,I6,lA]}),r=T2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const d=WP(l.toString());S6(t,d,()=>d(t.currentUser)),E6(t,f=>d(f))}}const a=w2("auth");return a&&r6(t,`http://${a}`),t}function KP(){return document.getElementsByTagName("head")?.[0]??document}F3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=Gn("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",KP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qP("Browser");var YP="firebase",QP="12.9.0";Ms(YP,QP,"app");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ma,mA;(function(){var n;function e(j,C){function k(){}k.prototype=C.prototype,j.F=C.prototype,j.prototype=new k,j.prototype.constructor=j,j.D=function(M,O,B){for(var P=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)P[qe-2]=arguments[qe];return C.prototype[O].apply(M,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,C,k){k||(k=0);const M=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)M[O]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(O=0;O<16;++O)M[O]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=j.g[0],k=j.g[1],O=j.g[2];let B=j.g[3],P;P=C+(B^k&(O^B))+M[0]+3614090360&4294967295,C=k+(P<<7&4294967295|P>>>25),P=B+(O^C&(k^O))+M[1]+3905402710&4294967295,B=C+(P<<12&4294967295|P>>>20),P=O+(k^B&(C^k))+M[2]+606105819&4294967295,O=B+(P<<17&4294967295|P>>>15),P=k+(C^O&(B^C))+M[3]+3250441966&4294967295,k=O+(P<<22&4294967295|P>>>10),P=C+(B^k&(O^B))+M[4]+4118548399&4294967295,C=k+(P<<7&4294967295|P>>>25),P=B+(O^C&(k^O))+M[5]+1200080426&4294967295,B=C+(P<<12&4294967295|P>>>20),P=O+(k^B&(C^k))+M[6]+2821735955&4294967295,O=B+(P<<17&4294967295|P>>>15),P=k+(C^O&(B^C))+M[7]+4249261313&4294967295,k=O+(P<<22&4294967295|P>>>10),P=C+(B^k&(O^B))+M[8]+1770035416&4294967295,C=k+(P<<7&4294967295|P>>>25),P=B+(O^C&(k^O))+M[9]+2336552879&4294967295,B=C+(P<<12&4294967295|P>>>20),P=O+(k^B&(C^k))+M[10]+4294925233&4294967295,O=B+(P<<17&4294967295|P>>>15),P=k+(C^O&(B^C))+M[11]+2304563134&4294967295,k=O+(P<<22&4294967295|P>>>10),P=C+(B^k&(O^B))+M[12]+1804603682&4294967295,C=k+(P<<7&4294967295|P>>>25),P=B+(O^C&(k^O))+M[13]+4254626195&4294967295,B=C+(P<<12&4294967295|P>>>20),P=O+(k^B&(C^k))+M[14]+2792965006&4294967295,O=B+(P<<17&4294967295|P>>>15),P=k+(C^O&(B^C))+M[15]+1236535329&4294967295,k=O+(P<<22&4294967295|P>>>10),P=C+(O^B&(k^O))+M[1]+4129170786&4294967295,C=k+(P<<5&4294967295|P>>>27),P=B+(k^O&(C^k))+M[6]+3225465664&4294967295,B=C+(P<<9&4294967295|P>>>23),P=O+(C^k&(B^C))+M[11]+643717713&4294967295,O=B+(P<<14&4294967295|P>>>18),P=k+(B^C&(O^B))+M[0]+3921069994&4294967295,k=O+(P<<20&4294967295|P>>>12),P=C+(O^B&(k^O))+M[5]+3593408605&4294967295,C=k+(P<<5&4294967295|P>>>27),P=B+(k^O&(C^k))+M[10]+38016083&4294967295,B=C+(P<<9&4294967295|P>>>23),P=O+(C^k&(B^C))+M[15]+3634488961&4294967295,O=B+(P<<14&4294967295|P>>>18),P=k+(B^C&(O^B))+M[4]+3889429448&4294967295,k=O+(P<<20&4294967295|P>>>12),P=C+(O^B&(k^O))+M[9]+568446438&4294967295,C=k+(P<<5&4294967295|P>>>27),P=B+(k^O&(C^k))+M[14]+3275163606&4294967295,B=C+(P<<9&4294967295|P>>>23),P=O+(C^k&(B^C))+M[3]+4107603335&4294967295,O=B+(P<<14&4294967295|P>>>18),P=k+(B^C&(O^B))+M[8]+1163531501&4294967295,k=O+(P<<20&4294967295|P>>>12),P=C+(O^B&(k^O))+M[13]+2850285829&4294967295,C=k+(P<<5&4294967295|P>>>27),P=B+(k^O&(C^k))+M[2]+4243563512&4294967295,B=C+(P<<9&4294967295|P>>>23),P=O+(C^k&(B^C))+M[7]+1735328473&4294967295,O=B+(P<<14&4294967295|P>>>18),P=k+(B^C&(O^B))+M[12]+2368359562&4294967295,k=O+(P<<20&4294967295|P>>>12),P=C+(k^O^B)+M[5]+4294588738&4294967295,C=k+(P<<4&4294967295|P>>>28),P=B+(C^k^O)+M[8]+2272392833&4294967295,B=C+(P<<11&4294967295|P>>>21),P=O+(B^C^k)+M[11]+1839030562&4294967295,O=B+(P<<16&4294967295|P>>>16),P=k+(O^B^C)+M[14]+4259657740&4294967295,k=O+(P<<23&4294967295|P>>>9),P=C+(k^O^B)+M[1]+2763975236&4294967295,C=k+(P<<4&4294967295|P>>>28),P=B+(C^k^O)+M[4]+1272893353&4294967295,B=C+(P<<11&4294967295|P>>>21),P=O+(B^C^k)+M[7]+4139469664&4294967295,O=B+(P<<16&4294967295|P>>>16),P=k+(O^B^C)+M[10]+3200236656&4294967295,k=O+(P<<23&4294967295|P>>>9),P=C+(k^O^B)+M[13]+681279174&4294967295,C=k+(P<<4&4294967295|P>>>28),P=B+(C^k^O)+M[0]+3936430074&4294967295,B=C+(P<<11&4294967295|P>>>21),P=O+(B^C^k)+M[3]+3572445317&4294967295,O=B+(P<<16&4294967295|P>>>16),P=k+(O^B^C)+M[6]+76029189&4294967295,k=O+(P<<23&4294967295|P>>>9),P=C+(k^O^B)+M[9]+3654602809&4294967295,C=k+(P<<4&4294967295|P>>>28),P=B+(C^k^O)+M[12]+3873151461&4294967295,B=C+(P<<11&4294967295|P>>>21),P=O+(B^C^k)+M[15]+530742520&4294967295,O=B+(P<<16&4294967295|P>>>16),P=k+(O^B^C)+M[2]+3299628645&4294967295,k=O+(P<<23&4294967295|P>>>9),P=C+(O^(k|~B))+M[0]+4096336452&4294967295,C=k+(P<<6&4294967295|P>>>26),P=B+(k^(C|~O))+M[7]+1126891415&4294967295,B=C+(P<<10&4294967295|P>>>22),P=O+(C^(B|~k))+M[14]+2878612391&4294967295,O=B+(P<<15&4294967295|P>>>17),P=k+(B^(O|~C))+M[5]+4237533241&4294967295,k=O+(P<<21&4294967295|P>>>11),P=C+(O^(k|~B))+M[12]+1700485571&4294967295,C=k+(P<<6&4294967295|P>>>26),P=B+(k^(C|~O))+M[3]+2399980690&4294967295,B=C+(P<<10&4294967295|P>>>22),P=O+(C^(B|~k))+M[10]+4293915773&4294967295,O=B+(P<<15&4294967295|P>>>17),P=k+(B^(O|~C))+M[1]+2240044497&4294967295,k=O+(P<<21&4294967295|P>>>11),P=C+(O^(k|~B))+M[8]+1873313359&4294967295,C=k+(P<<6&4294967295|P>>>26),P=B+(k^(C|~O))+M[15]+4264355552&4294967295,B=C+(P<<10&4294967295|P>>>22),P=O+(C^(B|~k))+M[6]+2734768916&4294967295,O=B+(P<<15&4294967295|P>>>17),P=k+(B^(O|~C))+M[13]+1309151649&4294967295,k=O+(P<<21&4294967295|P>>>11),P=C+(O^(k|~B))+M[4]+4149444226&4294967295,C=k+(P<<6&4294967295|P>>>26),P=B+(k^(C|~O))+M[11]+3174756917&4294967295,B=C+(P<<10&4294967295|P>>>22),P=O+(C^(B|~k))+M[2]+718787259&4294967295,O=B+(P<<15&4294967295|P>>>17),P=k+(B^(O|~C))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+C&4294967295,j.g[1]=j.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,j.g[2]=j.g[2]+O&4294967295,j.g[3]=j.g[3]+B&4294967295}r.prototype.v=function(j,C){C===void 0&&(C=j.length);const k=C-this.blockSize,M=this.C;let O=this.h,B=0;for(;B<C;){if(O==0)for(;B<=k;)a(this,j,B),B+=this.blockSize;if(typeof j=="string"){for(;B<C;)if(M[O++]=j.charCodeAt(B++),O==this.blockSize){a(this,M),O=0;break}}else for(;B<C;)if(M[O++]=j[B++],O==this.blockSize){a(this,M),O=0;break}}this.h=O,this.o+=C},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var C=1;C<j.length-8;++C)j[C]=0;C=this.o*8;for(var k=j.length-8;k<j.length;++k)j[k]=C&255,C/=256;for(this.v(j),j=Array(16),C=0,k=0;k<4;++k)for(let M=0;M<32;M+=8)j[C++]=this.g[k]>>>M&255;return j};function l(j,C){var k=f;return Object.prototype.hasOwnProperty.call(k,j)?k[j]:k[j]=C(j)}function d(j,C){this.h=C;const k=[];let M=!0;for(let O=j.length-1;O>=0;O--){const B=j[O]|0;M&&B==C||(k[O]=B,M=!1)}this.g=k}var f={};function m(j){return-128<=j&&j<128?l(j,function(C){return new d([C|0],C<0?-1:0)}):new d([j|0],j<0?-1:0)}function g(j){if(isNaN(j)||!isFinite(j))return v;if(j<0)return D(g(-j));const C=[];let k=1;for(let M=0;j>=k;M++)C[M]=j/k|0,k*=4294967296;return new d(C,0)}function _(j,C){if(j.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(j.charAt(0)=="-")return D(_(j.substring(1),C));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=g(Math.pow(C,8));let M=v;for(let B=0;B<j.length;B+=8){var O=Math.min(8,j.length-B);const P=parseInt(j.substring(B,B+O),C);O<8?(O=g(Math.pow(C,O)),M=M.j(O).add(g(P))):(M=M.j(k),M=M.add(g(P)))}return M}var v=m(0),w=m(1),S=m(16777216);n=d.prototype,n.m=function(){if(I(this))return-D(this).m();let j=0,C=1;for(let k=0;k<this.g.length;k++){const M=this.i(k);j+=(M>=0?M:4294967296+M)*C,C*=4294967296}return j},n.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(T(this))return"0";if(I(this))return"-"+D(this).toString(j);const C=g(Math.pow(j,6));var k=this;let M="";for(;;){const O=ae(k,C).g;k=F(k,O.j(C));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(j);if(k=O,T(k))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},n.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function T(j){if(j.h!=0)return!1;for(let C=0;C<j.g.length;C++)if(j.g[C]!=0)return!1;return!0}function I(j){return j.h==-1}n.l=function(j){return j=F(this,j),I(j)?-1:T(j)?0:1};function D(j){const C=j.g.length,k=[];for(let M=0;M<C;M++)k[M]=~j.g[M];return new d(k,~j.h).add(w)}n.abs=function(){return I(this)?D(this):this},n.add=function(j){const C=Math.max(this.g.length,j.g.length),k=[];let M=0;for(let O=0;O<=C;O++){let B=M+(this.i(O)&65535)+(j.i(O)&65535),P=(B>>>16)+(this.i(O)>>>16)+(j.i(O)>>>16);M=P>>>16,B&=65535,P&=65535,k[O]=P<<16|B}return new d(k,k[k.length-1]&-2147483648?-1:0)};function F(j,C){return j.add(D(C))}n.j=function(j){if(T(this)||T(j))return v;if(I(this))return I(j)?D(this).j(D(j)):D(D(this).j(j));if(I(j))return D(this.j(D(j)));if(this.l(S)<0&&j.l(S)<0)return g(this.m()*j.m());const C=this.g.length+j.g.length,k=[];for(var M=0;M<2*C;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<j.g.length;O++){const B=this.i(M)>>>16,P=this.i(M)&65535,qe=j.i(O)>>>16,ht=j.i(O)&65535;k[2*M+2*O]+=P*ht,z(k,2*M+2*O),k[2*M+2*O+1]+=B*ht,z(k,2*M+2*O+1),k[2*M+2*O+1]+=P*qe,z(k,2*M+2*O+1),k[2*M+2*O+2]+=B*qe,z(k,2*M+2*O+2)}for(j=0;j<C;j++)k[j]=k[2*j+1]<<16|k[2*j];for(j=C;j<2*C;j++)k[j]=0;return new d(k,0)};function z(j,C){for(;(j[C]&65535)!=j[C];)j[C+1]+=j[C]>>>16,j[C]&=65535,C++}function J(j,C){this.g=j,this.h=C}function ae(j,C){if(T(C))throw Error("division by zero");if(T(j))return new J(v,v);if(I(j))return C=ae(D(j),C),new J(D(C.g),D(C.h));if(I(C))return C=ae(j,D(C)),new J(D(C.g),C.h);if(j.g.length>30){if(I(j)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var k=w,M=C;M.l(j)<=0;)k=ce(k),M=ce(M);var O=pe(k,1),B=pe(M,1);for(M=pe(M,2),k=pe(k,2);!T(M);){var P=B.add(M);P.l(j)<=0&&(O=O.add(k),B=P),M=pe(M,1),k=pe(k,1)}return C=F(j,O.j(C)),new J(O,C)}for(O=v;j.l(C)>=0;){for(k=Math.max(1,Math.floor(j.m()/C.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=g(k),P=B.j(C);I(P)||P.l(j)>0;)k-=M,B=g(k),P=B.j(C);T(B)&&(B=w),O=O.add(B),j=F(j,P)}return new J(O,j)}n.B=function(j){return ae(this,j).h},n.and=function(j){const C=Math.max(this.g.length,j.g.length),k=[];for(let M=0;M<C;M++)k[M]=this.i(M)&j.i(M);return new d(k,this.h&j.h)},n.or=function(j){const C=Math.max(this.g.length,j.g.length),k=[];for(let M=0;M<C;M++)k[M]=this.i(M)|j.i(M);return new d(k,this.h|j.h)},n.xor=function(j){const C=Math.max(this.g.length,j.g.length),k=[];for(let M=0;M<C;M++)k[M]=this.i(M)^j.i(M);return new d(k,this.h^j.h)};function ce(j){const C=j.g.length+1,k=[];for(let M=0;M<C;M++)k[M]=j.i(M)<<1|j.i(M-1)>>>31;return new d(k,j.h)}function pe(j,C){const k=C>>5;C%=32;const M=j.g.length-k,O=[];for(let B=0;B<M;B++)O[B]=C>0?j.i(B+k)>>>C|j.i(B+k+1)<<32-C:j.i(B+k);return new d(O,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mA=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=_,ma=d}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gA,Ou,yA,Jf,z0,_A,vA,bA;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function a(h,b){if(b)e:{var E=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var H=h[R];if(!(H in E))break e;E=E[H]}h=h[h.length-1],R=E[h],b=b(R),b!=R&&b!=null&&e(E,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var E=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&E.push([R,b[R]]);return E}});var l=l||{},d=this||self;function f(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,E){return h.call.apply(h.bind,arguments)}function g(h,b,E){return g=m,g.apply(null,arguments)}function _(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,b){function E(){}E.prototype=b.prototype,h.Z=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,H,Y){for(var ue=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ue[Pe-2]=arguments[Pe];return b.prototype[H].apply(R,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const b=h.length;if(b>0){const E=Array(b);for(let R=0;R<b;R++)E[R]=h[R];return E}return[]}function T(h,b){for(let R=1;R<arguments.length;R++){const H=arguments[R];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const Y=H.length||0;h.length=E+Y;for(let ue=0;ue<Y;ue++)h[E+ue]=H[ue]}else h.push(H)}}class I{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function D(h){d.setTimeout(()=>{throw h},0)}function F(){var h=j;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class z{constructor(){this.h=this.g=null}add(b,E){const R=J.get();R.set(b,E),this.h?this.h.next=R:this.g=R,this.h=R}}var J=new I(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,j=new z,C=()=>{const h=Promise.resolve(void 0);ce=()=>{h.then(k)}};function k(){for(var h;h=F();){try{h.h.call(h.g)}catch(E){D(E)}var b=J;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}pe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,b),d.removeEventListener("test",E,b)}catch{}return h})();function P(h){return/^[\s\xa0]*$/.test(h)}function qe(h,b){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}v(qe,O),qe.prototype.init=function(h,b){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),Z=0;function de(h,b,E,R,H){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!R,this.ha=H,this.key=++Z,this.da=this.fa=!1}function le(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ae(h,b,E){for(const R in h)b.call(E,h[R],R,h)}function Ue(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function V(h){const b={};for(const E in h)b[E]=h[E];return b}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(h,b){let E,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(E in R)h[E]=R[E];for(let Y=0;Y<ne.length;Y++)E=ne[Y],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,b,E,R,H){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ue=Le(h,b,R,H);return ue>-1?(b=h[ue],E||(b.fa=!1)):(b=new de(b,this.src,Y,!!R,H),b.fa=E,h.push(b)),b};function Ce(h,b){const E=b.type;if(E in h.g){var R=h.g[E],H=Array.prototype.indexOf.call(R,b,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(R,H,1),Y&&(le(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Le(h,b,E,R){for(let H=0;H<h.length;++H){const Y=h[H];if(!Y.da&&Y.listener==b&&Y.capture==!!E&&Y.ha==R)return H}return-1}var Qe="closure_lm_"+(Math.random()*1e6|0),Xt={};function vt(h,b,E,R,H){if(Array.isArray(b)){for(let Y=0;Y<b.length;Y++)vt(h,b[Y],E,R,H);return null}return E=gc(E),h&&h[ht]?h.J(b,E,f(R)?!!R.capture:!1,H):Ia(h,b,E,!1,R,H)}function Ia(h,b,E,R,H,Y){if(!b)throw Error("Invalid event type");const ue=f(H)?!!H.capture:!!H;let Pe=ja(h);if(Pe||(h[Qe]=Pe=new me(h)),E=Pe.add(b,E,R,ue,Y),E.proxy)return E;if(R=Vo(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)B||(H=ue),H===void 0&&(H=!1),h.addEventListener(b.toString(),R,H);else if(h.attachEvent)h.attachEvent(os(b.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Vo(){function h(E){return b.call(h.src,h.listener,E)}const b=pc;return h}function zo(h,b,E,R,H){if(Array.isArray(b))for(var Y=0;Y<b.length;Y++)zo(h,b[Y],E,R,H);else R=f(R)?!!R.capture:!!R,E=gc(E),h&&h[ht]?(h=h.i,Y=String(b).toString(),Y in h.g&&(b=h.g[Y],E=Le(b,E,R,H),E>-1&&(le(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete h.g[Y],h.h--)))):h&&(h=ja(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Le(b,E,R,H)),(E=h>-1?b[h]:null)&&Uo(E))}function Uo(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[ht])Ce(b.i,h);else{var E=h.type,R=h.proxy;b.removeEventListener?b.removeEventListener(E,R,h.capture):b.detachEvent?b.detachEvent(os(E),R):b.addListener&&b.removeListener&&b.removeListener(R),(E=ja(b))?(Ce(E,h),E.h==0&&(E.src=null,b[Qe]=null)):le(h)}}}function os(h){return h in Xt?Xt[h]:Xt[h]="on"+h}function pc(h,b){if(h.da)h=!0;else{b=new qe(b,this);const E=h.listener,R=h.ha||h.src;h.fa&&Uo(h),h=E.call(R,b)}return h}function ja(h){return h=h[Qe],h instanceof me?h:null}var mc="__closure_events_fn_"+(Math.random()*1e9>>>0);function gc(h){return typeof h=="function"?h:(h[mc]||(h[mc]=function(b){return h.handleEvent(b)}),h[mc])}function Mt(){M.call(this),this.i=new me(this),this.M=this,this.G=null}v(Mt,M),Mt.prototype[ht]=!0,Mt.prototype.removeEventListener=function(h,b,E,R){zo(this,h,b,E,R)};function Jt(h,b){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=b.type||b,typeof b=="string")b=new O(b,h);else if(b instanceof O)b.target=b.target||h;else{var H=b;b=new O(R,h),fe(b,H)}H=!0;let Y,ue;if(E)for(ue=E.length-1;ue>=0;ue--)Y=b.g=E[ue],H=Ti(Y,R,!0,b)&&H;if(Y=b.g=h,H=Ti(Y,R,!0,b)&&H,H=Ti(Y,R,!1,b)&&H,E)for(ue=0;ue<E.length;ue++)Y=b.g=E[ue],H=Ti(Y,R,!1,b)&&H}Mt.prototype.N=function(){if(Mt.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const E=h.g[b];for(let R=0;R<E.length;R++)le(E[R]);delete h.g[b],h.h--}}this.G=null},Mt.prototype.J=function(h,b,E,R){return this.i.add(String(h),b,!1,E,R)},Mt.prototype.K=function(h,b,E,R){return this.i.add(String(h),b,!0,E,R)};function Ti(h,b,E,R){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let H=!0;for(let Y=0;Y<b.length;++Y){const ue=b[Y];if(ue&&!ue.da&&ue.capture==E){const Pe=ue.listener,kt=ue.ha||ue.src;ue.fa&&Ce(h.i,ue),H=Pe.call(kt,R)!==!1&&H}}return H&&!R.defaultPrevented}function Fm(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:d.setTimeout(h,b||0)}function Kd(h){h.g=Fm(()=>{h.g=null,h.i&&(h.i=!1,Kd(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Cn extends M{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Kd(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(h){M.call(this),this.h=h,this.g={}}v(ka,M);var yc=[];function _c(h){Ae(h.g,function(b,E){this.g.hasOwnProperty(E)&&Uo(b)},h),h.g={}}ka.prototype.N=function(){ka.Z.N.call(this),_c(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=d.JSON.stringify,qm=d.JSON.parse,Yd=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Qd(){}function Xd(){}var Pr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function un(){O.call(this,"d")}v(un,O);function gr(){O.call(this,"c")}v(gr,O);var jt={},Jd=null;function Bo(){return Jd=Jd||new Mt}jt.Ia="serverreachability";function Zd(h){O.call(this,jt.Ia,h)}v(Zd,O);function ls(h){const b=Bo();Jt(b,new Zd(b))}jt.STAT_EVENT="statevent";function Na(h,b){O.call(this,jt.STAT_EVENT,h),this.stat=b}v(Na,O);function Lt(h){const b=Bo();Jt(b,new Na(b,h))}jt.Ja="timingevent";function cs(h,b){O.call(this,jt.Ja,h),this.size=b}v(cs,O);function us(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},b)}function Mr(){this.g=!0}Mr.prototype.ua=function(){this.g=!1};function Hm(h,b,E,R,H,Y){h.info(function(){if(h.g)if(Y){var ue="",Pe=Y.split("&");for(let et=0;et<Pe.length;et++){var kt=Pe[et].split("=");if(kt.length>1){const bt=kt[0];kt=kt[1];const br=bt.split("_");ue=br.length>=2&&br[1]=="type"?ue+(bt+"="+kt+"&"):ue+(bt+"=redacted&")}}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+b+`
`+E+`
`+ue})}function eh(h,b,E,R,H,Y,ue){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+b+`
`+E+`
`+Y+" "+ue})}function ds(h,b,E,R){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+$m(h,E)+(R?" "+R:"")})}function Da(h,b){h.info(function(){return"TIMEOUT: "+b})}Mr.prototype.info=function(){};function $m(h,b){if(!h.g)return b;if(!b)return null;try{const Y=JSON.parse(b);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var H=R[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<R.length;ue++)R[ue]=""}}}}return Ai(Y)}catch{return b}}var Oa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bc;function Pa(){}v(Pa,Qd),Pa.prototype.g=function(){return new XMLHttpRequest},bc=new Pa;function Ws(h){return encodeURIComponent(String(h))}function th(h){var b=1;h=h.split(":");const E=[];for(;b>0&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function Lr(h,b,E,R){this.j=h,this.i=b,this.l=E,this.S=R||1,this.V=new ka(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vr}function Vr(){this.i=null,this.g="",this.h=!1}var Vt={},rn={};function hs(h,b,E){h.M=1,h.A=Ma(Ut(b)),h.u=E,h.R=!0,Fo(h,null)}function Fo(h,b){h.F=Date.now(),fs(h),h.B=Ut(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Wo(E.i,"t",R),h.C=0,E=h.j.L,h.h=new Vr,h.g=gh(h.j,E?b:null,!h.u),h.P>0&&(h.O=new Cn(g(h.Y,h,h.g),h.P)),b=h.V,E=h.g,R=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(yc[0]=H.toString()),H=yc);for(let Y=0;Y<H.length;Y++){const ue=vt(E,H[Y],R||b.handleEvent,!1,b.h||b);if(!ue)break;b.g[ue.key]=ue}b=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),ls(),Hm(h.i,h.v,h.B,h.l,h.S,h.u)}Lr.prototype.ba=function(h){h=h.target;const b=this.O;b&&Br(h)==3?b.j():this.Y(h)},Lr.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=Br(this.g),kt=this.g.ya(),et=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||Pe!=4||kt==7||(kt==8||et<=0?ls(3):ls(2)),ps(this);var b=this.g.ca();this.X=b;var E=Wm(this);if(this.o=b==200,eh(this.i,this.v,this.B,this.l,this.S,Pe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var Y=R;break t}}Y=null}if(h=Y)ds(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ms(this,h);else{this.o=!1,this.m=3,Lt(12),Xn(this),yr(this);break e}}if(this.R){h=!0;let bt;for(;!this.K&&this.C<E.length;)if(bt=rh(this,E),bt==rn){Pe==4&&(this.m=4,Lt(14),h=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Vt){this.m=4,Lt(15),ds(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else ds(this.i,this.l,bt,null),ms(this,bt);if(nh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||E.length!=0||this.h.h||(this.m=1,Lt(16),h=!1),this.o=this.o&&h,!h)ds(this.i,this.l,E,"[Invalid Chunked Response]"),Xn(this),yr(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Pc(ue),ue.P=!0,Lt(11))}}else ds(this.i,this.l,E,null),ms(this,E);Pe==4&&Xn(this),this.o&&!this.K&&(Pe==4?hh(this.j,this):(this.o=!1,fs(this)))}else Ks(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Xn(this),yr(this)}}}catch{}};function Wm(h){if(!nh(h))return h.g.la();const b=dn(h.g);if(b==="")return"";let E="";const R=b.length,H=Br(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Xn(h),yr(h),"";h.h.i=new d.TextDecoder}for(let Y=0;Y<R;Y++)h.h.h=!0,E+=h.h.i.decode(b[Y],{stream:!(H&&Y==R-1)});return b.length=0,h.h.g+=E,h.C=0,h.h.g}function nh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function rh(h,b){var E=h.C,R=b.indexOf(`
`,E);return R==-1?rn:(E=Number(b.substring(E,R)),isNaN(E)?Vt:(R+=1,R+E>b.length?rn:(b=b.slice(R,R+E),h.C=R+E,b)))}Lr.prototype.cancel=function(){this.K=!0,Xn(this)};function fs(h){h.T=Date.now()+h.H,qo(h,h.H)}function qo(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=us(g(h.aa,h),b)}function ps(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Lr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Da(this.i,this.B),this.M!=2&&(ls(),Lt(17)),Xn(this),this.m=2,yr(this)):qo(this,this.T-h)};function yr(h){h.j.I==0||h.K||hh(h.j,h)}function Xn(h){ps(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,_c(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function ms(h,b){try{var E=h.j;if(E.I!=0&&(E.g==h||ys(E.h,h))){if(!h.L&&ys(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Xo(E),Oi(E);else break e;qa(E),Lt(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=us(g(E.Va,E),6e3));gs(E.h)<=1&&E.ta&&(E.ta=void 0)}else Es(E,11)}else if((h.L||E.g==h)&&Xo(E),!P(b))for(H=E.Ba.g.parse(b),b=0;b<H.length;b++){let et=H[b];const bt=et[0];if(!(bt<=E.K))if(E.K=bt,et=et[1],E.I==2)if(et[0]=="c"){E.M=et[1],E.ba=et[2];const br=et[3];br!=null&&(E.ka=br,E.j.info("VER="+E.ka));const Ss=et[4];Ss!=null&&(E.za=Ss,E.j.info("SVER="+E.za));const Fr=et[5];Fr!=null&&typeof Fr=="number"&&Fr>0&&(R=1.5*Fr,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const qr=h.g;if(qr){const Ha=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var Y=R.h;Y.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ec(Y,Y.h),Y.h=null))}if(R.G){const Jo=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(R.wa=Jo,rt(R.J,R.G,Jo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ue=h;if(R.na=mh(R,R.L?R.ba:null,R.W),ue.L){Sc(R.h,ue);var Pe=ue,kt=R.O;kt&&(Pe.H=kt),Pe.D&&(ps(Pe),fs(Pe)),R.g=ue}else uh(R);E.i.length>0&&ws(E)}else et[0]!="stop"&&et[0]!="close"||Es(E,7);else E.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Es(E,7):Dc(E):et[0]!="noop"&&E.l&&E.l.qa(et),E.A=0)}}ls(4)}catch{}}var zt=class{constructor(h,b){this.g=h,this.map=b}};function xc(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function gs(h){return h.h?1:h.g?h.g.size:0}function ys(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Ec(h,b){h.g?h.g.add(b):h.h=b}function Sc(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}xc.prototype.cancel=function(){if(this.i=Tc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Tc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.G);return b}return S(h.i)}var sh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ho(h,b){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let H,Y=null;R>=0?(H=h[E].substring(0,R),Y=h[E].substring(R+1)):H=h[E],b(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Jn?(this.l=h.l,sn(this,h.j),this.o=h.o,this.g=h.g,Ri(this,h.u),this.h=h.h,Ac(this,lh(h.i)),this.m=h.m):h&&(b=String(h).match(sh))?(this.l=!1,sn(this,b[1]||"",!0),this.o=_s(b[2]||""),this.g=_s(b[3]||"",!0),Ri(this,b[4]),this.h=_s(b[5]||"",!0),Ac(this,b[6]||"",!0),this.m=_s(b[7]||"")):(this.l=!1,this.i=new Ii(null,this.l))}Jn.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(La(b,$o,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(La(b,$o,!0),"@"),h.push(Ws(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(La(E,E.charAt(0)=="/"?Rc:ih,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",La(E,ah)),h.join("")},Jn.prototype.resolve=function(h){const b=Ut(this);let E=!!h.j;E?sn(b,h.j):E=!!h.o,E?b.o=h.o:E=!!h.g,E?b.g=h.g:E=h.u!=null;var R=h.h;if(E)Ri(b,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var H=b.h.lastIndexOf("/");H!=-1&&(R=b.h.slice(0,H+1)+R)}if(H=R,H==".."||H==".")R="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){R=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let ue=0;ue<H.length;){const Pe=H[ue++];Pe=="."?R&&ue==H.length&&Y.push(""):Pe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),R&&ue==H.length&&Y.push("")):(Y.push(Pe),R=!0)}R=Y.join("/")}else R=H}return E?b.h=R:E=h.i.toString()!=="",E?Ac(b,lh(h.i)):E=!!h.m,E&&(b.m=h.m),b};function Ut(h){return new Jn(h)}function sn(h,b,E){h.j=E?_s(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Ri(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Ac(h,b,E){b instanceof Ii?(h.i=b,Go(h.i,h.l)):(E||(b=La(b,Ci)),h.i=new Ii(b,h.l))}function rt(h,b,E){h.i.set(b,E)}function Ma(h){return rt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function _s(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function La(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,Mn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var $o=/[#\/\?@]/g,ih=/[#\?:]/g,Rc=/[#\?]/g,Ci=/[#\?@]/g,ah=/#/g;function Ii(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Ln(h){h.g||(h.g=new Map,h.h=0,h.i&&Ho(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}n=Ii.prototype,n.add=function(h,b){Ln(this),this.i=null,h=ji(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function oh(h,b){Ln(h),b=ji(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function Cc(h,b){return Ln(h),b=ji(h,b),h.g.has(b)}n.forEach=function(h,b){Ln(this),this.g.forEach(function(E,R){E.forEach(function(H){h.call(b,H,R,this)},this)},this)};function Ic(h,b){Ln(h);let E=[];if(typeof b=="string")Cc(h,b)&&(E=E.concat(h.g.get(ji(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)E=E.concat(h[b]);return E}n.set=function(h,b){return Ln(this),this.i=null,h=ji(this,h),Cc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},n.get=function(h,b){return h?(h=Ic(this,h),h.length>0?String(h[0]):b):b};function Wo(h,b,E){oh(h,b),E.length>0&&(h.i=null,h.g.set(ji(h,b),S(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var E=b[R];const H=Ws(E);E=Ic(this,E);for(let Y=0;Y<E.length;Y++){let ue=H;E[Y]!==""&&(ue+="="+Ws(E[Y])),h.push(ue)}}return this.i=h.join("&")};function lh(h){const b=new Ii;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function ji(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function Go(h,b){b&&!h.j&&(Ln(h),h.i=null,h.g.forEach(function(E,R){const H=R.toLowerCase();R!=H&&(oh(this,R),Wo(this,H,E))},h)),h.j=b}function zr(h,b){const E=new Mr;if(d.Image){const R=new Image;R.onload=_(_r,E,"TestLoadImage: loaded",!0,b,R),R.onerror=_(_r,E,"TestLoadImage: error",!1,b,R),R.onabort=_(_r,E,"TestLoadImage: abort",!1,b,R),R.ontimeout=_(_r,E,"TestLoadImage: timeout",!1,b,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else b(!1)}function jc(h,b){const E=new Mr,R=new AbortController,H=setTimeout(()=>{R.abort(),_r(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:R.signal}).then(Y=>{clearTimeout(H),Y.ok?_r(E,"TestPingServer: ok",!0,b):_r(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),_r(E,"TestPingServer: error",!1,b)})}function _r(h,b,E,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(E)}catch{}}function ki(){this.g=new Yd}function vs(h){this.i=h.Sb||null,this.h=h.ab||!1}v(vs,Qd),vs.prototype.g=function(){return new Va(this.i,this.h)};function Va(h,b){Mt.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Va,Mt),n=Va.prototype,n.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,Ur(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||d).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ko(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ko(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Ni(this):Ur(this),this.readyState==3&&Ko(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ni(this))},n.Na=function(h){this.g&&(this.response=h,Ni(this))},n.ga=function(){this.g&&Ni(this)};function Ni(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ur(h)}n.setRequestHeader=function(h,b){this.A.append(h,b)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function Ur(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function vr(h){let b="";return Ae(h,function(E,R){b+=R,b+=":",b+=E,b+=`\r
`}),b}function za(h,b,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=vr(E),typeof h=="string"?E!=null&&Ws(E):rt(h,b,E))}function at(h){Mt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(at,Mt);var bs=/^https?$/i,kc=["POST","PUT"];n=at.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,b,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bc.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(Y){Ua(this,Y);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)E.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())E.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(kc,b,void 0)>=0)||R||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of E)this.g.setRequestHeader(Y,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Ua(this,Y)}};function Ua(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Nc(h),Gs(h)}function Nc(h){h.A||(h.A=!0,Jt(h,"complete"),Jt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Jt(this,"complete"),Jt(this,"abort"),Gs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gs(this,!0)),at.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ba(this):this.Xa())},n.Xa=function(){Ba(this)};function Ba(h){if(h.h&&typeof l<"u"){if(h.v&&Br(h)==4)setTimeout(h.Ca.bind(h),0);else if(Jt(h,"readystatechange"),Br(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var R;if(R=Y===0){let ue=String(h.D).match(sh)[1]||null;!ue&&d.self&&d.self.location&&(ue=d.self.location.protocol.slice(0,-1)),R=!bs.test(ue?ue.toLowerCase():"")}E=R}if(E)Jt(h,"complete"),Jt(h,"success");else{h.o=6;try{var H=Br(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Nc(h)}}finally{Gs(h)}}}}function Gs(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,b||Jt(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Br(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Br(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),qm(b)}};function dn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(h){const b={};h=(h.g&&Br(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(P(h[R]))continue;var E=th(h[R]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=b[H]||[];b[H]=Y,Y.push(E)}Ue(b,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function Di(h){this.za=0,this.i=[],this.j=new Mr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,h),this.Za=xs("retryDelaySeedMs",1e4,h),this.Ta=xs("forwardChannelMaxRetries",2,h),this.va=xs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new xc(h&&h.concurrentRequestLimit),this.Ba=new ki,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Di.prototype,n.ka=8,n.I=1,n.connect=function(h,b,E,R){Lt(0),this.W=h,this.H=b||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=mh(this,null,this.W),ws(this)};function Dc(h){if(Yo(h),h.I==3){var b=h.V++,E=Ut(h.J);if(rt(E,"SID",h.M),rt(E,"RID",b),rt(E,"TYPE","terminate"),Fa(h,E),b=new Lr(h,h.j,b),b.M=2,b.A=Ma(Ut(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=b.A,E=!0),E||(b.g=gh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),fs(b)}ph(h)}function Oi(h){h.g&&(Pc(h),h.g.cancel(),h.g=null)}function Yo(h){Oi(h),h.v&&(d.clearTimeout(h.v),h.v=null),Xo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function ws(h){if(!wc(h.h)&&!h.m){h.m=!0;var b=h.Ea;ce||C(),pe||(ce(),pe=!0),j.add(b,h),h.D=0}}function Qo(h,b){return gs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=us(g(h.Ea,h,b),fh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Lr(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=V(Y),fe(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=ch(this,H,b),E=Ut(this.J),rt(E,"RID",h),rt(E,"CVER",22),this.G&&rt(E,"X-HTTP-Session-Id",this.G),Fa(this,E),Y&&(this.R?b="headers="+Ws(vr(Y))+"&"+b:this.u&&za(E,this.u,Y)),Ec(this.h,H),this.Ra&&rt(E,"TYPE","init"),this.S?(rt(E,"$req",b),rt(E,"SID","null"),H.U=!0,hs(H,E,null)):hs(H,E,b),this.I=2}}else this.I==3&&(h?Oc(this,h):this.i.length==0||wc(this.h)||Oc(this))};function Oc(h,b){var E;b?E=b.l:E=h.V++;const R=Ut(h.J);rt(R,"SID",h.M),rt(R,"RID",E),rt(R,"AID",h.K),Fa(h,R),h.u&&h.o&&za(R,h.u,h.o),E=new Lr(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),b&&(h.i=b.G.concat(h.i)),b=ch(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ec(h.h,E),hs(E,R,b)}function Fa(h,b){h.H&&Ae(h.H,function(E,R){rt(b,R,E)}),h.l&&Ae({},function(E,R){rt(b,R,E)})}function ch(h,b,E){E=Math.min(h.i.length,E);const R=h.l?g(h.l.Ka,h.l,h):null;e:{var H=h.i;let Pe=-1;for(;;){const kt=["count="+E];Pe==-1?E>0?(Pe=H[0].g,kt.push("ofs="+Pe)):Pe=0:kt.push("ofs="+Pe);let et=!0;for(let bt=0;bt<E;bt++){var Y=H[bt].g;const br=H[bt].map;if(Y-=Pe,Y<0)Pe=Math.max(0,H[bt].g-100),et=!1;else try{Y="req"+Y+"_"||"";try{var ue=br instanceof Map?br:Object.entries(br);for(const[Ss,Fr]of ue){let qr=Fr;f(Fr)&&(qr=Ai(Fr)),kt.push(Y+Ss+"="+encodeURIComponent(qr))}}catch(Ss){throw kt.push(Y+"type="+encodeURIComponent("_badmap")),Ss}}catch{R&&R(br)}}if(et){ue=kt.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),b.G=h,ue}function uh(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;ce||C(),pe||(ce(),pe=!0),j.add(b,h),h.A=0}}function qa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=us(g(h.Da,h),fh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,dh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=us(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),Oi(this),dh(this))};function Pc(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function dh(h){h.g=new Lr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Ut(h.na);rt(b,"RID","rpc"),rt(b,"SID",h.M),rt(b,"AID",h.K),rt(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&rt(b,"TO",h.ia),rt(b,"TYPE","xmlhttp"),Fa(h,b),h.u&&h.o&&za(b,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ma(Ut(b)),E.u=null,E.R=!0,Fo(E,h)}n.Va=function(){this.C!=null&&(this.C=null,Oi(this),qa(this),Lt(19))};function Xo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function hh(h,b){var E=null;if(h.g==b){Xo(h),Pc(h),h.g=null;var R=2}else if(ys(h.h,b))E=b.G,Sc(h.h,b),R=1;else return;if(h.I!=0){if(b.o)if(R==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var H=h.D;R=Bo(),Jt(R,new cs(R,E)),ws(h)}else uh(h);else if(H=b.m,H==3||H==0&&b.X>0||!(R==1&&Qo(h,b)||R==2&&qa(h)))switch(E&&E.length>0&&(b=h.h,b.i=b.i.concat(E)),H){case 1:Es(h,5);break;case 4:Es(h,10);break;case 3:Es(h,6);break;default:Es(h,2)}}}function fh(h,b){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*b}function Es(h,b){if(h.j.info("Error code "+b),b==2){var E=g(h.bb,h),R=h.Ua;const H=!R;R=new Jn(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||sn(R,"https"),Ma(R),H?zr(R.toString(),E):jc(R.toString(),E)}else Lt(2);h.I=0,h.l&&h.l.pa(b),ph(h),Yo(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function ph(h){if(h.I=0,h.ja=[],h.l){const b=Tc(h.h);(b.length!=0||h.i.length!=0)&&(T(h.ja,b),T(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function mh(h,b,E){var R=E instanceof Jn?Ut(E):new Jn(E);if(R.g!="")b&&(R.g=b+"."+R.g),Ri(R,R.u);else{var H=d.location;R=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;const Y=new Jn(null);R&&sn(Y,R),b&&(Y.g=b),H&&Ri(Y,H),E&&(Y.h=E),R=Y}return E=h.G,b=h.wa,E&&b&&rt(R,E,b),rt(R,"VER",h.ka),Fa(h,R),R}function gh(h,b,E){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new at(new vs({ab:E})):new at(h.ma),b.Fa(h.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yh(){}n=yh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Pi(){}Pi.prototype.g=function(h,b){return new In(h,b)};function In(h,b){Mt.call(this),this.g=new Di(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!P(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Ys(this)}v(In,Mt),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Dc(this.g)},In.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ai(h),h=E);b.i.push(new zt(b.Ya++,h)),b.I==3&&ws(b)},In.prototype.N=function(){this.g.l=null,delete this.j,Dc(this.g),delete this.g,In.Z.N.call(this)};function _h(h){un.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const E in b){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}v(_h,un);function vh(){gr.call(this),this.status=1}v(vh,gr);function Ys(h){this.g=h}v(Ys,yh),Ys.prototype.ra=function(){Jt(this.g,"a")},Ys.prototype.qa=function(h){Jt(this.g,new _h(h))},Ys.prototype.pa=function(h){Jt(this.g,new vh)},Ys.prototype.oa=function(){Jt(this.g,"b")},Pi.prototype.createWebChannel=Pi.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,bA=function(){return new Pi},vA=function(){return Bo()},_A=jt,z0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oa.NO_ERROR=0,Oa.TIMEOUT=8,Oa.HTTP_ERROR=6,Jf=Oa,vc.COMPLETE="complete",yA=vc,Xd.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",Mt.prototype.listen=Mt.prototype.J,Ou=Xd,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,gA=at}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let oc="12.9.0";function XP(n){oc=n}const Ao=new U_("@firebase/firestore");function Dl(){return Ao.logLevel}function ge(n,...e){if(Ao.logLevel<=We.DEBUG){const t=e.map(ev);Ao.debug(`Firestore (${oc}): ${n}`,...t)}}function Ei(n,...e){if(Ao.logLevel<=We.ERROR){const t=e.map(ev);Ao.error(`Firestore (${oc}): ${n}`,...t)}}function Ro(n,...e){if(Ao.logLevel<=We.WARN){const t=e.map(ev);Ao.warn(`Firestore (${oc}): ${n}`,...t)}}function ev(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,xA(n,r,t)}function xA(n,e,t){let r=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ei(r),new Error(r)}function nt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||xA(e,a,r)}function Oe(n,e){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Hs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class wA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sn.UNAUTHENTICATED)))}shutdown(){}}class ZP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class eM{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vi,e.enqueueRetryable((()=>a(this.currentUser)))};const d=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vi)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new wA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class tM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class nM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new tM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const r=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new VE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new VE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class tv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=sM(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function U0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return s0(a)===s0(l)?Ge(a,l):s0(a)?1:-1}return Ge(n.length,e.length)}const iM=55296,aM=57343;function s0(n){const e=n.charCodeAt(0);return e>=iM&&e<=aM}function Yl(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const zE="__name__";class ks{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ks.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=ks.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ge(e.length,t.length)}static compareSegments(e,t){const r=ks.isNumericId(e),a=ks.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?ks.extractNumericId(e).compare(ks.extractNumericId(t)):U0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class pt extends ks{construct(e,t,r){return new pt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new pt(t)}static emptyPath(){return new pt([])}}const oM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ks{construct(e,t,r){return new vn(e,t,r)}static isValidIdentifier(e){return oM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zE}static keyField(){return new vn([zE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else f==="`"?(d=!d,a++):f!=="."||d?(r+=f,a++):(l(),a++)}if(l(),d)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(pt.fromString(e))}static fromName(e){return new we(pt.fromString(e).popFirst(5))}static empty(){return new we(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new pt(e.slice()))}}function EA(n,e,t){if(!t)throw new he(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lM(n,e,t,r){if(e===!0&&r===!0)throw new he(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function UE(n){if(!we.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BE(n){if(we.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function om(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function hr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=om(n);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cM(n,e){if(e<=0)throw new he(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Kt(n,e){const t={typeString:n};return e&&(t.value=e),t}function kd(n,e){if(!SA(n))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const d=n[r];if(a&&typeof d!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&d!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new he(te.INVALID_ARGUMENT,t);return!0}const FE=-62135596800,qE=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*qE);return new dt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<FE)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qE}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kd(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Kt("string",dt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new dt(0,0))}static max(){return new Ne(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fd=-1;function uM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(r===1e9?new dt(t+1,0):new dt(t,r));return new _a(a,we.empty(),e)}function dM(n){return new _a(n.readTime,n.key,fd)}class _a{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _a(Ne.min(),we.empty(),fd)}static max(){return new _a(Ne.max(),we.empty(),fd)}}function hM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}const fM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lc(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==fM)throw n;ge("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,r)=>{t(e)}))}static reject(e){return new ie(((t,r)=>{r(e)}))}static waitFor(e){return new ie(((t,r)=>{let a=0,l=0,d=!1;e.forEach((f=>{++a,f.next((()=>{++l,d&&l===a&&t()}),(m=>r(m)))})),d=!0,l===a&&t()}))}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next((a=>a?ie.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new ie(((r,a)=>{const l=e.length,d=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((_=>{d[g]=_,++f,f===l&&r(d)}),(_=>a(_)))}}))}static doWhile(e,t){return new ie(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function mM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cc(n){return n.name==="IndexedDbTransactionError"}class lm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lm.ce=-1;const nv=-1;function cm(n){return n==null}function Ip(n){return n===0&&1/n==-1/0}function gM(n){return typeof n=="number"&&Number.isInteger(n)&&!Ip(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const TA="";function yM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=HE(e)),e=_M(n.get(t),e);return HE(e)}function _M(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case TA:t+="";break;default:t+=l}}return t}function HE(n){return n+TA+""}function $E(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ra(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Et{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cf(this.root,e,this.comparator,!0)}}class Cf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??_n.RED,this.left=a??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new _n(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new WE(this.data.getIterator())}getIteratorFrom(e){return new WE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class WE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new cr([])}unionWith(e){let t=new nn(vn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class RA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new RA("Invalid base64 string: "+l):l}})(e);return new bn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let d=0;d<a.length;++d)l+=String.fromCharCode(a[d]);return l})(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const vM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(n){if(nt(!!n,39018),typeof n=="string"){let e=0;const t=vM.exec(n);if(nt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ba(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}const CA="server_timestamp",IA="__type__",jA="__previous_value__",kA="__local_write_time__";function um(n){return(n?.mapValue?.fields||{})[IA]?.stringValue===CA}function dm(n){const e=n.mapValue.fields[jA];return um(e)?dm(e):e}function pd(n){const e=va(n.mapValue.fields[kA].timestampValue);return new dt(e.seconds,e.nanos)}class bM{constructor(e,t,r,a,l,d,f,m,g,_,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=v}}const jp="(default)";class md{constructor(e,t){this.projectId=e,this.database=t||jp}static empty(){return new md("","")}get isDefaultDatabase(){return this.database===jp}isEqual(e){return e instanceof md&&e.projectId===this.projectId&&e.database===this.database}}function xM(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(n.options.projectId,e)}const NA="__type__",wM="__max__",If={mapValue:{}},DA="__vector__",kp="value";function xa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?um(n)?4:SM(n)?9007199254740991:EM(n)?10:11:Ie(28295,{value:n})}function qs(n,e){if(n===e)return!0;const t=xa(n);if(t!==xa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pd(n).isEqual(pd(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const d=va(a.timestampValue),f=va(l.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return ba(a.bytesValue).isEqual(ba(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ot(a.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(a.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ot(a.integerValue)===Ot(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const d=Ot(a.doubleValue),f=Ot(l.doubleValue);return d===f?Ip(d)===Ip(f):isNaN(d)&&isNaN(f)}return!1})(n,e);case 9:return Yl(n.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return(function(a,l){const d=a.mapValue.fields||{},f=l.mapValue.fields||{};if($E(d)!==$E(f))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(f[m]===void 0||!qs(d[m],f[m])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function gd(n,e){return(n.values||[]).find((t=>qs(t,e)))!==void 0}function Ql(n,e){if(n===e)return 0;const t=xa(n),r=xa(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return(function(l,d){const f=Ot(l.integerValue||l.doubleValue),m=Ot(d.integerValue||d.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,e);case 3:return GE(n.timestampValue,e.timestampValue);case 4:return GE(pd(n),pd(e));case 5:return U0(n.stringValue,e.stringValue);case 6:return(function(l,d){const f=ba(l),m=ba(d);return f.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,d){const f=l.split("/"),m=d.split("/");for(let g=0;g<f.length&&g<m.length;g++){const _=Ge(f[g],m[g]);if(_!==0)return _}return Ge(f.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,d){const f=Ge(Ot(l.latitude),Ot(d.latitude));return f!==0?f:Ge(Ot(l.longitude),Ot(d.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return KE(n.arrayValue,e.arrayValue);case 10:return(function(l,d){const f=l.fields||{},m=d.fields||{},g=f[kp]?.arrayValue,_=m[kp]?.arrayValue,v=Ge(g?.values?.length||0,_?.values?.length||0);return v!==0?v:KE(g,_)})(n.mapValue,e.mapValue);case 11:return(function(l,d){if(l===If.mapValue&&d===If.mapValue)return 0;if(l===If.mapValue)return 1;if(d===If.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=d.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let v=0;v<m.length&&v<_.length;++v){const w=U0(m[v],_[v]);if(w!==0)return w;const S=Ql(f[m[v]],g[_[v]]);if(S!==0)return S}return Ge(m.length,_.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function GE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=va(n),r=va(e),a=Ge(t.seconds,r.seconds);return a!==0?a:Ge(t.nanos,r.nanos)}function KE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Ql(t[a],r[a]);if(l)return l}return Ge(t.length,r.length)}function Xl(n){return B0(n)}function B0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=va(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ba(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=B0(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const d of r)l?l=!1:a+=",",a+=`${d}:${B0(t.fields[d])}`;return a+"}"})(n.mapValue):Ie(61005,{value:n})}function Zf(n){switch(xa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(n);return e?16+Zf(e):16;case 5:return 2*n.stringValue.length;case 6:return ba(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Zf(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Ra(r.fields,((l,d)=>{a+=l.length+Zf(d)})),a})(n.mapValue);default:throw Ie(13486,{value:n})}}function Np(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function F0(n){return!!n&&"integerValue"in n}function rv(n){return!!n&&"arrayValue"in n}function YE(n){return!!n&&"nullValue"in n}function QE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ep(n){return!!n&&"mapValue"in n}function EM(n){return(n?.mapValue?.fields||{})[NA]?.stringValue===DA}function ed(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ra(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ed(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ed(n.arrayValue.values[t]);return e}return{...n}}function SM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wM}class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ep(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(t)}setAll(e){let t=vn.emptyPath(),r={},a=[];e.forEach(((d,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=f.popLast()}d?r[f.lastSegment()]=ed(d):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());ep(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ep(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ra(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new $n(ed(this.value))}}function OA(n){const e=[];return Ra(n.fields,((t,r)=>{const a=new vn([t]);if(ep(r)){const l=OA(r.mapValue).fields;if(l.length===0)e.push(a);else for(const d of l)e.push(a.child(d))}else e.push(a)})),new cr(e)}class Tn{constructor(e,t,r,a,l,d,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=d,this.documentState=f}static newInvalidDocument(e){return new Tn(e,0,Ne.min(),Ne.min(),Ne.min(),$n.empty(),0)}static newFoundDocument(e,t,r,a){return new Tn(e,1,t,Ne.min(),r,a,0)}static newNoDocument(e,t){return new Tn(e,2,t,Ne.min(),Ne.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Ne.min(),Ne.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jl{constructor(e,t){this.position=e,this.inclusive=t}}function XE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],d=n.position[a];if(l.field.isKeyField()?r=we.comparator(we.fromName(d.referenceValue),t.key):r=Ql(d,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function JE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qs(n.position[t],e.position[t]))return!1;return!0}class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function TM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class PA{}class Gt extends PA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new RM(e,t,r):t==="array-contains"?new jM(e,r):t==="in"?new kM(e,r):t==="not-in"?new NM(e,r):t==="array-contains-any"?new DM(e,r):new Gt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new CM(e,r):new IM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ql(t,this.value)):t!==null&&xa(this.value)===xa(t)&&this.matchesComparison(Ql(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends PA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ts(e,t)}matches(e){return MA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MA(n){return n.op==="and"}function LA(n){return AM(n)&&MA(n)}function AM(n){for(const e of n.filters)if(e instanceof ts)return!1;return!0}function q0(n){if(n instanceof Gt)return n.field.canonicalString()+n.op.toString()+Xl(n.value);if(LA(n))return n.filters.map((e=>q0(e))).join(",");{const e=n.filters.map((t=>q0(t))).join(",");return`${n.op}(${e})`}}function VA(n,e){return n instanceof Gt?(function(r,a){return a instanceof Gt&&r.op===a.op&&r.field.isEqual(a.field)&&qs(r.value,a.value)})(n,e):n instanceof ts?(function(r,a){return a instanceof ts&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,d,f)=>l&&VA(d,a.filters[f])),!0):!1})(n,e):void Ie(19439)}function zA(n){return n instanceof Gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Xl(t.value)}`})(n):n instanceof ts?(function(t){return t.op.toString()+" {"+t.getFilters().map(zA).join(" ,")+"}"})(n):"Filter"}class RM extends Gt{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class CM extends Gt{constructor(e,t){super(e,"in",t),this.keys=UA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class IM extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=UA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function UA(n,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class jM extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rv(t)&&gd(t.arrayValue,this.value)}}class kM extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gd(this.value.arrayValue,t)}}class NM extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gd(this.value.arrayValue,t)}}class DM extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>gd(this.value.arrayValue,r)))}}class OM{constructor(e,t=null,r=[],a=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=d,this.endAt=f,this.Te=null}}function ZE(n,e=null,t=[],r=[],a=null,l=null,d=null){return new OM(n,e,t,r,a,l,d)}function sv(n){const e=Oe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>q0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),cm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Xl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Xl(r))).join(",")),e.Te=t}return e.Te}function iv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!VA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JE(n.startAt,e.startAt)&&JE(n.endAt,e.endAt)}function H0(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Po{constructor(e,t=null,r=[],a=[],l=null,d="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function PM(n,e,t,r,a,l,d,f){return new Po(n,e,t,r,a,l,d,f)}function hm(n){return new Po(n)}function eS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function MM(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function av(n){return n.collectionGroup!==null}function $l(n){const e=Oe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new nn(vn.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new yd(l,r))})),t.has(vn.keyField().canonicalString())||e.Ie.push(new yd(vn.keyField(),r))}return e.Ie}function Vs(n){const e=Oe(n);return e.Ee||(e.Ee=LM(e,$l(n))),e.Ee}function LM(n,e){if(n.limitType==="F")return ZE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new yd(a.field,l)}));const t=n.endAt?new Jl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Jl(n.startAt.position,n.startAt.inclusive):null;return ZE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $0(n,e){const t=n.filters.concat([e]);return new Po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function VM(n,e){const t=n.explicitOrderBy.concat([e]);return new Po(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Dp(n,e,t){return new Po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zM(n,e){return new Po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function fm(n,e){return iv(Vs(n),Vs(e))&&n.limitType===e.limitType}function BA(n){return`${sv(Vs(n))}|lt:${n.limitType}`}function Ol(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>zA(a))).join(", ")}]`),cm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Xl(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Xl(a))).join(",")),`Target(${r})`})(Vs(n))}; limitType=${n.limitType})`}function pm(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):we.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of $l(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(d,f,m){const g=XE(d,f,m);return d.inclusive?g<=0:g<0})(r.startAt,$l(r),a)||r.endAt&&!(function(d,f,m){const g=XE(d,f,m);return d.inclusive?g>=0:g>0})(r.endAt,$l(r),a))})(n,e)}function UM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function FA(n){return(e,t)=>{let r=!1;for(const a of $l(n)){const l=BM(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function BM(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):(function(l,d,f){const m=d.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Ql(m,g):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}class Mo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return AA(this.inner)}size(){return this.innerSize}}const FM=new Et(we.comparator);function Si(){return FM}const qA=new Et(we.comparator);function Pu(...n){let e=qA;for(const t of n)e=e.insert(t.key,t);return e}function HA(n){let e=qA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function uo(){return td()}function $A(){return td()}function td(){return new Mo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const qM=new Et(we.comparator),HM=new nn(we.comparator);function Ke(...n){let e=HM;for(const t of n)e=e.add(t);return e}const $M=new nn(Ge);function WM(){return $M}function ov(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ip(e)?"-0":e}}function WA(n){return{integerValue:""+n}}function GM(n,e){return gM(e)?WA(e):ov(n,e)}class mm{constructor(){this._=void 0}}function KM(n,e,t){return n instanceof _d?(function(a,l){const d={fields:{[IA]:{stringValue:CA},[kA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&um(l)&&(l=dm(l)),l&&(d.fields[jA]=l),{mapValue:d}})(t,e):n instanceof vd?KA(n,e):n instanceof bd?YA(n,e):(function(a,l){const d=GA(a,l),f=tS(d)+tS(a.Ae);return F0(d)&&F0(a.Ae)?WA(f):ov(a.serializer,f)})(n,e)}function YM(n,e,t){return n instanceof vd?KA(n,e):n instanceof bd?YA(n,e):t}function GA(n,e){return n instanceof Op?(function(r){return F0(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class _d extends mm{}class vd extends mm{constructor(e){super(),this.elements=e}}function KA(n,e){const t=QA(e);for(const r of n.elements)t.some((a=>qs(a,r)))||t.push(r);return{arrayValue:{values:t}}}class bd extends mm{constructor(e){super(),this.elements=e}}function YA(n,e){let t=QA(e);for(const r of n.elements)t=t.filter((a=>!qs(a,r)));return{arrayValue:{values:t}}}class Op extends mm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function tS(n){return Ot(n.integerValue||n.doubleValue)}function QA(n){return rv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class QM{constructor(e,t){this.field=e,this.transform=t}}function XM(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof vd&&a instanceof vd||r instanceof bd&&a instanceof bd?Yl(r.elements,a.elements,qs):r instanceof Op&&a instanceof Op?qs(r.Ae,a.Ae):r instanceof _d&&a instanceof _d})(n.transform,e.transform)}class JM{constructor(e,t){this.version=e,this.transformResults=t}}class Zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gm{}function XA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ZA(n.key,Zr.none()):new Nd(n.key,n.data,Zr.none());{const t=n.data,r=$n.empty();let a=new nn(vn.comparator);for(let l of e.fields)if(!a.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?r.delete(l):r.set(l,d),a=a.add(l)}return new Ca(n.key,r,new cr(a.toArray()),Zr.none())}}function ZM(n,e,t){n instanceof Nd?(function(a,l,d){const f=a.value.clone(),m=rS(a.fieldTransforms,l,d.transformResults);f.setAll(m),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Ca?(function(a,l,d){if(!tp(a.precondition,l))return void l.convertToUnknownDocument(d.version);const f=rS(a.fieldTransforms,l,d.transformResults),m=l.data;m.setAll(JA(a)),m.setAll(f),l.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function nd(n,e,t,r){return n instanceof Nd?(function(l,d,f,m){if(!tp(l.precondition,d))return f;const g=l.value.clone(),_=sS(l.fieldTransforms,m,d);return g.setAll(_),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ca?(function(l,d,f,m){if(!tp(l.precondition,d))return f;const g=sS(l.fieldTransforms,m,d),_=d.data;return _.setAll(JA(l)),_.setAll(g),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(l,d,f){return tp(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f})(n,e,t)}function eL(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=GA(r.transform,a||null);l!=null&&(t===null&&(t=$n.empty()),t.set(r.field,l))}return t||null}function nS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Yl(r,a,((l,d)=>XM(l,d)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nd extends gm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ca extends gm{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function JA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function rS(n,e,t){const r=new Map;nt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],d=l.transform,f=e.data.field(l.field);r.set(l.field,YM(d,f,t[a]))}return r}function sS(n,e,t){const r=new Map;for(const a of n){const l=a.transform,d=t.data.field(a.field);r.set(a.field,KM(l,d,e))}return r}class ZA extends gm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tL extends gm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nL{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&ZM(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=nd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=nd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$A();return this.mutations.forEach((a=>{const l=e.get(a.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=t.has(a.key)?null:f;const m=XA(d,f);m!==null&&r.set(a.key,m),d.isValidDocument()||d.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,((t,r)=>nS(t,r)))&&Yl(this.baseMutations,e.baseMutations,((t,r)=>nS(t,r)))}}class lv{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return qM})();const l=e.mutations;for(let d=0;d<l.length;d++)a=a.insert(l[d].key,r[d].version);return new lv(e,t,r,a)}}class rL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sL{constructor(e,t){this.count=e,this.unchangedNames=t}}var $t,Xe;function iL(n){switch(n){case te.OK:return Ie(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function eR(n){if(n===void 0)return Ei("GRPC error has no .code"),te.UNKNOWN;switch(n){case $t.OK:return te.OK;case $t.CANCELLED:return te.CANCELLED;case $t.UNKNOWN:return te.UNKNOWN;case $t.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case $t.INTERNAL:return te.INTERNAL;case $t.UNAVAILABLE:return te.UNAVAILABLE;case $t.UNAUTHENTICATED:return te.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case $t.NOT_FOUND:return te.NOT_FOUND;case $t.ALREADY_EXISTS:return te.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return te.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case $t.ABORTED:return te.ABORTED;case $t.OUT_OF_RANGE:return te.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return te.UNIMPLEMENTED;case $t.DATA_LOSS:return te.DATA_LOSS;default:return Ie(39323,{code:n})}}(Xe=$t||($t={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function aL(){return new TextEncoder}const oL=new ma([4294967295,4294967295],0);function iS(n){const e=aL().encode(n),t=new mA;return t.update(e),new Uint8Array(t.digest())}function aS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ma([t,r],0),new ma([a,l],0)]}class cv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mu(`Invalid padding: ${t}`);if(r<0)throw new Mu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ma.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(ma.fromNumber(r)));return a.compare(oL)===1&&(a=new ma([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=iS(e),[r,a]=aS(t);for(let l=0;l<this.hashCount;l++){const d=this.ye(r,a,l);if(!this.we(d))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new cv(l,a,t);return r.forEach((f=>d.insert(f))),d}insert(e){if(this.ge===0)return;const t=iS(e),[r,a]=aS(t);for(let l=0;l<this.hashCount;l++){const d=this.ye(r,a,l);this.be(d)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ym{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ym(Ne.min(),a,new Et(Ge),Si(),Ke())}}class Dd{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Dd(r,t,Ke(),Ke(),Ke())}}class np{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class tR{constructor(e,t){this.targetId=e,this.Ce=t}}class nR{constructor(e,t,r=bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class oS{constructor(){this.ve=0,this.Fe=lS(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),t=Ke(),r=Ke();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ie(38017,{changeType:l})}})),new Dd(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=lS()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class lL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Si(),this.He=jf(),this.Je=jf(),this.Ze=new Et(Ge)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(H0(l))if(r===0){const d=new we(l.path);this.et(t,d,Tn.newNoDocument(d,Ne.min()))}else nt(r===1,20013,{expectedCount:r});else{const d=this._t(t);if(d!==r){const f=this.ut(e),m=f?this.ct(f,e,d):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let d,f;try{d=ba(r).toUint8Array()}catch(m){if(m instanceof RA)return Ro("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new cv(d,a,l)}catch(m){return Ro(m instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const d=this.Ge.ht(),f=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,d)=>{const f=this.ot(d);if(f){if(l.current&&H0(f.target)){const m=new we(f.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,Tn.newNoDocument(m,e))}l.Be&&(t.set(d,l.ke()),l.Ke())}}));let r=Ke();this.Je.forEach(((l,d)=>{let f=!0;d.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,d)=>d.setReadTime(e)));const a=new ym(e,t,this.Ze,this.je,r);return this.je=Si(),this.He=jf(),this.Je=jf(),this.Ze=new Et(Ge),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new oS,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new nn(Ge),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new nn(Ge),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function jf(){return new Et(we.comparator)}function lS(){return new Et(we.comparator)}const cL={asc:"ASCENDING",desc:"DESCENDING"},uL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dL={and:"AND",or:"OR"};class hL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function W0(n,e){return n.useProto3Json||cm(e)?e:{value:e}}function Pp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fL(n,e){return Pp(n,e.toTimestamp())}function zs(n){return nt(!!n,49232),Ne.fromTimestamp((function(t){const r=va(t);return new dt(r.seconds,r.nanos)})(n))}function uv(n,e){return G0(n,e).canonicalString()}function G0(n,e){const t=(function(a){return new pt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function sR(n){const e=pt.fromString(n);return nt(cR(e),10190,{key:e.toString()}),e}function K0(n,e){return uv(n.databaseId,e.path)}function i0(n,e){const t=sR(e);if(t.get(1)!==n.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(aR(t))}function iR(n,e){return uv(n.databaseId,e)}function pL(n){const e=sR(n);return e.length===4?pt.emptyPath():aR(e)}function Y0(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aR(n){return nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cS(n,e,t){return{name:K0(n,e),fields:t.value.mapValue.fields}}function mL(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(nt(_===void 0||typeof _=="string",58123),bn.fromBase64String(_||"")):(nt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),bn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&(function(g){const _=g.code===void 0?te.UNKNOWN:eR(g.code);return new he(_,g.message||"")})(d);t=new nR(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=i0(n,r.document.name),l=zs(r.document.updateTime),d=r.document.createTime?zs(r.document.createTime):Ne.min(),f=new $n({mapValue:{fields:r.document.fields}}),m=Tn.newFoundDocument(a,l,d,f),g=r.targetIds||[],_=r.removedTargetIds||[];t=new np(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=i0(n,r.document),l=r.readTime?zs(r.readTime):Ne.min(),d=Tn.newNoDocument(a,l),f=r.removedTargetIds||[];t=new np([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=i0(n,r.document),l=r.removedTargetIds||[];t=new np([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,d=new sL(a,l),f=r.targetId;t=new tR(f,d)}}return t}function gL(n,e){let t;if(e instanceof Nd)t={update:cS(n,e.key,e.value)};else if(e instanceof ZA)t={delete:K0(n,e.key)};else if(e instanceof Ca)t={update:cS(n,e.key,e.data),updateMask:TL(e.fieldMask)};else{if(!(e instanceof tL))return Ie(16599,{dt:e.type});t={verify:K0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,d){const f=d.transform;if(f instanceof _d)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof vd)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof bd)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Op)return{fieldPath:d.field.canonicalString(),increment:f.Ae};throw Ie(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:fL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(n,e.precondition)),t}function yL(n,e){return n&&n.length>0?(nt(e!==void 0,14353),n.map((t=>(function(a,l){let d=a.updateTime?zs(a.updateTime):zs(l);return d.isEqual(Ne.min())&&(d=zs(l)),new JM(d,a.transformResults||[])})(t,e)))):[]}function _L(n,e){return{documents:[iR(n,e.path)]}}function vL(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=iR(n,a);const l=(function(g){if(g.length!==0)return lR(ts.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const d=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:Pl(w.field),direction:wL(w.dir)}})(_)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=W0(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function bL(n){let e=pL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){nt(r===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(v){const w=oR(v);return w instanceof ts&&LA(w)?w.getFilters():[w]})(t.where));let d=[];t.orderBy&&(d=(function(v){return v.map((w=>(function(T){return new yd(Ml(T.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(w)))})(t.orderBy));let f=null;t.limit&&(f=(function(v){let w;return w=typeof v=="object"?v.value:v,cm(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(v){const w=!!v.before,S=v.values||[];return new Jl(S,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(v){const w=!v.before,S=v.values||[];return new Jl(S,w)})(t.endAt)),PM(e,a,d,l,f,"F",m,g)}function xL(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ml(t.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ml(t.unaryFilter.field);return Gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ml(t.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ml(t.unaryFilter.field);return Gt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Gt.create(Ml(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ts.create(t.compositeFilter.filters.map((r=>oR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function wL(n){return cL[n]}function EL(n){return uL[n]}function SL(n){return dL[n]}function Pl(n){return{fieldPath:n.canonicalString()}}function Ml(n){return vn.fromServerFormat(n.fieldPath)}function lR(n){return n instanceof Gt?(function(t){if(t.op==="=="){if(QE(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NAN"}};if(YE(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QE(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NOT_NAN"}};if(YE(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(t.field),op:EL(t.op),value:t.value}}})(n):n instanceof ts?(function(t){const r=t.getFilters().map((a=>lR(a)));return r.length===1?r[0]:{compositeFilter:{op:SL(t.op),filters:r}}})(n):Ie(54877,{filter:n})}function TL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function cR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function uR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class da{constructor(e,t,r,a,l=Ne.min(),d=Ne.min(),f=bn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AL{constructor(e){this.yt=e}}function RL(n){const e=bL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dp(e,e.limit,"L"):e}class CL{constructor(){this.Sn=new IL}addToCollectionParentIndex(e,t){return this.Sn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(_a.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class IL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new nn(pt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new nn(pt.comparator)).toArray()}}const uS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dR=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(dR,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class Zl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Zl(0)}static ar(){return new Zl(-1)}}const dS="LruGarbageCollector",jL=1048576;function hS([n,e],[t,r]){const a=Ge(n,t);return a===0?Ge(e,r):a}class kL{constructor(e){this.Pr=e,this.buffer=new nn(hS),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(dS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){cc(t)?ge(dS,"Ignoring IndexedDB error during garbage collection: ",t):await lc(t)}await this.Ar(3e5)}))}}class DL{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(lm.ce);const r=new kL(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(uS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uS):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,l,d,f,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,d=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,f=Date.now(),this.removeTargets(e,r,t)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(g=Date.now(),Dl()<=We.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${a} in `+(f-d)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${v} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function OL(n,e){return new DL(n,e)}class PL{constructor(){this.changes=new Mo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ML{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LL{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&nd(r.mutation,a,cr.empty(),dt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ke()){const a=uo();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let d=Pu();return l.forEach(((f,m)=>{d=d.insert(f,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const r=uo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ke())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((d,f)=>{t.set(d,f)}))}))}computeViews(e,t,r,a){let l=Si();const d=td(),f=(function(){return td()})();return t.forEach(((m,g)=>{const _=r.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof Ca)?l=l.insert(g.key,g):_!==void 0?(d.set(g.key,_.mutation.getFieldMask()),nd(_.mutation,g,_.mutation.getFieldMask(),dt.now())):d.set(g.key,cr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,_)=>d.set(g,_))),t.forEach(((g,_)=>f.set(g,new ML(_,d.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=td();let a=new Et(((d,f)=>d-f)),l=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const f of d)f.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let _=r.get(m)||cr.empty();_=f.applyToLocalView(g,_),r.set(m,_);const v=(a.get(f.batchId)||Ke()).add(m);a=a.insert(f.batchId,v)}))})).next((()=>{const d=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,_=m.value,v=$A();_.forEach((w=>{if(!l.has(w)){const S=XA(t.get(w),r.get(w));S!==null&&v.set(w,S),l=l.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ie.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return MM(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):av(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const d=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ie.resolve(uo());let f=fd,m=l;return d.next((g=>ie.forEach(g,((_,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{m=m.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ke()))).next((_=>({batchId:f,changes:HA(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((r=>{let a=Pu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let d=Pu();return this.indexManager.getCollectionParents(e,l).next((f=>ie.forEach(f,(m=>{const g=(function(v,w){return new Po(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((_=>{_.forEach(((v,w)=>{d=d.insert(v,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((d=>{l.forEach(((m,g)=>{const _=g.getKey();d.get(_)===null&&(d=d.insert(_,Tn.newInvalidDocument(_)))}));let f=Pu();return d.forEach(((m,g)=>{const _=l.get(m);_!==void 0&&nd(_.mutation,g,cr.empty(),dt.now()),pm(t,g)&&(f=f.insert(m,g))})),f}))}}class VL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ie.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:zs(a.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:RL(a.bundledQuery),readTime:zs(a.readTime)}})(t)),ie.resolve()}}class zL{constructor(){this.overlays=new Et(we.comparator),this.Lr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=uo();return ie.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.bt(e,t,l)})),ie.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const a=uo(),l=t.length+1,d=new we(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new Et(((g,_)=>g-_));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=l.get(g.largestBatchId);_===null&&(_=uo(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=uo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,_)=>f.set(g,_))),!(f.size()>=a)););return ie.resolve(f)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const d=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new rL(t,r));let l=this.Lr.get(t);l===void 0&&(l=Ke(),this.Lr.set(t,l)),this.Lr.set(t,l.add(r.key))}}class UL{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}class dv{constructor(){this.kr=new nn(cn.Kr),this.qr=new nn(cn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new cn(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new cn(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new we(new pt([])),r=new cn(t,e),a=new cn(t,e+1),l=[];return this.qr.forEachInRange([r,a],(d=>{this.Wr(d),l.push(d.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new we(new pt([])),r=new cn(t,e),a=new cn(t,e+1);let l=Ke();return this.qr.forEachInRange([r,a],(d=>{l=l.add(d.key)})),l}containsKey(e){const t=new cn(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return we.comparator(e.key,t.key)||Ge(e.Hr,t.Hr)}static Ur(e,t){return Ge(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}class BL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new nn(cn.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nL(l,t,r,a);this.mutationQueue.push(d);for(const f of a)this.Jr=this.Jr.add(new cn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,t){return ie.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?nv:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new cn(t,0),a=new cn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(d=>{const f=this.Zr(d.Hr);l.push(f)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nn(Ge);return t.forEach((a=>{const l=new cn(a,0),d=new cn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,d],(f=>{r=r.add(f.Hr)}))})),ie.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;we.isDocumentKey(l)||(l=l.child(""));const d=new cn(new we(l),0);let f=new nn(Ge);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Hr)),!0)}),d),ie.resolve(this.Yr(f))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){nt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ie.forEach(t.mutations,(a=>{const l=new cn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new cn(t,0),a=this.Jr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class FL{constructor(e){this.ti=e,this.docs=(function(){return new Et(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,d=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=Si();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Tn.newInvalidDocument(a))})),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Si();const d=t.path,f=new we(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||hM(dM(_),r)<=0||(a.has(_.key)||pm(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ie(9500)}ni(e,t){return ie.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new qL(this)}getSize(e){return ie.resolve(this.size)}}class qL extends PL{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),ie.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class HL{constructor(e){this.persistence=e,this.ri=new Mo((t=>sv(t)),iv),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new dv,this.targetCount=0,this.oi=Zl._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),ie.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Zl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.lr(t),ie.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.ri.forEach(((d,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.ri.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((d=>{l.push(a.markPotentiallyOrphaned(e,d))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.si.containsKey(t))}}class hR{constructor(e,t){this._i={},this.overlays={},this.ai=new lm(0),this.ui=!1,this.ui=!0,this.ci=new UL,this.referenceDelegate=e(this),this.li=new HL(this),this.indexManager=new CL,this.remoteDocumentCache=(function(a){return new FL(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new AL(t),this.Pi=new VL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new BL(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const a=new $L(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return ie.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class $L extends pM{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.Ri=new dv,this.Ai=null}static Vi(e){return new hv(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(r=>{const a=we.fromPath(r);return this.mi(e,a).next((l=>{l||t.removeEntry(a,Ne.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Mp{constructor(e,t){this.persistence=e,this.fi=new Mo((r=>yM(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=OL(this,t)}static Vi(e,t){return new Mp(e,t)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return ie.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?ie.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(d=>this.wr(e,d,t).next((f=>{f||(r++,l.removeEntry(d,Ne.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ie.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zf(e.data.value)),t}wr(e,t,r){return ie.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return ie.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fv{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=Ke(),a=Ke();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new fv(e,t.fromCache,r,a)}}class WL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return J4()?8:mM(Rn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.gs(e,t).next((d=>{l.result=d})).next((()=>{if(!l.result)return this.ps(e,t,a,r).next((d=>{l.result=d}))})).next((()=>{if(l.result)return;const d=new WL;return this.ys(e,t,d).next((f=>{if(l.result=f,this.As)return this.ws(e,t,d,f.size)}))})).next((()=>l.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Dl()<=We.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ol(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Dl()<=We.DEBUG&&ge("QueryEngine","Query:",Ol(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Dl()<=We.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ol(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(t))):ie.resolve())}gs(e,t){if(eS(t))return ie.resolve(null);let r=Vs(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Dp(t,null,"F"),r=Vs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const d=Ke(...l);return this.fs.getDocuments(e,d).next((f=>this.indexManager.getMinOffset(e,r).next((m=>{const g=this.bs(t,f);return this.Ss(t,g,d,m.readTime)?this.gs(e,Dp(t,null,"F")):this.Ds(e,g,t,m)}))))})))))}ps(e,t,r,a){return eS(t)||a.isEqual(Ne.min())?ie.resolve(null):this.fs.getDocuments(e,r).next((l=>{const d=this.bs(t,l);return this.Ss(t,d,r,a)?ie.resolve(null):(Dl()<=We.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ol(t)),this.Ds(e,d,t,uM(a,fd)).next((f=>f)))}))}bs(e,t){let r=new nn(FA(e));return t.forEach(((a,l)=>{pm(e,l)&&(r=r.add(l))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,r){return Dl()<=We.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ol(t)),this.fs.getDocumentsMatchingQuery(e,t,_a.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((d=>{l=l.insert(d.key,d)})),l)))}}const pv="LocalStore",KL=3e8;class YL{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new Et(Ge),this.Fs=new Mo((l=>sv(l)),iv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function QL(n,e,t,r){return new YL(n,e,t,r)}async function fR(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const d=[],f=[];let m=Ke();for(const g of a){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){f.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(r,m).next((g=>({Ns:g,removedBatchIds:d,addedBatchIds:f})))}))}))}function XL(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,_){const v=g.batch,w=v.keys();let S=ie.resolve();return w.forEach((T=>{S=S.next((()=>_.getEntry(m,T))).next((I=>{const D=g.docVersions.get(T);nt(D!==null,48541),I.version.compareTo(D)<0&&(v.applyToRemoteDocument(I,g),I.isValidDocument()&&(I.setReadTime(g.commitVersion),_.addEntry(I)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(m,v)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let m=Ke();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function pR(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function JL(n,e){const t=Oe(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const f=[];e.targetChanges.forEach(((_,v)=>{const w=a.get(v);if(!w)return;f.push(t.li.removeMatchingKeys(l,_.removedDocuments,v).next((()=>t.li.addMatchingKeys(l,_.addedDocuments,v))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(bn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,r)),a=a.insert(v,S),(function(I,D,F){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=KL?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,S,_)&&f.push(t.li.updateTargetData(l,S))}));let m=Si(),g=Ke();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),f.push(ZL(l,d,e.documentUpdates).next((_=>{m=_.Bs,g=_.Ls}))),!r.isEqual(Ne.min())){const _=t.li.getLastRemoteSnapshotVersion(l).next((v=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(_)}return ie.waitFor(f).next((()=>d.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.vs=a,l)))}function ZL(n,e,t){let r=Ke(),a=Ke();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let d=Si();return t.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(f,m.readTime),d=d.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),d=d.insert(f,m)):ge(pv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{Bs:d,Ls:a}}))}function e8(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=nv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function t8(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((l=>l?(a=l,ie.resolve(a)):t.li.allocateTargetId(r).next((d=>(a=new da(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Q0(n,e,t){const r=Oe(n),a=r.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(d=>r.persistence.referenceDelegate.removeTarget(d,a)))}catch(d){if(!cc(d))throw d;ge(pv,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function fS(n,e,t){const r=Oe(n);let a=Ne.min(),l=Ke();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,g,_){const v=Oe(m),w=v.Fs.get(_);return w!==void 0?ie.resolve(v.vs.get(w)):v.li.getTargetData(g,_)})(r,d,Vs(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,f.targetId).next((m=>{l=m}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,t?a:Ne.min(),t?l:Ke()))).next((f=>(n8(r,UM(e),f),{documents:f,ks:l})))))}function n8(n,e,t){let r=n.Ms.get(e)||Ne.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Ms.set(e,r)}class pS{constructor(){this.activeTargetIds=WM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r8{constructor(){this.vo=new pS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new pS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class s8{Mo(e){}shutdown(){}}const mS="ConnectivityMonitor";class gS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(mS,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(mS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kf=null;function X0(){return kf===null?kf=(function(){return 268435456+Math.round(2147483648*Math.random())})():kf++,"0x"+kf.toString(16)}const a0="RestConnection",i8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class a8{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===jp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,l){const d=X0(),f=this.Qo(e,t.toUriEncodedString());ge(a0,`Sending RPC '${e}' ${d}:`,f,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:g}=new URL(f),_=Ta(g);return this.zo(e,f,m,r,_).then((v=>(ge(a0,`Received RPC '${e}' ${d}: `,v),v)),(v=>{throw Ro(a0,`RPC '${e}' ${d} failed with error: `,v,"url: ",f,"request:",r),v}))}jo(e,t,r,a,l,d){return this.Wo(e,t,r,a,l)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const r=i8[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class o8{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const En="WebChannelConnection",wu=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Wl extends a8{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Wl.c_){const e=vA();wu(e,_A.STAT_EVENT,(t=>{t.stat===z0.PROXY?ge(En,"STAT_EVENT: detected buffering proxy"):t.stat===z0.NOPROXY&&ge(En,"STAT_EVENT: detected no buffering proxy")})),Wl.c_=!0}}zo(e,t,r,a,l){const d=X0();return new Promise(((f,m)=>{const g=new gA;g.setWithCredentials(!0),g.listenOnce(yA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Jf.NO_ERROR:const v=g.getResponseJson();ge(En,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(v)),f(v);break;case Jf.TIMEOUT:ge(En,`RPC '${e}' ${d} timed out`),m(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case Jf.HTTP_ERROR:const w=g.getStatus();if(ge(En,`RPC '${e}' ${d} failed with status:`,w,"response text:",g.getResponseText()),w>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const T=S?.error;if(T&&T.status&&T.message){const I=(function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(z)>=0?z:te.UNKNOWN})(T.status);m(new he(I,T.message))}else m(new he(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(te.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ge(En,`RPC '${e}' ${d} completed.`)}}));const _=JSON.stringify(a);ge(En,`RPC '${e}' ${d} sending request:`,a),g.send(t,"POST",_,r,15)}))}T_(e,t,r){const a=X0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=l.join("");ge(En,`Creating RPC '${e}' stream ${a}: ${g}`,f);const _=d.createWebChannel(g,f);this.I_(_);let v=!1,w=!1;const S=new o8({Ho:T=>{w?ge(En,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(v||(ge(En,`Opening RPC '${e}' stream ${a} transport.`),_.open(),v=!0),ge(En,`RPC '${e}' stream ${a} sending:`,T),_.send(T))},Jo:()=>_.close()});return wu(_,Ou.EventType.OPEN,(()=>{w||(ge(En,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),wu(_,Ou.EventType.CLOSE,(()=>{w||(w=!0,ge(En,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(_))})),wu(_,Ou.EventType.ERROR,(T=>{w||(w=!0,Ro(En,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),S.o_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),wu(_,Ou.EventType.MESSAGE,(T=>{if(!w){const I=T.data[0];nt(!!I,16349);const D=I,F=D?.error||D[0]?.error;if(F){ge(En,`RPC '${e}' stream ${a} received error:`,F);const z=F.status;let J=(function(pe){const j=$t[pe];if(j!==void 0)return eR(j)})(z),ae=F.message;z==="NOT_FOUND"&&ae.includes("database")&&ae.includes("does not exist")&&ae.includes(this.databaseId.database)&&Ro(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),J===void 0&&(J=te.INTERNAL,ae="Unknown error status: "+z+" with message "+F.message),w=!0,S.o_(new he(J,ae)),_.close()}else ge(En,`RPC '${e}' stream ${a} received:`,I),S.__(I)}})),Wl.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return bA()}}function l8(n){return new Wl(n)}function o0(){return typeof document<"u"?document:null}function _m(n){return new hL(n,!0)}Wl.c_=!1;class mR{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const yS="PersistentStream";class gR{constructor(e,t,r,a,l,d,f,m){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new he(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(yS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ge(yS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c8 extends gR{constructor(e,t,r,a,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,d),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=mL(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ne.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?zs(d.readTime):Ne.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Y0(this.serializer),t.addTarget=(function(l,d){let f;const m=d.target;if(f=H0(m)?{documents:_L(l,m)}:{query:vL(l,m).ft},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=rR(l,d.resumeToken);const g=W0(l,d.expectedCount);g!==null&&(f.expectedCount=g)}else if(d.snapshotVersion.compareTo(Ne.min())>0){f.readTime=Pp(l,d.snapshotVersion.toTimestamp());const g=W0(l,d.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const r=xL(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Y0(this.serializer),t.removeTarget=e,this.K_(t)}}class u8 extends gR{constructor(e,t,r,a,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,d),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=yL(e.writeResults,e.commitTime),r=zs(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Y0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>gL(this.serializer,r)))};this.K_(t)}}class d8{}class h8 extends d8{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Wo(e,G0(t,r),a,l,d))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(te.UNKNOWN,l.toString())}))}jo(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,f])=>this.connection.jo(e,G0(t,r),a,d,f,l))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function f8(n,e,t,r){return new h8(n,e,t,r)}class p8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ei(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Co="RemoteStore";class m8{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Lo(this)&&(ge(Co,"Restarting streams for network reachability change."),await(async function(m){const g=Oe(m);g.Ea.add(4),await Od(g),g.Va.set("Unknown"),g.Ea.delete(4),await vm(g)})(this))}))})),this.Va=new p8(r,a)}}async function vm(n){if(Lo(n))for(const e of n.Ra)await e(!0)}async function Od(n){for(const e of n.Ra)await e(!1)}function yR(n,e){const t=Oe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_v(t)?yv(t):uc(t).O_()&&gv(t,e))}function mv(n,e){const t=Oe(n),r=uc(t);t.Ia.delete(e),r.O_()&&_R(t,e),t.Ia.size===0&&(r.O_()?r.L_():Lo(t)&&t.Va.set("Unknown"))}function gv(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uc(n).Z_(e)}function _R(n,e){n.da.$e(e),uc(n).X_(e)}function yv(n){n.da=new lL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),uc(n).start(),n.Va.ua()}function _v(n){return Lo(n)&&!uc(n).x_()&&n.Ia.size>0}function Lo(n){return Oe(n).Ea.size===0}function vR(n){n.da=void 0}async function g8(n){n.Va.set("Online")}async function y8(n){n.Ia.forEach(((e,t)=>{gv(n,e)}))}async function _8(n,e){vR(n),_v(n)?(n.Va.ha(e),yv(n)):n.Va.set("Unknown")}async function v8(n,e,t){if(n.Va.set("Online"),e instanceof nR&&e.state===2&&e.cause)try{await(async function(a,l){const d=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,d),a.Ia.delete(f),a.da.removeTarget(f))})(n,e)}catch(r){ge(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lp(n,r)}else if(e instanceof np?n.da.Xe(e):e instanceof tR?n.da.st(e):n.da.tt(e),!t.isEqual(Ne.min()))try{const r=await pR(n.localStore);t.compareTo(r)>=0&&await(function(l,d){const f=l.da.Tt(d);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(m.resumeToken,d))}})),f.targetMismatches.forEach(((m,g)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(bn.EMPTY_BYTE_STRING,_.snapshotVersion)),_R(l,m);const v=new da(_.target,m,g,_.sequenceNumber);gv(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){ge(Co,"Failed to raise snapshot:",r),await Lp(n,r)}}async function Lp(n,e,t){if(!cc(e))throw e;n.Ea.add(1),await Od(n),n.Va.set("Offline"),t||(t=()=>pR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ge(Co,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await vm(n)}))}function bR(n,e){return e().catch((t=>Lp(n,t,e)))}async function bm(n){const e=Oe(n),t=wa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:nv;for(;b8(e);)try{const a=await e8(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,x8(e,a)}catch(a){await Lp(e,a)}xR(e)&&wR(e)}function b8(n){return Lo(n)&&n.Ta.length<10}function x8(n,e){n.Ta.push(e);const t=wa(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function xR(n){return Lo(n)&&!wa(n).x_()&&n.Ta.length>0}function wR(n){wa(n).start()}async function w8(n){wa(n).ra()}async function E8(n){const e=wa(n);for(const t of n.Ta)e.ea(t.mutations)}async function S8(n,e,t){const r=n.Ta.shift(),a=lv.from(r,e,t);await bR(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await bm(n)}async function T8(n,e){e&&wa(n).Y_&&await(async function(r,a){if((function(d){return iL(d)&&d!==te.ABORTED})(a.code)){const l=r.Ta.shift();wa(r).B_(),await bR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await bm(r)}})(n,e),xR(n)&&wR(n)}async function _S(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ge(Co,"RemoteStore received new credentials");const r=Lo(t);t.Ea.add(3),await Od(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await vm(t)}async function A8(n,e){const t=Oe(n);e?(t.Ea.delete(2),await vm(t)):e||(t.Ea.add(2),await Od(t),t.Va.set("Unknown"))}function uc(n){return n.ma||(n.ma=(function(t,r,a){const l=Oe(t);return l.sa(),new c8(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:g8.bind(null,n),Yo:y8.bind(null,n),t_:_8.bind(null,n),J_:v8.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),_v(n)?yv(n):n.Va.set("Unknown")):(await n.ma.stop(),vR(n))}))),n.ma}function wa(n){return n.fa||(n.fa=(function(t,r,a){const l=Oe(t);return l.sa(),new u8(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:w8.bind(null,n),t_:T8.bind(null,n),ta:E8.bind(null,n),na:S8.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await bm(n)):(await n.fa.stop(),n.Ta.length>0&&(ge(Co,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class vv{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const d=Date.now()+r,f=new vv(e,t,d,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),cc(n))return new he(te.UNAVAILABLE,`${e}: ${n}`);throw n}class Gl{static emptySet(e){return new Gl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=Pu(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class vS{constructor(){this.ga=new Et(we.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ec{constructor(e,t,r,a,l,d,f,m,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const d=[];return t.forEach((f=>{d.push({type:0,doc:f})})),new ec(e,t,Gl.emptySet(t),d,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class R8{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class C8{constructor(){this.queries=bS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Oe(t),l=a.queries;a.queries=bS(),l.forEach(((d,f)=>{for(const m of f.ba)m.onError(r)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function bS(){return new Mo((n=>BA(n)),fm)}async function xv(n,e){const t=Oe(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new R8,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(d){const f=bv(d,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ev(t)}async function wv(n,e){const t=Oe(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const d=l.ba.indexOf(e);d>=0&&(l.ba.splice(d,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function I8(n,e){const t=Oe(n);let r=!1;for(const a of e){const l=a.query,d=t.queries.get(l);if(d){for(const f of d.ba)f.Fa(a)&&(r=!0);d.wa=a}}r&&Ev(t)}function j8(n,e,t){const r=Oe(n),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(t);r.queries.delete(e)}function Ev(n){n.Ca.forEach((e=>{e.next()}))}var J0,xS;(xS=J0||(J0={})).Ma="default",xS.Cache="cache";class Sv{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==J0.Cache}}class ER{constructor(e){this.key=e}}class SR{constructor(e){this.key=e}}class k8{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.eu=FA(e),this.tu=new Gl(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new vS,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,d=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,v)=>{const w=a.get(_),S=pm(this.query,v)?v:null,T=!!w&&this.mutatedKeys.has(w.key),I=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;w&&S?w.data.isEqual(S.data)?T!==I&&(r.track({type:3,doc:S}),D=!0):this.su(w,S)||(r.track({type:2,doc:S}),D=!0,(m&&this.eu(S,m)>0||g&&this.eu(S,g)<0)&&(f=!0)):!w&&S?(r.track({type:0,doc:S}),D=!0):w&&!S&&(r.track({type:1,doc:w}),D=!0,(m||g)&&(f=!0)),D&&(S?(d=d.add(S),l=I?l.add(_):l.delete(_)):(d=d.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{tu:d,iu:r,Ss:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((_,v)=>(function(S,T){const I=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:D})}};return I(S)-I(T)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,d.length!==0||g?{snapshot:new ec(this.query,e.tu,l,d,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new SR(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new ER(r))})),t}cu(e){this.Za=e.ks,this.Ya=Ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ec.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Tv="SyncEngine";class N8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class D8{constructor(e){this.key=e,this.hu=!1}}class O8{constructor(e,t,r,a,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Mo((f=>BA(f)),fm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Et(we.comparator),this.Au=new Map,this.Vu=new dv,this.du={},this.mu=new Map,this.fu=Zl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P8(n,e,t=!0){const r=jR(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await TR(r,e,t,!0),a}async function M8(n,e){const t=jR(n);await TR(t,e,!0,!1)}async function TR(n,e,t,r){const a=await t8(n.localStore,Vs(e)),l=a.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await L8(n,e,l,d==="current",a.resumeToken)),n.isPrimaryClient&&t&&yR(n.remoteStore,a),f}async function L8(n,e,t,r,a){n.pu=(v,w,S)=>(async function(I,D,F,z){let J=D.view.ru(F);J.Ss&&(J=await fS(I.localStore,D.query,!1).then((({documents:j})=>D.view.ru(j,J))));const ae=z&&z.targetChanges.get(D.targetId),ce=z&&z.targetMismatches.get(D.targetId)!=null,pe=D.view.applyChanges(J,I.isPrimaryClient,ae,ce);return ES(I,D.targetId,pe.au),pe.snapshot})(n,v,w,S);const l=await fS(n.localStore,e,!0),d=new k8(e,l.ks),f=d.ru(l.documents),m=Dd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),g=d.applyChanges(f,n.isPrimaryClient,m);ES(n,t,g.au);const _=new N8(e,t,d);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function V8(n,e,t){const r=Oe(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((d=>!fm(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Q0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&mv(r.remoteStore,a.targetId),Z0(r,a.targetId)})).catch(lc)):(Z0(r,a.targetId),await Q0(r.localStore,a.targetId,!0))}async function z8(n,e){const t=Oe(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),mv(t.remoteStore,r.targetId))}async function U8(n,e,t){const r=G8(n);try{const a=await(function(d,f){const m=Oe(d),g=dt.now(),_=f.reduce(((S,T)=>S.add(T.key)),Ke());let v,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let T=Si(),I=Ke();return m.xs.getEntries(S,_).next((D=>{T=D,T.forEach(((F,z)=>{z.isValidDocument()||(I=I.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,T))).next((D=>{v=D;const F=[];for(const z of f){const J=eL(z,v.get(z.key).overlayedDocument);J!=null&&F.push(new Ca(z.key,J,OA(J.value.mapValue),Zr.exists(!0)))}return m.mutationQueue.addMutationBatch(S,g,F,f)})).next((D=>{w=D;const F=D.applyToLocalDocumentSet(v,I);return m.documentOverlayCache.saveOverlays(S,D.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:HA(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(d,f,m){let g=d.du[d.currentUser.toKey()];g||(g=new Et(Ge)),g=g.insert(f,m),d.du[d.currentUser.toKey()]=g})(r,a.batchId,t),await Pd(r,a.changes),await bm(r.remoteStore)}catch(a){const l=bv(a,"Failed to persist write");t.reject(l)}}async function AR(n,e){const t=Oe(n);try{const r=await JL(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const d=t.Au.get(l);d&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.hu=!0:a.modifiedDocuments.size>0?nt(d.hu,14607):a.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await Pd(t,r,e)}catch(r){await lc(r)}}function wS(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,d)=>{const f=d.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(d,f){const m=Oe(d);m.onlineState=f;let g=!1;m.queries.forEach(((_,v)=>{for(const w of v.ba)w.va(f)&&(g=!0)})),g&&Ev(m)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B8(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let d=new Et(we.comparator);d=d.insert(l,Tn.newNoDocument(l,Ne.min()));const f=Ke().add(l),m=new ym(Ne.min(),new Map,new Et(Ge),d,f);await AR(r,m),r.Ru=r.Ru.remove(l),r.Au.delete(e),Av(r)}else await Q0(r.localStore,e,!1).then((()=>Z0(r,e,t))).catch(lc)}async function F8(n,e){const t=Oe(n),r=e.batch.batchId;try{const a=await XL(t.localStore,e);CR(t,r,null),RR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Pd(t,a)}catch(a){await lc(a)}}async function q8(n,e,t){const r=Oe(n);try{const a=await(function(d,f){const m=Oe(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return m.mutationQueue.lookupMutationBatch(g,f).next((v=>(nt(v!==null,37113),_=v.keys(),m.mutationQueue.removeMutationBatch(g,v)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>m.localDocuments.getDocuments(g,_)))}))})(r.localStore,e);CR(r,e,t),RR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Pd(r,a)}catch(a){await lc(a)}}function RR(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function CR(n,e,t){const r=Oe(n);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function Z0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||IR(n,r)}))}function IR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(mv(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Av(n))}function ES(n,e,t){for(const r of t)r instanceof ER?(n.Vu.addReference(r.key,e),H8(n,r)):r instanceof SR?(ge(Tv,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||IR(n,r.key)):Ie(19791,{wu:r})}function H8(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ge(Tv,"New document in limbo: "+t),n.Eu.add(r),Av(n))}function Av(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(pt.fromString(e)),r=n.fu.next();n.Au.set(r,new D8(t)),n.Ru=n.Ru.insert(t,r),yR(n.remoteStore,new da(Vs(hm(t.path)),r,"TargetPurposeLimboResolution",lm.ce))}}async function Pd(n,e,t){const r=Oe(n),a=[],l=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,m)=>{d.push(r.pu(m,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){a.push(g);const _=fv.Es(m.targetId,g);l.push(_)}})))})),await Promise.all(d),r.Pu.J_(a),await(async function(m,g){const _=Oe(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ie.forEach(g,(w=>ie.forEach(w.Ts,(S=>_.persistence.referenceDelegate.addReference(v,w.targetId,S))).next((()=>ie.forEach(w.Is,(S=>_.persistence.referenceDelegate.removeReference(v,w.targetId,S)))))))))}catch(v){if(!cc(v))throw v;ge(pv,"Failed to update sequence numbers: "+v)}for(const v of g){const w=v.targetId;if(!v.fromCache){const S=_.vs.get(w),T=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(T);_.vs=_.vs.insert(w,I)}}})(r.localStore,l))}async function $8(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ge(Tv,"User change. New user:",e.toKey());const r=await fR(t.localStore,e);t.currentUser=e,(function(l,d){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new he(te.CANCELLED,d))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pd(t,r.Ns)}}function W8(n,e){const t=Oe(n),r=t.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let a=Ke();const l=t.Iu.get(e);if(!l)return a;for(const d of l){const f=t.Tu.get(d);a=a.unionWith(f.view.nu)}return a}}function jR(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B8.bind(null,e),e.Pu.J_=I8.bind(null,e.eventManager),e.Pu.yu=j8.bind(null,e.eventManager),e}function G8(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q8.bind(null,e),e}class Vp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_m(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return QL(this.persistence,new GL,e.initialUser,this.serializer)}Cu(e){return new hR(hv.Vi,this.serializer)}Du(e){return new r8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vp.provider={build:()=>new Vp};class K8 extends Vp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nt(this.persistence.referenceDelegate instanceof Mp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NL(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new hR((r=>Mp.Vi(r,t)),this.serializer)}}class e_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$8.bind(null,this.syncEngine),await A8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C8})()}createDatastore(e){const t=_m(e.databaseInfo.databaseId),r=l8(e.databaseInfo);return f8(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,d,f){return new m8(r,a,l,d,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>wS(this.syncEngine,t,0)),(function(){return gS.v()?new gS:new s8})())}createSyncEngine(e,t){return(function(a,l,d,f,m,g,_){const v=new O8(a,l,d,f,m,g);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Oe(t);ge(Co,"RemoteStore shutting down."),r.Ea.add(5),await Od(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}e_.provider={build:()=>new e_};class Rv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ea="FirestoreClient";class Y8{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=Sn.UNAUTHENTICATED,this.clientId=tv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async d=>{ge(Ea,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ge(Ea,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=bv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function l0(n,e){n.asyncQueue.verifyOperationInProgress(),ge(Ea,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await fR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function SS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Q8(n);ge(Ea,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>_S(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>_S(e.remoteStore,a))),n._onlineComponents=e}async function Q8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(Ea,"Using user provided OfflineComponentProvider");try{await l0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await l0(n,new Vp)}}else ge(Ea,"Using default OfflineComponentProvider"),await l0(n,new K8(void 0));return n._offlineComponents}async function kR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(Ea,"Using user provided OnlineComponentProvider"),await SS(n,n._uninitializedComponentsProvider._online)):(ge(Ea,"Using default OnlineComponentProvider"),await SS(n,new e_))),n._onlineComponents}function X8(n){return kR(n).then((e=>e.syncEngine))}async function zp(n){const e=await kR(n),t=e.eventManager;return t.onListen=P8.bind(null,e.syncEngine),t.onUnlisten=V8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=M8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=z8.bind(null,e.syncEngine),t}function J8(n,e,t,r){const a=new Rv(r),l=new Sv(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>xv(await zp(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>wv(await zp(n),l)))}}function Z8(n,e,t={}){const r=new vi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,d,f,m,g){const _=new Rv({next:w=>{_.Nu(),d.enqueueAndForget((()=>wv(l,v)));const S=w.docs.has(f);!S&&w.fromCache?g.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&m&&m.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new Sv(hm(f.path),_,{includeMetadataChanges:!0,Ka:!0});return xv(l,v)})(await zp(n),n.asyncQueue,e,t,r))),r.promise}function eV(n,e,t={}){const r=new vi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,d,f,m,g){const _=new Rv({next:w=>{_.Nu(),d.enqueueAndForget((()=>wv(l,v))),w.fromCache&&m.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new Sv(f,_,{includeMetadataChanges:!0,Ka:!0});return xv(l,v)})(await zp(n),n.asyncQueue,e,t,r))),r.promise}function tV(n,e){const t=new vi;return n.asyncQueue.enqueueAndForget((async()=>U8(await X8(n),e,t))),t.promise}function NR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const nV="ComponentProvider",TS=new Map;function rV(n,e,t,r,a){return new bM(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,NR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const DR="firestore.googleapis.com",AS=!0;class RS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DR,this.ssl=AS}else this.host=e.host,this.ssl=e.ssl??AS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jL)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new JP;switch(r.type){case"firstParty":return new nM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=TS.get(t);r&&(ge(nV,"Removing Datastore"),TS.delete(t),r.terminate())})(this),Promise.resolve()}}function sV(n,e,t,r={}){n=hr(n,xm);const a=Ta(e),l=n._getSettings(),d={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(V_(`https://${f}`),z_("Firestore",!0)),l.host!==DR&&l.host!==f&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:r};if(!wo(m,d)&&(n._setSettings(m),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=Sn.MOCK_USER;else{g=A2(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Sn(v)}n._authCredentials=new ZP(new wA(g,_))}}class $s{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class Rt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(kd(t,Rt._jsonSchema))return new Rt(e,r||null,new we(pt.fromString(t.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Kt("string",Rt._jsonSchemaVersion),referencePath:Kt("string")};class ga extends $s{constructor(e,t,r){super(e,t,hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new we(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function Dn(n,e,...t){if(n=mt(n),EA("collection","path",e),n instanceof xm){const r=pt.fromString(e,...t);return BE(r),new ga(n,null,r)}{if(!(n instanceof Rt||n instanceof ga))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pt.fromString(e,...t));return BE(r),new ga(n.firestore,null,r)}}function Us(n,e,...t){if(n=mt(n),arguments.length===1&&(e=tv.newId()),EA("doc","path",e),n instanceof xm){const r=pt.fromString(e,...t);return UE(r),new Rt(n,null,new we(r))}{if(!(n instanceof Rt||n instanceof ga))throw new he(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pt.fromString(e,...t));return UE(r),new Rt(n.firestore,n instanceof ga?n.converter:null,new we(r))}}const CS="AsyncQueue";class IS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mR(this,"async_queue_retry"),this._c=()=>{const r=o0();r&&ge(CS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=o0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=o0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cc(e))throw e;ge(CS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ei("INTERNAL UNHANDLED ERROR: ",jS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=vv.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:jS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function jS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Sa extends xm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new IS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IS(e),this._firestoreClient=void 0,await e}}}function iV(n,e){const t=typeof n=="object"?n:F_(),r=typeof n=="string"?n:jp,a=rm(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=E2("firestore");l&&sV(a,...l)}return a}function wm(n){if(n._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aV(n),n._firestoreClient}function aV(n){const e=n._freezeSettings(),t=rV(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Y8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kr(bn.fromBase64String(e))}catch(t){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kd(e,kr._jsonSchema))return kr.fromBase64String(e.bytes)}}kr._jsonSchemaVersion="firestore/bytes/1.0",kr._jsonSchema={type:Kt("string",kr._jsonSchemaVersion),bytes:Kt("string")};class Cv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Em{constructor(e){this._methodName=e}}class Bs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(kd(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:Kt("string",Bs._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class es{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kd(e,es._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new es(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}es._jsonSchemaVersion="firestore/vectorValue/1.0",es._jsonSchema={type:Kt("string",es._jsonSchemaVersion),vectorValues:Kt("object")};const oV=/^__.*__$/;class lV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nd(e,this.data,t,this.fieldTransforms)}}class OR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:n})}}class Iv{constructor(e,t,r,a,l,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Iv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Up(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(PR(this.dataSource)&&oV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class cV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_m(e)}createContext(e,t,r,a=!1){return new Iv({dataSource:e,methodName:t,targetDoc:r,path:vn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(n){const e=n._freezeSettings(),t=_m(n._databaseId);return new cV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MR(n,e,t,r,a,l={}){const d=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);kv("Data must be an object, but it was:",d,r);const f=VR(r,d);let m,g;if(l.merge)m=new cr(d.fieldMask),g=d.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const w=Io(e,v,t);if(!d.contains(w))throw new he(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);BR(_,w)||_.push(w)}m=new cr(_),g=d.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,g=d.fieldTransforms;return new lV(new $n(f),m,g)}class Sm extends Em{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}class jv extends Em{_toFieldTransform(e){return new QM(e.path,new _d)}isEqual(e){return e instanceof jv}}function uV(n,e,t,r){const a=n.createContext(1,e,t);kv("Data must be an object, but it was:",a,r);const l=[],d=$n.empty();Ra(r,((m,g)=>{const _=UR(e,m,t);g=mt(g);const v=a.childContextForFieldPath(_);if(g instanceof Sm)l.push(_);else{const w=Ld(g,v);w!=null&&(l.push(_),d.set(_,w))}}));const f=new cr(l);return new OR(d,f,a.fieldTransforms)}function dV(n,e,t,r,a,l){const d=n.createContext(1,e,t),f=[Io(e,r,t)],m=[a];if(l.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(Io(e,l[w])),m.push(l[w+1]);const g=[],_=$n.empty();for(let w=f.length-1;w>=0;--w)if(!BR(g,f[w])){const S=f[w];let T=m[w];T=mt(T);const I=d.childContextForFieldPath(S);if(T instanceof Sm)g.push(S);else{const D=Ld(T,I);D!=null&&(g.push(S),_.set(S,D))}}const v=new cr(g);return new OR(_,v,d.fieldTransforms)}function LR(n,e,t,r=!1){return Ld(t,n.createContext(r?4:3,e))}function Ld(n,e){if(zR(n=mt(n)))return kv("Unsupported field value:",e,n),VR(n,e);if(n instanceof Em)return(function(r,a){if(!PR(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let d=0;for(const f of r){let m=Ld(f,a.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),d++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=dt.fromDate(r);return{timestampValue:Pp(a.serializer,l)}}if(r instanceof dt){const l=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pp(a.serializer,l)}}if(r instanceof Bs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kr)return{bytesValue:rR(a.serializer,r._byteString)};if(r instanceof Rt){const l=a.databaseId,d=r.firestore._databaseId;if(!d.isEqual(l))throw a.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:uv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof es)return(function(d,f){const m=d instanceof es?d.toArray():d;return{mapValue:{fields:{[NA]:{stringValue:DA},[kp]:{arrayValue:{values:m.map((_=>{if(typeof _!="number")throw f.createError("VectorValues must only contain numeric values.");return ov(f.serializer,_)}))}}}}}})(r,a);if(uR(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${om(r)}`)})(n,e)}function VR(n,e){const t={};return AA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(n,((r,a)=>{const l=Ld(a,e.childContextForField(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function zR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof Bs||n instanceof kr||n instanceof Rt||n instanceof Em||n instanceof es||uR(n))}function kv(n,e,t){if(!zR(t)||!SA(t)){const r=om(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Io(n,e,t){if((e=mt(e))instanceof Cv)return e._internalPath;if(typeof e=="string")return UR(n,e);throw Up("Field path arguments must be of type string or ",n,!1,void 0,t)}const hV=new RegExp("[~\\*/\\[\\]]");function UR(n,e,t){if(e.search(hV)>=0)throw Up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cv(...e.split("."))._internalPath}catch{throw Up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Up(n,e,t,r,a){const l=r&&!r.isEmpty(),d=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||d)&&(m+=" (found",l&&(m+=` in field ${r}`),d&&(m+=` in document ${a}`),m+=")"),new he(te.INVALID_ARGUMENT,f+n+m)}function BR(n,e){return n.some((t=>t.isEqual(e)))}class fV{convertValue(e,t="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ra(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[kp].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new es(t)}convertGeoPoint(e){return new Bs(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){const t=va(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pt.fromString(e);nt(cR(r),9688,{name:e});const a=new md(r.get(1),r.get(3)),l=new we(r.popFirst(5));return a.isEqual(t)||Ei(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class Nv extends fV{constructor(e){super(),this.firestore=e}convertBytes(e){return new kr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function Eu(){return new jv("serverTimestamp")}const kS="@firebase/firestore",NS="4.11.0";function DS(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Dv{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Io("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pV extends Dv{data(){return super.data()}}function FR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ov{}class Tm extends Ov{}function Xr(n,e,...t){let r=[];e instanceof Ov&&r.push(e),r=r.concat(t),(function(l){const d=l.filter((m=>m instanceof Pv)).length,f=l.filter((m=>m instanceof Am)).length;if(d>1||d>0&&f>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Am extends Tm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Am(e,t,r)}_apply(e){const t=this._parse(e);return qR(e._query,t),new $s(e.firestore,e.converter,$0(e._query,t))}_parse(e){const t=Md(e.firestore);return(function(l,d,f,m,g,_,v){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){PS(v,_);const T=[];for(const I of v)T.push(OS(m,l,I));w={arrayValue:{values:T}}}else w=OS(m,l,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||PS(v,_),w=LR(f,d,v,_==="in"||_==="not-in");return Gt.create(g,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xd(n,e,t){const r=e,a=Io("where",n);return Am._create(a,r,t)}class Pv extends Ov{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pv(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ts.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let d=a;const f=l.getFlattenedFilters();for(const m of f)qR(d,m),d=$0(d,m)})(e._query,t),new $s(e.firestore,e.converter,$0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mv extends Tm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Mv(e,t)}_apply(e){const t=(function(a,l,d){if(a.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yd(l,d)})(e._query,this._field,this._direction);return new $s(e.firestore,e.converter,VM(e._query,t))}}function Lu(n,e="asc"){const t=e,r=Io("orderBy",n);return Mv._create(r,t)}class Lv extends Tm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Lv(e,t,r)}_apply(e){return new $s(e.firestore,e.converter,Dp(e._query,this._limit,this._limitType))}}function mV(n){return cM("limit",n),Lv._create("limit",n,"F")}class Vv extends Tm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Vv(e,t,r)}_apply(e){const t=yV(e,this.type,this._docOrFields,this._inclusive);return new $s(e.firestore,e.converter,zM(e._query,t))}}function gV(...n){return Vv._create("startAfter",n,!1)}function yV(n,e,t,r){if(t[0]=mt(t[0]),t[0]instanceof Dv)return(function(l,d,f,m,g){if(!m)throw new he(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const _=[];for(const v of $l(l))if(v.field.isKeyField())_.push(Np(d,m.key));else{const w=m.data.field(v.field);if(um(w))throw new he(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const S=v.field.canonicalString();throw new he(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}_.push(w)}return new Jl(_,g)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Md(n.firestore);return(function(d,f,m,g,_,v){const w=d.explicitOrderBy;if(_.length>w.length)throw new he(te.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let T=0;T<_.length;T++){const I=_[T];if(w[T].field.isKeyField()){if(typeof I!="string")throw new he(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof I}`);if(!av(d)&&I.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${I}' contains a slash.`);const D=d.path.child(pt.fromString(I));if(!we.isDocumentKey(D))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const F=new we(D);S.push(Np(f,F))}else{const D=LR(m,g,I);S.push(D)}}return new Jl(S,v)})(n._query,n.firestore._databaseId,a,e,t,r)}}function OS(n,e,t){if(typeof(t=mt(t))=="string"){if(t==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!av(e)&&t.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pt.fromString(t));if(!we.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Np(n,new we(r))}if(t instanceof Rt)return Np(n,t._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${om(t)}.`)}function PS(n,e){if(!Array.isArray(n)||n.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qR(n,e){const t=(function(a,l){for(const d of a)for(const f of d.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function HR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _o extends Dv{constructor(e,t,r,a,l,d){super(e,t,r,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Io("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_o._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Kt("string",_o._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class rp extends _o{data(e={}){return super.data(e)}}class vo{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Vu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new rp(this._firestore,this._userDataWriter,r.key,r,new Vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map((f=>{const m=new rp(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Vu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new rp(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Vu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return f.type!==0&&(g=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),_=d.indexOf(f.doc.key)),{type:_V(f.type),doc:m,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _V(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Kt("string",vo._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};function Vd(n){n=hr(n,Rt);const e=hr(n.firestore,Sa),t=wm(e);return Z8(t,n._key).then((r=>$R(e,n,r)))}function ho(n){n=hr(n,$s);const e=hr(n.firestore,Sa),t=wm(e),r=new Nv(e);return FR(n._query),eV(t,n._query).then((a=>new vo(e,r,n,a)))}function zv(n,e,t){n=hr(n,Rt);const r=hr(n.firestore,Sa),a=HR(n.converter,e,t),l=Md(r);return Uv(r,[MR(l,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Zr.none())])}function MS(n,e,t,...r){n=hr(n,Rt);const a=hr(n.firestore,Sa),l=Md(a);let d;return d=typeof(e=mt(e))=="string"||e instanceof Cv?dV(l,"updateDoc",n._key,e,t,r):uV(l,"updateDoc",n._key,e),Uv(a,[d.toMutation(n._key,Zr.exists(!0))])}function rd(n,e){const t=hr(n.firestore,Sa),r=Us(n),a=HR(n.converter,e),l=Md(n.firestore);return Uv(t,[MR(l,"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Zr.exists(!1))]).then((()=>r))}function LS(n,...e){n=mt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||DS(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(DS(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let l,d,f;if(n instanceof Rt)d=hr(n.firestore,Sa),f=hm(n._key.path),l={next:g=>{e[r]&&e[r]($R(d,n,g))},error:e[r+1],complete:e[r+2]};else{const g=hr(n,$s);d=hr(g.firestore,Sa),f=g._query;const _=new Nv(d);l={next:v=>{e[r]&&e[r](new vo(d,_,g,v))},error:e[r+1],complete:e[r+2]},FR(n._query)}const m=wm(d);return J8(m,f,a,l)}function Uv(n,e){const t=wm(n);return tV(t,e)}function $R(n,e,t){const r=t.docs.get(e._key),a=new Nv(n);return new _o(n,a,e._key,r,new Vu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){XP(Oo),Eo(new ya("firestore",((r,{instanceIdentifier:a,options:l})=>{const d=r.getProvider("app").getImmediate(),f=new Sa(new eM(r.getProvider("auth-internal")),new rM(d,r.getProvider("app-check-internal")),xM(d,a),d);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ms(kS,NS,e),Ms(kS,NS,"esm2020")})();const WR="firebasestorage.googleapis.com",GR="storageBucket",vV=120*1e3,bV=600*1e3;class It extends Hs{constructor(e,t,r=0){super(c0(e),`Firebase Storage: ${t} (${c0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return c0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ct;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ct||(Ct={}));function c0(n){return"storage/"+n}function Bv(){const n="An unknown error occurred, please check the error payload for server response.";return new It(Ct.UNKNOWN,n)}function xV(n){return new It(Ct.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function wV(n){return new It(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(Ct.UNAUTHENTICATED,n)}function SV(){return new It(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function TV(n){return new It(Ct.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function AV(){return new It(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RV(){return new It(Ct.CANCELED,"User canceled the upload/download.")}function CV(n){return new It(Ct.INVALID_URL,"Invalid URL '"+n+"'.")}function IV(n){return new It(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function jV(){return new It(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GR+"' property when initializing the app?")}function kV(){return new It(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NV(){return new It(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DV(n){return new It(Ct.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function t_(n){return new It(Ct.INVALID_ARGUMENT,n)}function KR(){return new It(Ct.APP_DELETED,"The Firebase app was deleted.")}function OV(n){return new It(Ct.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sd(n,e){return new It(Ct.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Su(n){throw new It(Ct.INTERNAL_ERROR,"Internal error: "+n)}class ur{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ur.makeFromUrl(e,t)}catch{return new ur(e,"")}if(r.path==="")return r;throw IV(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const d="(/(.*))?$",f=new RegExp("^gs://"+a+d,"i"),m={bucket:1,path:3};function g(ae){ae.path_=decodeURIComponent(ae.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${v}/${_}/b/${a}/o${w}`,"i"),T={bucket:1,path:3},I=t===WR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",F=new RegExp(`^https?://${I}/${a}/${D}`,"i"),J=[{regex:f,indices:m,postModify:l},{regex:S,indices:T,postModify:g},{regex:F,indices:{bucket:1,path:2},postModify:g}];for(let ae=0;ae<J.length;ae++){const ce=J[ae],pe=ce.regex.exec(e);if(pe){const j=pe[ce.indices.bucket];let C=pe[ce.indices.path];C||(C=""),r=new ur(j,C),ce.postModify(r);break}}if(r==null)throw CV(e);return r}}class PV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function MV(n,e,t){let r=1,a=null,l=null,d=!1,f=0;function m(){return f===2}let g=!1;function _(...D){g||(g=!0,e.apply(null,D))}function v(D){a=setTimeout(()=>{a=null,n(S,m())},D)}function w(){l&&clearTimeout(l)}function S(D,...F){if(g){w();return}if(D){w(),_.call(null,D,...F);return}if(m()||d){w(),_.call(null,D,...F);return}r<64&&(r*=2);let J;f===1?(f=2,J=0):J=(r+Math.random())*1e3,v(J)}let T=!1;function I(D){T||(T=!0,w(),!g&&(a!==null?(D||(f=2),clearTimeout(a),v(0)):D||(f=1)))}return v(0),l=setTimeout(()=>{d=!0,I(!0)},t),I}function LV(n){n(!1)}function VV(n){return n!==void 0}function zV(n){return typeof n=="object"&&!Array.isArray(n)}function Fv(n){return typeof n=="string"||n instanceof String}function VS(n){return qv()&&n instanceof Blob}function qv(){return typeof Blob<"u"}function zS(n,e,t,r){if(r<e)throw t_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw t_(`Invalid value for '${n}'. Expected ${t} or less.`)}function Hv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function YR(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var bo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(bo||(bo={}));function UV(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class BV{constructor(e,t,r,a,l,d,f,m,g,_,v,w=!0,S=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,I)=>{this.resolve_=T,this.reject_=I,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Nf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const d=f=>{const m=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(d),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(d),this.pendingConnection_=null;const f=l.getErrorCode()===bo.NO_ERROR,m=l.getStatus();if(!f||UV(m,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===bo.ABORT;r(!1,new Nf(!1,null,_));return}const g=this.successCodes_.indexOf(m)!==-1;r(!0,new Nf(g,l))})},t=(r,a)=>{const l=this.resolve_,d=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());VV(m)?l(m):l()}catch(m){d(m)}else if(f!==null){const m=Bv();m.serverResponse=f.getErrorText(),this.errorCallback_?d(this.errorCallback_(f,m)):d(m)}else if(a.canceled){const m=this.appDelete_?KR():RV();d(m)}else{const m=AV();d(m)}};this.canceled_?t(!1,new Nf(!1,null,!0)):this.backoffId_=MV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function FV(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function qV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HV(n,e){e&&(n["X-Firebase-GMPID"]=e)}function $V(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function WV(n,e,t,r,a,l,d=!0,f=!1){const m=YR(n.urlParams),g=n.url+m,_=Object.assign({},n.headers);return HV(_,e),FV(_,t),qV(_,l),$V(_,r),new BV(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,d,f)}function GV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function KV(...n){const e=GV();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(qv())return new Blob(n);throw new It(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YV(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function QV(n){if(typeof atob>"u")throw DV("base-64");return atob(n)}const Ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class u0{constructor(e,t){this.data=e,this.contentType=t||null}}function XV(n,e){switch(n){case Ds.RAW:return new u0(QR(e));case Ds.BASE64:case Ds.BASE64URL:return new u0(XR(n,e));case Ds.DATA_URL:return new u0(ZV(e),e9(e))}throw Bv()}function QR(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,d=n.charCodeAt(++t);r=65536|(l&1023)<<10|d&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function JV(n){let e;try{e=decodeURIComponent(n)}catch{throw sd(Ds.DATA_URL,"Malformed data URL.")}return QR(e)}function XR(n,e){switch(n){case Ds.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw sd(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ds.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw sd(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=QV(e)}catch(a){throw a.message.includes("polyfill")?a:sd(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class JR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw sd(Ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=t9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ZV(n){const e=new JR(n);return e.base64?XR(Ds.BASE64,e.rest):JV(e.rest)}function e9(n){return new JR(n).contentType}function t9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class ua{constructor(e,t){let r=0,a="";VS(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(VS(this.data_)){const r=this.data_,a=YV(r,e,t);return a===null?null:new ua(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ua(r,!0)}}static getBlob(...e){if(qv()){const t=e.map(r=>r instanceof ua?r.data_:r);return new ua(KV.apply(null,t))}else{const t=e.map(d=>Fv(d)?XV(Ds.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const a=new Uint8Array(r);let l=0;return t.forEach(d=>{for(let f=0;f<d.length;f++)a[l++]=d[f]}),new ua(a,!0)}}uploadData(){return this.data_}}function ZR(n){let e;try{e=JSON.parse(n)}catch{return null}return zV(e)?e:null}function n9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function r9(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function eC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function s9(n,e){return e}class kn{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||s9}}let Df=null;function i9(n){return!Fv(n)||n.length<2?n:eC(n)}function tC(){if(Df)return Df;const n=[];n.push(new kn("bucket")),n.push(new kn("generation")),n.push(new kn("metageneration")),n.push(new kn("name","fullPath",!0));function e(l,d){return i9(d)}const t=new kn("name");t.xform=e,n.push(t);function r(l,d){return d!==void 0?Number(d):d}const a=new kn("size");return a.xform=r,n.push(a),n.push(new kn("timeCreated")),n.push(new kn("updated")),n.push(new kn("md5Hash",null,!0)),n.push(new kn("cacheControl",null,!0)),n.push(new kn("contentDisposition",null,!0)),n.push(new kn("contentEncoding",null,!0)),n.push(new kn("contentLanguage",null,!0)),n.push(new kn("contentType",null,!0)),n.push(new kn("metadata","customMetadata",!0)),Df=n,Df}function a9(n,e){function t(){const r=n.bucket,a=n.fullPath,l=new ur(r,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function o9(n,e,t){const r={};r.type="file";const a=t.length;for(let l=0;l<a;l++){const d=t[l];r[d.local]=d.xform(r,e[d.server])}return a9(r,n),r}function nC(n,e,t){const r=ZR(e);return r===null?null:o9(n,r,t)}function l9(n,e,t,r){const a=ZR(e);if(a===null||!Fv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const d=encodeURIComponent;return l.split(",").map(g=>{const _=n.bucket,v=n.fullPath,w="/b/"+d(_)+"/o/"+d(v),S=Hv(w,t,r),T=YR({alt:"media",token:g});return S+T})[0]}function c9(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class rC{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function sC(n){if(!n)throw Bv()}function u9(n,e){function t(r,a){const l=nC(n,a,e);return sC(l!==null),l}return t}function d9(n,e){function t(r,a){const l=nC(n,a,e);return sC(l!==null),l9(l,a,n.host,n._protocol)}return t}function iC(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=SV():a=EV():t.getStatus()===402?a=wV(n.bucket):t.getStatus()===403?a=TV(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function h9(n){const e=iC(n);function t(r,a){let l=e(r,a);return r.getStatus()===404&&(l=xV(n.path)),l.serverResponse=a.serverResponse,l}return t}function f9(n,e,t){const r=e.fullServerUrl(),a=Hv(r,n.host,n._protocol),l="GET",d=n.maxOperationRetryTime,f=new rC(a,l,d9(n,t),d);return f.errorHandler=h9(e),f}function p9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function m9(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=p9(null,e)),r}function g9(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function f(){let J="";for(let ae=0;ae<2;ae++)J=J+Math.random().toString().slice(2);return J}const m=f();d["Content-Type"]="multipart/related; boundary="+m;const g=m9(e,r,a),_=c9(g,t),v="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+m+"--",S=ua.getBlob(v,r,w);if(S===null)throw kV();const T={name:g.fullPath},I=Hv(l,n.host,n._protocol),D="POST",F=n.maxUploadRetryTime,z=new rC(I,D,u9(n,t),F);return z.urlParams=T,z.headers=d,z.body=S.uploadData(),z.errorHandler=iC(e),z}class y9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,l){if(this.sent_)throw Su("cannot .send() more than once");if(Ta(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const d in l)l.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,l[d].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Su("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Su("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Su("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Su("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _9 extends y9{initXhr(){this.xhr_.responseType="text"}}function aC(){return new _9}class jo{constructor(e,t){this._service=e,t instanceof ur?this._location=t:this._location=ur.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new jo(e,t)}get root(){const e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eC(this._location.path)}get storage(){return this._service}get parent(){const e=n9(this._location.path);if(e===null)return null;const t=new ur(this._location.bucket,e);return new jo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw OV(e)}}function v9(n,e,t){n._throwIfRoot("uploadBytes");const r=g9(n.storage,n._location,tC(),new ua(e,!0),t);return n.storage.makeRequestWithTokens(r,aC).then(a=>({metadata:a,ref:n}))}function b9(n){n._throwIfRoot("getDownloadURL");const e=f9(n.storage,n._location,tC());return n.storage.makeRequestWithTokens(e,aC).then(t=>{if(t===null)throw NV();return t})}function x9(n,e){const t=r9(n._location.path,e),r=new ur(n._location.bucket,t);return new jo(n.storage,r)}function w9(n){return/^[A-Za-z]+:\/\//.test(n)}function E9(n,e){return new jo(n,e)}function oC(n,e){if(n instanceof $v){const t=n;if(t._bucket==null)throw jV();const r=new jo(t,t._bucket);return e!=null?oC(r,e):r}else return e!==void 0?x9(n,e):n}function S9(n,e){if(e&&w9(e)){if(n instanceof $v)return E9(n,e);throw t_("To use ref(service, url), the first argument must be a Storage instance.")}else return oC(n,e)}function US(n,e){const t=e?.[GR];return t==null?null:ur.makeFromBucketSpec(t,n)}function T9(n,e,t,r={}){n.host=`${e}:${t}`;const a=Ta(e);a&&(V_(`https://${n.host}/b`),z_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:A2(l,n.app.options.projectId))}class $v{constructor(e,t,r,a,l,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=d,this._bucket=null,this._host=WR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vV,this._maxUploadRetryTime=bV,this._requests=new Set,a!=null?this._bucket=ur.makeFromBucketSpec(a,this._host):this._bucket=US(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,e):this._bucket=US(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jo(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new PV(KR());{const d=WV(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const BS="@firebase/storage",FS="0.14.0";const lC="storage";function A9(n,e,t){return n=mt(n),v9(n,e,t)}function R9(n){return n=mt(n),b9(n)}function C9(n,e){return n=mt(n),S9(n,e)}function I9(n=F_(),e){n=mt(n);const r=rm(n,lC).getImmediate({identifier:e}),a=E2("storage");return a&&j9(r,...a),r}function j9(n,e,t,r={}){T9(n,e,t,r)}function k9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new $v(t,r,a,e,Oo)}function N9(){Eo(new ya(lC,k9,"PUBLIC").setMultipleInstances(!0)),Ms(BS,FS,""),Ms(BS,FS,"esm2020")}N9();const zu={apiKey:"AIzaSyD9bP96oM_rRFZvXovpR7_e2bRsQSALliw",authDomain:"frenzo-baf50.firebaseapp.com",projectId:"frenzo-baf50",storageBucket:"frenzo-baf50.firebasestorage.app",messagingSenderId:"309608455773",appId:"1:309608455773:web:0e29273ec839b9a39f37b4",measurementId:"G-LS19PB5YV6"};console.log("Firebase Config Check:",{apiKeyExists:!!zu.apiKey,authDomainExists:!!zu.authDomain,projectIdExists:!!zu.projectId,storageBucketExists:!!zu.storageBucket});let Of,pi,_t,cC;try{Of=I2(zu),pi=GP(Of),_t=iV(Of),cC=I9(Of)}catch(n){console.error("Firebase initialization error",n)}const Tu="analytics_events",qS=()=>{let n=localStorage.getItem("frenzo_device_unique_id");return n||(n=crypto.randomUUID(),localStorage.setItem("frenzo_device_unique_id",n)),n},uC="visitor_stats",HS=async(n,e=null)=>{try{const t=dt.now(),a=Us(_t,uC,e||n),l=await Vd(a);let d=l.exists()?l.data():{visitCount:0,firstSeen:t,deviceIds:[]};d.visitCount=(d.visitCount||0)+1,d.lastSeen=t,d.userId=e||d.userId||null;const f=new Set(d.deviceIds||[]);n&&f.add(n),d.deviceIds=Array.from(f),await zv(a,d)}catch(t){console.warn("Stats update failed:",t)}},Os={logPageView:async(n,e=null)=>{try{const t=qS();await rd(Dn(_t,Tu),{type:"page_view",path:n,deviceId:t,userId:e,timestamp:dt.now(),userAgent:navigator.userAgent}),HS(t,e)}catch(t){console.warn("Analytics Error:",t)}},logLogin:async(n,e)=>{try{const t=qS();await rd(Dn(_t,Tu),{type:"login",method:n,deviceId:t,userId:e,timestamp:dt.now()}),HS(t,e)}catch(t){console.warn("Analytics Error:",t)}},getAggregatedStats:async()=>{try{const n=Xr(Dn(_t,Tu)),e=await ho(n),t=new Set,r={},a={email:0,phone:0,google:0};let l=0;e.forEach(f=>{const m=f.data();if(m.deviceId&&t.add(m.deviceId),m.type==="page_view"){l++;const g=m.path||"/unknown";r[g]=(r[g]||0)+1}m.type==="login"&&m.method&&(a[m.method]=(a[m.method]||0)+1)});const d=Object.entries(r).map(([f,m])=>({id:f,count:m})).sort((f,m)=>m.count-f.count);return{totalVisitors:t.size,totalPageViews:l,pageViews:d,authStats:a}}catch(n){return console.error("Error fetching admin stats:",n),{totalVisitors:0,pageViews:[],authStats:{}}}},getAllVisitors:async(n=null,e=10)=>{try{let t=Xr(Dn(_t,uC),Lu("lastSeen","desc"),mV(e));n&&(t=Xr(t,gV(n)));const r=await ho(t),a=[];return r.forEach(l=>{const d=l.data();a.push({...d,deviceId:d.deviceIds?.[0]||l.id,allDeviceIds:d.deviceIds||[l.id]})}),{visitors:a,lastDoc:r.docs[r.docs.length-1]||null,hasMore:r.docs.length===e}}catch(t){throw console.error("Error fetching visitors:",t),t}},getVisitorHistory:async(n,e=null)=>{try{const t=Array.isArray(n)?n:[n];if(t.length===0)return[];const r=t.slice(0,10),a=Xr(Dn(_t,Tu),xd("deviceId","in",r)),l=await ho(a),d=[];return l.forEach(f=>{const m=f.data();if(e){if(m.userId&&m.userId!==e)return}else if(m.userId)return;d.push({id:f.id,...m})}),d.sort((f,m)=>m.timestamp-f.timestamp)}catch(t){return console.error("Error fetching history:",t),[]}},getUserHistory:async n=>{try{if(!n)return[];const e=Xr(Dn(_t,Tu),xd("userId","==",n)),t=await ho(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r.sort((a,l)=>l.timestamp-a.timestamp)}catch(e){return console.error("Error fetching user history:",e),[]}},enrichWithUserData:async n=>{const e=n.map(a=>a.userId).filter(Boolean),t=[...new Set(e)];if(t.length===0)return n;const r={};return await Promise.all(t.map(async a=>{try{const l=Us(_t,"users",a),d=await Vd(l);d.exists()&&(r[a]=d.data())}catch(l){console.error(l)}})),n.map(a=>({...a,userData:a.userId?r[a.userId]:null}))}},Pf=async n=>{if(n)try{const e=Us(_t,"users",n.uid);await zv(e,{uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,lastLogin:new Date},{merge:!0})}catch(e){console.error("Error syncing user to Firestore:",e)}},Cl={register:async(n,e,t)=>{try{const r=await b6(pi,n,e);return t&&await sA(r.user,{displayName:t}),Os.logLogin("email",r.user.uid),await Pf(r.user),r.user}catch(r){throw Au(r)}},login:async(n,e)=>{try{const t=await x6(pi,n,e);return Os.logLogin("email",t.user.uid),await Pf(t.user),t.user}catch(t){throw Au(t)}},loginWithGoogle:async()=>{try{const n=new fi,e=await nP(pi,n);return Os.logLogin("google",e.user.uid),await Pf(e.user),e.user}catch(n){throw Au(n)}},loginWithPhone:async(n,e)=>{try{return await Q6(pi,n,e)}catch(t){throw Au(t)}},verifyPhoneCode:async(n,e)=>{try{const t=await n.confirm(e);return Os.logLogin("phone",t.user.uid),await Pf(t.user),t.user}catch(t){throw Au(t)}},logout:async()=>{try{await A6(pi)}catch(n){throw console.error("Logout failed",n),n}}},Au=n=>{let e="An unexpected error occurred";switch(n.code){case"auth/email-already-in-use":e="This email is already in use.";break;case"auth/invalid-email":e="Please enter a valid email address.";break;case"auth/user-not-found":case"auth/wrong-password":e="Invalid email or password.";break;case"auth/weak-password":e="Password should be at least 6 characters.";break;default:e=n.message}return new Error(e)},dC=N.createContext(),is=()=>N.useContext(dC),D9=({children:n})=>{const[e,t]=N.useState(null),[r,a]=N.useState(!0);N.useEffect(()=>pi?T6(pi,S=>{t(S),a(!1)}):(console.warn("Firebase Auth not initialized. Check your .env setup."),a(!1),()=>{}),[]);const v={currentUser:e,signup:(w,S,T)=>Cl.register(w,S,T),login:(w,S)=>Cl.login(w,S),loginWithGoogle:()=>Cl.loginWithGoogle(),loginWithPhone:(w,S)=>Cl.loginWithPhone(w,S),verifyPhoneCode:(w,S)=>Cl.verifyPhoneCode(w,S),logout:()=>Cl.logout(),loading:r};return u.jsx(dC.Provider,{value:v,children:!r&&n})},O9=()=>{const{currentUser:n,logout:e}=is(),[t,r]=N.useState(!1),a=N.useRef(null),l=pr(),d=()=>r(!t);N.useEffect(()=>{const m=g=>{a.current&&!a.current.contains(g.target)&&r(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const f=async()=>{try{await e(),l("/login")}catch{console.error("Failed to log out")}};return n?u.jsxs("div",{className:"user-menu-container",ref:a,children:[u.jsxs("button",{className:"user-menu-btn",onClick:d,children:[u.jsx("div",{className:"avatar",children:n.photoURL?u.jsx("img",{src:n.photoURL,alt:"User"}):u.jsx(C4,{size:20})}),u.jsx(l2,{size:16,className:`chevron ${t?"open":""}`})]}),t&&u.jsxs("div",{className:"user-dropdown",children:[u.jsxs("div",{className:"user-info",children:[u.jsx("p",{className:"user-name",children:n.displayName||"User"}),u.jsx("p",{className:"user-email",children:n.email})]}),u.jsx("div",{className:"dropdown-divider"}),u.jsxs(ut,{to:"/dashboard",className:"dropdown-item",onClick:()=>r(!1),children:[u.jsx(kO,{size:16}),"Dashboard"]}),u.jsxs("button",{onClick:f,className:"dropdown-item logout-item",children:[u.jsx(FO,{size:16}),"Logout"]})]})]}):u.jsx(ut,{to:"/login",className:"btn-primary",children:"Login"})},Wn={type:{starter:2499,standard:3499,saas:39999,platform:45999,mobile:59999,ecosystem:79999},intelligence:{none:0,chatbot:5e3,agent:15e3},design:{template:0,custom:5e3,motion:1e4},pageRate:1e3,features:{cms:3e3,auth:3e3,payments:4e3,analytics:2e3,seo:2500,copywriting:1500,logo:2e3},DISCOUNT_MULTIPLIER:2.19},Yr={projectType:{starter:"Quick, professional one-page portfolio. Hosted on GitHub Pages. No backend.",standard:"Interactive, scalable site using modern tech (React/Vue/etc). Best for businesses needing a future-proof presence.",saas:"Complex logic, dashboards, and tools. Includes state management.",platform:"Marketplaces, social networks, or multi-vendor stores. Heavy on user interactions.",mobile:"Native iOS and Android apps (React Native). Published to App Stores.",ecosystem:"Full suite: Web App + Mobile App + Admin Dashboard + Landing Page."},design:{template:"Clean, professional UI using standard components.",custom:"Unique branding, custom layouts, and tailored visual identity.",motion:"High-end animations, scroll effects, and immersive interactions."},intelligence:{chatbot:"Automated Q&A bot trained on your data.",agent:"Autonomous agent that can perform tasks (booking, emailing, searching)."}},Bp={BOOK_STRATEGY:"I am interested in Booking a Free Scale Strategy Session.",LAUNCH_OFFER:"I want to claim the Launch Offer."},P9=[{id:"auth",label:"User Auth + DB",tip:"Secure login, signups, and user profiles."},{id:"cms",label:"CMS (Easy Edits)",tip:"Admin panel to edit text/images without coding."},{id:"payments",label:"Payment Integration",tip:"Stripe/Razorpay setup for accepting money."},{id:"analytics",label:"Advanced Analytics",tip:"Deep insights into user behavior and conversion."},{id:"seo",label:"SEO Optimization",tip:"Meta tags, sitemap, and performance tuning for Google."},{id:"copywriting",label:"Pro Copywriting",tip:"Professional sales copy to convert visitors."},{id:"logo",label:"Logo Design",tip:"Custom vector logo for your brand."}],M9=["none","chatbot","agent"],L9=["template","custom","motion"],fo={email:"contact@frenzo.services",phone:"+91 8904045305",phoneDisplay:"+91 89040 45305"},V9=["contact@frenzo.services"],z9=()=>{const[n,e]=N.useState(!1),t=()=>e(!n),r=()=>e(!1);return u.jsxs("nav",{className:"navbar",children:[u.jsx(ut,{to:"/",className:"logo",onClick:r,children:"Frenzo"}),u.jsxs("div",{className:`nav-links ${n?"active":""}`,children:[u.jsx(ut,{to:"/",className:"nav-link",onClick:r,children:"Home"}),u.jsx(ut,{to:"/about",className:"nav-link",onClick:r,children:"About"}),u.jsx(ut,{to:"/services",className:"nav-link",onClick:r,children:"Services"}),u.jsx(ut,{to:"/projects",className:"nav-link",onClick:r,children:"Work"}),u.jsx(ut,{to:"/pricing",className:"nav-link",onClick:r,children:"Pricing"}),u.jsx(ut,{to:"/approach",className:"nav-link",onClick:r,children:"Approach"}),u.jsx(ut,{to:"/contact",state:{details:Bp.BOOK_STRATEGY},className:"btn-primary mobile-only",onClick:r,style:{fontSize:"1.2rem",padding:"1rem 2rem",marginTop:"1rem"},children:"Book Strategy"})]}),u.jsxs("div",{className:"nav-right",children:[u.jsx(ut,{to:"/contact",state:{details:Bp.BOOK_STRATEGY},className:"btn-primary desktop-only",style:{marginRight:"0.5rem",fontSize:"0.8rem",padding:"0.5rem 1rem"},children:"Book Strategy"}),u.jsx(O9,{}),u.jsx("button",{className:"mobile-menu-btn",onClick:t,"aria-label":"Toggle menu",children:n?u.jsx(tm,{size:24}):u.jsx(f2,{size:24})})]})]})},U9=()=>u.jsxs("footer",{style:{background:"#111",borderTop:"1px solid #222",padding:"4rem 0",marginTop:"auto"},children:[u.jsxs("div",{className:"container",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"3rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:"900",fontSize:"1.5rem",marginBottom:"1rem",letterSpacing:"-1px"},children:"FRENZO."}),u.jsx("p",{style:{color:"#888",maxWidth:"250px"},children:"The technical co-founder for creators and businesses claiming their independence."})]}),u.jsxs("div",{children:[u.jsx("h4",{style:{color:"#fff",marginBottom:"1.5rem",fontWeight:"bold"},children:"Company"}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[u.jsx(ut,{to:"/about",style:{color:"#888",textDecoration:"none"},children:"About Us"}),u.jsx(ut,{to:"/services",style:{color:"#888",textDecoration:"none"},children:"Services"}),u.jsx(ut,{to:"/pricing",style:{color:"#888",textDecoration:"none"},children:"Pricing"}),u.jsx(ut,{to:"/vision",style:{color:"#888",textDecoration:"none"},children:"Vision"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{style:{color:"#fff",marginBottom:"1.5rem",fontWeight:"bold"},children:"Legal"}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[u.jsx(ut,{to:"/privacy",style:{color:"#888",textDecoration:"none"},children:"Privacy Policy"}),u.jsx(ut,{to:"/terms",style:{color:"#888",textDecoration:"none"},children:"Terms of Service"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{style:{color:"#fff",marginBottom:"1.5rem",fontWeight:"bold"},children:"Connect"}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("a",{href:"#",style:{color:"#888"},children:u.jsx(_2,{size:20})}),u.jsx("a",{href:"#",style:{color:"#888"},children:u.jsx(DO,{size:20})}),u.jsx("a",{href:"#",style:{color:"#888"},children:u.jsx(C0,{size:20})}),u.jsx("a",{href:"#",style:{color:"#888"},children:u.jsx(C0,{size:20})}),u.jsx("a",{href:`mailto:${fo.email}`,style:{color:"#888"},children:u.jsx(h2,{size:20})})]}),u.jsxs("div",{style:{marginTop:"1rem",color:"#666",fontSize:"0.9rem"},children:[u.jsx("div",{children:fo.phoneDisplay}),u.jsx("div",{children:fo.email})]})]})]}),u.jsxs("div",{className:"container",style:{marginTop:"4rem",paddingTop:"2rem",borderTop:"1px solid #222",textAlign:"center",color:"#444",fontSize:"0.9rem"},children:[" ",new Date().getFullYear()," Frenzo Services. All rights reserved."]})]}),Wv=n=>n?Math.round(n*Wn.DISCOUNT_MULTIPLIER).toLocaleString():"0",B9=()=>{const[n,e]=N.useState(!0);return N.useEffect(()=>{localStorage.getItem("frenzo_offer_dismissed")&&e(!1)},[]),n?u.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",zIndex:100,background:"rgba(5, 5, 5, 0.9)",border:"1px solid var(--accent-primary)",padding:"10px 20px",borderRadius:"50px",backdropFilter:"blur(12px)",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",width:"max-content",maxWidth:"90vw"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[u.jsx("span",{style:{fontSize:"1rem"},children:""}),u.jsxs("span",{style:{fontSize:"0.9rem",color:"#eee"},children:["Launch Offer: Portfolio Site for ",u.jsxs("span",{style:{textDecoration:"line-through",color:"#888",marginRight:"6px"},children:["",Wv(Wn.type.starter)]}),u.jsxs("strong",{style:{color:"#fff"},children:["",Wn.type.starter.toLocaleString()]})]})]}),u.jsx("div",{style:{width:"1px",height:"20px",background:"#333"}}),u.jsx(ut,{to:"/pricing",style:{fontSize:"0.85rem",fontWeight:"bold",color:"var(--accent-primary)",textDecoration:"none",whiteSpace:"nowrap"},children:"Claim Deal "}),u.jsx("button",{onClick:()=>{e(!1),localStorage.setItem("frenzo_offer_dismissed","true")},style:{background:"transparent",border:"none",color:"#666",cursor:"pointer",padding:"4px",marginLeft:"8px",display:"flex"},children:u.jsx(tm,{size:16})})]}):null},F9=({children:n})=>u.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[u.jsx(z9,{}),u.jsx("main",{style:{flex:1},children:n}),u.jsx(U9,{}),u.jsx(B9,{})]}),Yt=({children:n,id:e,className:t="",dark:r=!1,style:a={}})=>u.jsx("section",{id:e,className:t,style:{padding:"6rem 0",background:r?"var(--bg-tertiary)":"transparent",position:"relative",...a},children:u.jsx("div",{className:"container",style:{position:"relative",zIndex:1},children:n})}),dr=({children:n,to:e,variant:t="primary",className:r="",style:a={},...l})=>{const d={padding:"0.8rem 2rem",borderRadius:"2rem",fontWeight:"600",fontSize:"1rem",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none"},f={primary:{background:"var(--text-primary)",color:"#000000",border:"1px solid var(--text-primary)"},outline:{background:"transparent",border:"1px solid rgba(255,255,255,0.2)",color:"var(--text-primary)"},accent:{background:"var(--accent-primary)",color:"white",border:"1px solid var(--accent-primary)"},ghost:{background:"transparent",border:"none",color:"var(--text-secondary)",padding:"0.5rem 1rem"}},m={...d,...f[t],...a},g=v=>{t==="primary"?(v.currentTarget.style.transform="translateY(-2px)",v.currentTarget.style.boxShadow="0 4px 12px rgba(255, 255, 255, 0.15)"):t==="outline"&&(v.currentTarget.style.borderColor="var(--text-primary)",v.currentTarget.style.background="rgba(255,255,255,0.05)")},_=v=>{v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow="none",v.currentTarget.style.background=f[t].background,t==="outline"&&(v.currentTarget.style.borderColor="rgba(255,255,255,0.2)")};return e?u.jsx(ut,{to:e,style:m,className:r,onMouseEnter:g,onMouseLeave:_,...l,children:n}):u.jsx("button",{style:m,className:r,onMouseEnter:g,onMouseLeave:_,...l,children:n})},id=({children:n,className:e="",noHover:t=!1})=>u.jsx("div",{className:`card ${e}`,style:{background:"var(--bg-secondary)",padding:"2rem",borderRadius:"1rem",border:"1px solid var(--border-light)",transition:"transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease",height:"100%",display:"flex",flexDirection:"column"},onMouseEnter:r=>{t||(r.currentTarget.style.borderColor="var(--border-hover)",r.currentTarget.style.transform="translateY(-5px)",r.currentTarget.style.boxShadow="0 10px 30px rgba(0,0,0,0.2)")},onMouseLeave:r=>{t||(r.currentTarget.style.borderColor="var(--border-light)",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="none")},children:n}),q9=()=>{const[n,e]=N.useState("USD");return N.useEffect(()=>{(async()=>{try{(await(await fetch("https://ipapi.co/json/")).json()).country_code==="IN"?e("INR"):e("USD")}catch(r){console.error("Failed to detect location, defaulting to USD",r),e("USD")}})()},[]),u.jsxs(u.Fragment,{children:[u.jsxs("section",{style:{minHeight:"100vh",display:"flex",alignItems:"center",background:"#050505",position:"relative",overflow:"hidden",paddingTop:"var(--header-height)"},children:[u.jsxs("div",{style:{position:"absolute",inset:0,zIndex:0},children:[u.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",opacity:.25},poster:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop",children:u.jsx("source",{src:"https://assets.mixkit.co/videos/preview/mixkit-digital-network-connection-lines-1-large.mp4",type:"video/mp4"})}),u.jsx("div",{style:{position:"absolute",inset:0,background:"radial-gradient(circle at center, rgba(5,5,5,0.3) 0%, #050505 100%)",backdropFilter:"blur(2px)"}})]}),u.jsxs("div",{className:"container",style:{position:"relative",zIndex:1,textAlign:"center"},children:[u.jsxs("h1",{style:{fontSize:"clamp(2.5rem, 6vw, 4.5rem)",fontWeight:"800",marginBottom:"1.5rem",lineHeight:1.1,letterSpacing:"-0.02em"},children:["Build Beyond Platforms. ",u.jsx("br",{}),u.jsx("span",{style:{background:"linear-gradient(to right, #fff, #94a3b8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Own Your Growth."})]}),u.jsx("p",{style:{fontSize:"1.25rem",color:"var(--text-secondary)",maxWidth:"650px",margin:"0 auto 2.5rem",lineHeight:1.6},children:"Frenzo empowers creators and businesses to build independent digital systems, control their revenue, and scale without limits."}),u.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[u.jsxs(dr,{to:"/contact",state:{details:Bp.BOOK_STRATEGY},variant:"primary",children:["Book Your Free Scale Strategy ",u.jsx(Fs,{size:18,style:{marginLeft:"0.5rem"}})]}),u.jsx(dr,{to:"/audit",variant:"outline",children:"Design My Growth System"})]})]})]}),u.jsxs(Yt,{dark:!0,children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[u.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",background:"rgba(37, 99, 235, 0.1)",color:"var(--accent-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontSize:"0.9rem",fontWeight:"600",marginBottom:"1.5rem"},children:[u.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--accent-primary)"}}),"Trusted by 100+ Influencers/Businesses"]}),u.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"We Build Technical Leverage."}),u.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.1rem",maxWidth:"600px",margin:"0 auto"},children:"Watch why the world's most successful creators are leaving platforms to build their own systems."})]}),u.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",aspectRatio:"16/9",background:"#000",borderRadius:"1rem",overflow:"hidden",position:"relative",boxShadow:"0 20px 50px rgba(0,0,0,0.3)",border:"1px solid var(--border-light)"},children:[u.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",opacity:.8},poster:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?auto=format&fit=crop&w=1950&q=80",children:u.jsx("source",{src:"https://assets.mixkit.co/videos/preview/mixkit-people-working-together-in-office-4034-large.mp4",type:"video/mp4"})}),u.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:10,background:"linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.6))"},children:u.jsx("div",{style:{width:"80px",height:"80px",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",border:"1px solid rgba(255,255,255,0.2)",transition:"transform 0.2s",boxShadow:"0 0 30px rgba(255,255,255,0.1)"},className:"hover-scale",children:u.jsx("div",{style:{marginLeft:"4px",width:0,height:0,borderTop:"12px solid transparent",borderBottom:"12px solid transparent",borderLeft:"20px solid #fff"}})})}),u.jsxs("div",{style:{position:"absolute",bottom:"2rem",left:"2rem",right:"2rem",color:"#fff",zIndex:10},children:[u.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.5rem",fontWeight:"bold"},children:'"Frenzo changed how we scale."'}),u.jsxs("p",{style:{opacity:.9,display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("span",{style:{color:"#fbbf24"},children:""}),u.jsx("span",{children:"High-Performance Infrastructure Partners"})]})]})]}),u.jsx("div",{style:{maxWidth:"900px",margin:"4rem auto 0",display:"flex",justifyContent:"center",gap:"3rem",flexWrap:"wrap",opacity:.5,filter:"grayscale(100%)"},children:["COMPANIES","BUILD","ON","FRENZO","TODAY"].map((t,r)=>u.jsx("span",{style:{fontSize:"1.2rem",fontWeight:"800",letterSpacing:"2px"},children:t},r))})]}),u.jsxs(Yt,{children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem"},children:[u.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"The Freedom to Scale"}),u.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.1rem"},children:"Stop renting your audience. Start owning your business."})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[u.jsxs(id,{children:[u.jsx(ud,{size:40,color:"var(--accent-primary)",style:{marginBottom:"1.5rem"}}),u.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Platform Independence"}),u.jsx("p",{style:{color:"var(--text-secondary)"},children:"Reduce dependency on algorithms and third-party rules. Build systems you control."})]}),u.jsxs(id,{children:[u.jsx(u2,{size:40,color:"var(--accent-primary)",style:{marginBottom:"1.5rem"}}),u.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Direct Monetization"}),u.jsx("p",{style:{color:"var(--text-secondary)"},children:"Keep more of what you earn. Custom payment flows and zero platform fees."})]}),u.jsxs(id,{children:[u.jsx(R0,{size:40,color:"var(--accent-primary)",style:{marginBottom:"1.5rem"}}),u.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Intelligent Automation"}),u.jsx("p",{style:{color:"var(--text-secondary)"},children:"Leverage AI to automate operations, content workflows, and growth."})]})]})]}),u.jsx(Yt,{dark:!0,children:u.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[u.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"3rem"},children:"Growth Infrastructure"}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"2rem",width:"100%"},children:[{icon:u.jsx(D_,{size:24}),title:"Monetization Platforms",desc:"Custom storefronts and membership systems."},{icon:u.jsx(ud,{size:24}),title:"Custom Web Apps",desc:"Scalable tailored applications for your business."},{icon:u.jsx(R0,{size:24}),title:"AI Automation",desc:"Workflows that save time and optimize revenue."}].map((t,r)=>u.jsxs("div",{style:{padding:"2rem",border:"1px solid var(--border-light)",borderRadius:"1rem",textAlign:"left",background:"var(--bg-secondary)"},children:[u.jsx("div",{style:{color:"var(--accent-primary)",marginBottom:"1rem"},children:t.icon}),u.jsx("h4",{style:{fontSize:"1.25rem",marginBottom:"0.5rem"},children:t.title}),u.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:t.desc})]},r))}),u.jsx("div",{style:{marginTop:"3rem"},children:u.jsx(dr,{to:"/services",variant:"outline",children:"View All Solutions"})})]})}),u.jsx(Yt,{children:u.jsxs("div",{style:{background:"linear-gradient(135deg, #111 0%, #000 100%)",borderRadius:"2rem",padding:"4rem 2rem",textAlign:"center",border:"1px solid var(--border-light)",position:"relative",overflow:"hidden"},children:[u.jsx("div",{style:{position:"absolute",top:"-50%",left:"50%",transform:"translateX(-50%)",width:"600px",height:"600px",background:"var(--accent-primary)",filter:"blur(200px)",opacity:.1,zIndex:0}}),u.jsxs("div",{style:{position:"relative",zIndex:1},children:[u.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"1.5rem"},children:"Ready to Scale?"}),u.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"2.5rem",maxWidth:"500px",margin:"0 auto 2.5rem"},children:"Join the next generation of independent digital businesses."}),u.jsx(dr,{to:"/contact",variant:"primary",children:"Book a Strategy Call"})]})]})})]})},H9=()=>u.jsx("div",{style:{paddingTop:"var(--header-height)"},children:u.jsx(Yt,{children:u.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[u.jsx("h1",{style:{fontSize:"3rem",marginBottom:"2rem"},children:"About Frenzo"}),u.jsx("p",{style:{fontSize:"1.25rem",color:"var(--text-secondary)",marginBottom:"2rem"},children:"Frenzo is a global digital growth systems company focused on helping creators and businesses build independent, scalable, and revenue-driven digital infrastructure."}),u.jsx("p",{style:{fontSize:"1rem",color:"var(--text-secondary)",lineHeight:1.8,marginBottom:"2rem"},children:"We believe that true growth comes from ownership. In a world where platforms control visibility and monetization, we build the systems that give control back to you."})]})})}),hC=[{id:"creator-website",title:"Creator Website",tagline:"Your Content. Your Audience. Your Empire.",description:"A personal content hub that converts audience attention into owned revenue streams. Stop renting your home on social media platform.",icon:u.jsx(ud,{size:40}),color:"#3b82f6",features:["Custom Bio & Portfolio","Newsletter Integration","Merch Storefront","Affiliate Links Dashboard","Booking System"],demoType:"creator",bestFor:"YouTubers, Podcasters, Influencers"},{id:"course-platform",title:"Course Platform",tagline:"Sell Knowledge, Not Just Time.",description:"A complete LMS (Learning Management System) to host and sell your courses directly. Keep 100% of your revenue.",icon:u.jsx(_p,{size:40}),color:"#8b5cf6",features:["Video Hosting & Streaming","Student Progress Tracking","Quizzes & Assignments","Drip Content","Completion Certificates"],demoType:"course",bestFor:"Educators, Coaches, Experts"},{id:"ecommerce-store",title:"E-commerce Brand Store",tagline:"Direct-to-Consumer Powerhouse.",description:"A beautiful, high-conversion online store tailored to your brand story. No generic templates, just sales performance.",icon:u.jsx(M_,{size:40}),color:"#ec4899",features:["Custom Product Pages","One-Click Checkout","Inventory Management","Abandoned Cart Recovery","Global Payment Gateways"],demoType:"commerce",bestFor:"D2C Brands, Merch Sellers"},{id:"membership-platform",title:"Membership Community",tagline:"Recurring Revenue & Loyal Tribes.",description:"Gate your premium content and build a thriving private community. Transform casual followers into paying members.",icon:u.jsx(yo,{size:40}),color:"#10b981",features:["Tiered Access Levels","Private Forums/Chat","Exclusive Content Feed","Member Directory","Recurring Billing"],demoType:"community",bestFor:"Community Leaders, Niche Groups"},{id:"newsletter-platform",title:"Newsletter Engine",tagline:"Own the Inbox.",description:"A publishing platform for writers who want independence. Distribute free and paid newsletters without algorithms.",icon:u.jsx(P_,{size:40}),color:"#f59e0b",features:["Email Editor","Subscriber Management","Paid Subscriptions","Open Rate Analytics","Landing Page Builder"],demoType:"newsletter",bestFor:"Writers, Journalists"},{id:"coaching-platform",title:"Coaching Business Suite",tagline:"High-Ticket Client Management.",description:"Streamline your consulting business with a professional portal for booking, payments, and client resources.",icon:u.jsx(yo,{size:40}),color:"#06b6d4",features:["Calendar Scheduling","Invoicing & Contracts","Client Portal","File Sharing","Session Notes"],demoType:"coaching",bestFor:"Consultants, Advisors"},{id:"community-network",title:"Private Social Network",tagline:"Escaping the Noise.",description:"Create a distraction-free social space specifically for your organization or interest group.",icon:u.jsx(yo,{size:40}),color:"#6366f1",features:["Activity Feeds","Group Spaces","Event Management","Direct Messaging","Moderation Tools"],demoType:"social",bestFor:"Alumni, Hobby Groups"},{id:"saas-mvp",title:"SaaS / MVP Builder",tagline:"Launch Your Software Startup.",description:"Robust boilerplate and infrastructure for launching your own software-as-a-service product in weeks, not months.",icon:u.jsx(h4,{size:40}),color:"#ef4444",features:["Auth & User Management","Subscription (Stripe)","Admin Dashboard","API Infrastructure","Scalable Database"],demoType:"saas",bestFor:"Founders, Startups"},{id:"ai-automation",title:"AI Automation System",tagline:"Work Smarter, Not Harder.",description:"Custom AI agents and workflows that automate your repetitive business tasks and data processing.",icon:u.jsx(L_,{size:40}),color:"#eab308",features:["Custom Chatbots","Data Extraction","Auto-Reporting","Workflow Triggers","LLM Integration"],demoType:"ai",bestFor:"Agencies, Operations"},{id:"platform-migration",title:"Migration & Independence",tagline:"Breaking Free.",description:"Technical services to move your data and business logic off restrictive platforms to your own infrastructure.",icon:u.jsx(uO,{size:40}),color:"#64748b",features:["Data Export/Import","Schema Mapping","Redirect Management","SEO Preservation","Legacy System Support"],demoType:"migration",bestFor:"Scaling Businesses"}],$9=()=>u.jsxs("div",{style:{paddingTop:"var(--header-height)"},children:[u.jsxs(Yt,{className:"text-center",children:[u.jsxs("div",{style:{textAlign:"center",maxWidth:"800px",margin:"0 auto 4rem"},children:[u.jsxs("h1",{style:{fontSize:"3.5rem",marginBottom:"1.5rem",lineHeight:1.1},children:["Build Your Own Platform. ",u.jsx("br",{}),u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Own Your Revenue."})]}),u.jsx("p",{style:{fontSize:"1.25rem",color:"var(--text-secondary)",lineHeight:1.6},children:"Frenzo designs scalable, revenue-driven platforms tailored to your business model  so you stay independent, flexible, and in control."})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"2rem"},children:hC.map(n=>u.jsxs(id,{children:[u.jsx("div",{style:{marginBottom:"1.5rem",color:n.color},children:n.icon}),u.jsx("h3",{style:{fontSize:"1.75rem",marginBottom:"0.5rem"},children:n.title}),u.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1.5rem",minHeight:"3rem"},children:n.description}),u.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"1rem",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[u.jsx("p",{style:{fontSize:"0.9rem",fontWeight:"600",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Best For"}),u.jsx("p",{style:{color:"var(--text-primary)"},children:n.bestFor})]}),u.jsxs("ul",{style:{listStyle:"none",marginBottom:"2rem",flex:1},children:[n.features.slice(0,3).map((e,t)=>u.jsxs("li",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"var(--text-secondary)",fontSize:"0.95rem"},children:[u.jsx(ha,{size:16,color:n.color})," ",e]},t)),n.features.length>3&&u.jsx("li",{style:{color:"var(--text-tertiary)",fontSize:"0.9rem",paddingLeft:"1.75rem"},children:"+ more features"})]}),u.jsxs(dr,{to:`/services/${n.id}`,variant:"outline",style:{width:"100%"},children:["View Demo & Details ",u.jsx(Fs,{size:16,style:{marginLeft:"0.5rem"}})]})]},n.id))})]}),u.jsx(Yt,{dark:!0,children:u.jsxs("div",{style:{textAlign:"center",padding:"4rem 0"},children:[u.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"1.5rem"},children:"Not sure which solution fits your business?"}),u.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"2.5rem",fontSize:"1.2rem"},children:"Talk to Frenzo and well design a custom system tailored to your goals."}),u.jsx(dr,{to:"/contact",state:{details:"I need help choosing the right solution for my business."},variant:"primary",style:{padding:"1rem 3rem",fontSize:"1.1rem"},children:"Start a Conversation"})]})})]}),W9=()=>{const[n,e]=N.useState(0),[t,r]=N.useState("overview"),[a,l]=N.useState(!0),[d,f]=N.useState([0,1]),m=[{title:"Module 1: The Foundations",lessons:[{id:0,title:"Welcome to the Masterclass",duration:"2:15",type:"video"},{id:1,title:"Setting Up Your Environment",duration:"14:20",type:"video"},{id:2,title:"Understanding the Core Principles",duration:"22:45",type:"video"}]},{title:"Module 2: Advanced Strategy",lessons:[{id:3,title:"Market Research Deep Dive",duration:"18:10",type:"video",locked:!1},{id:4,title:"Building the Funnel",duration:"15:00",type:"video",locked:!0},{id:5,title:"The Launch Checklist",duration:"05:30",type:"resource",locked:!0}]}],g=m.flatMap(w=>w.lessons).find(w=>w.id===n),_=w=>{d.includes(w)?f(d.filter(S=>S!==w)):f([...d,w])},v=Math.round(d.length/6*100);return u.jsxs("div",{style:{display:"flex",height:"100%",flexDirection:"row",position:"relative",overflow:"hidden",background:"#111",color:"#fff"},children:[u.jsxs("div",{style:{width:a?"320px":"0",background:"#1a1a1a",borderRight:"1px solid #333",transition:"width 0.3s ease",display:"flex",flexDirection:"column",flexShrink:0,height:"100%"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #333"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[u.jsx("h4",{style:{margin:0,fontSize:"1rem"},children:"SaaS Masterclass"}),u.jsxs("div",{style:{fontSize:"0.75rem",color:"#888"},children:[v,"% Complete"]})]}),u.jsx("div",{style:{width:"100%",height:"6px",background:"#333",borderRadius:"3px"},children:u.jsx("div",{style:{width:`${v}%`,height:"100%",background:"#3b82f6",borderRadius:"3px",transition:"width 0.5s ease"}})})]}),u.jsx("div",{style:{flex:1,overflowY:"auto"},children:m.map((w,S)=>u.jsxs("div",{children:[u.jsx("div",{style:{padding:"1rem 1.5rem",background:"#222",fontSize:"0.85rem",fontWeight:"600",color:"#aaa",textTransform:"uppercase",letterSpacing:"0.05em"},children:w.title}),w.lessons.map(T=>u.jsxs("div",{onClick:()=>!T.locked&&e(T.id),style:{padding:"1rem 1.5rem",cursor:T.locked?"not-allowed":"pointer",background:n===T.id?"rgba(59, 130, 246, 0.1)":"transparent",borderLeft:n===T.id?"3px solid #3b82f6":"3px solid transparent",opacity:T.locked?.5:1,display:"flex",gap:"0.8rem",transition:"background 0.2s"},children:[u.jsx("div",{onClick:I=>{I.stopPropagation(),_(T.id)},children:d.includes(T.id)?u.jsx(ha,{size:18,color:"#4ade80",fill:"rgba(74, 222, 128, 0.1)"}):u.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",border:"2px solid #555"}})}),u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.25rem",color:n===T.id?"#3b82f6":"#fff"},children:T.title}),u.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",display:"flex",alignItems:"center",gap:"4px"},children:[T.type==="video"?u.jsx(_p,{size:10}):u.jsx(N_,{size:10}),T.duration]})]}),T.locked&&u.jsx(O_,{size:14,color:"#444"})]},T.id))]},S))})]}),u.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[u.jsxs("div",{style:{height:"50px",borderBottom:"1px solid #333",display:"flex",alignItems:"center",padding:"0 1rem",background:"#111"},children:[u.jsx("button",{onClick:()=>l(!a),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",marginRight:"1rem"},children:a?u.jsx(c2,{size:20,style:{transform:"rotate(180deg)"}}):u.jsx(f2,{size:20})}),u.jsx("span",{style:{fontSize:"0.9rem",color:"#aaa"},children:g?.title})]}),u.jsxs("div",{style:{flex:1,background:"#000",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px"},children:[u.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(59, 130, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backdropFilter:"blur(10px)"},children:u.jsx(_p,{size:32,fill:"#fff",color:"#fff",style:{marginLeft:"4px"}})}),u.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"1.5rem",background:"linear-gradient(to top, rgba(0,0,0,0.9), transparent)"},children:u.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%",alignItems:"center",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontSize:"0.8rem"},children:"04:20"}),u.jsxs("div",{style:{flex:1,height:"4px",background:"rgba(255,255,255,0.2)",borderRadius:"2px",cursor:"pointer",position:"relative"},children:[u.jsx("div",{style:{width:"30%",height:"100%",background:"#3b82f6",borderRadius:"2px"}}),u.jsx("div",{style:{width:"12px",height:"12px",background:"#fff",borderRadius:"50%",position:"absolute",top:"-4px",left:"30%"}})]}),u.jsx("span",{style:{fontSize:"0.8rem"},children:g?.duration})]})})]}),u.jsxs("div",{style:{height:"250px",background:"#111",display:"flex",flexDirection:"column"},children:[u.jsx("div",{style:{display:"flex",borderBottom:"1px solid #333"},children:["overview","notes","discussion"].map(w=>u.jsx("div",{onClick:()=>r(w),style:{padding:"1rem 1.5rem",cursor:"pointer",color:t===w?"#3b82f6":"#aaa",borderBottom:t===w?"2px solid #3b82f6":"2px solid transparent",textTransform:"capitalize",fontSize:"0.9rem",fontWeight:"500"},children:w},w))}),u.jsxs("div",{style:{flex:1,padding:"1.5rem",overflowY:"auto"},children:[t==="overview"&&u.jsxs("div",{children:[u.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:g?.title}),u.jsx("p",{style:{color:"#aaa",lineHeight:"1.6",fontSize:"0.95rem"},children:"In this lesson, we will cover the fundamental strategies for setting up your environment. Make sure you have downloaded the resources attached to this module."}),u.jsxs("div",{style:{marginTop:"2rem",display:"flex",gap:"1rem"},children:[u.jsx("button",{style:{padding:"0.8rem 1.5rem",background:"#3b82f6",color:"#fff",borderRadius:"6px",border:"none",fontWeight:"600",cursor:"pointer"},children:"Complete & Continue"}),u.jsx("button",{style:{padding:"0.8rem 1.5rem",background:"#333",color:"#fff",borderRadius:"6px",border:"none",fontWeight:"500",cursor:"pointer"},children:"Download PDF"})]})]}),t==="notes"&&u.jsx("div",{style:{color:"#888",fontStyle:"italic"},children:"Your personal notes for this lesson will appear here..."}),t==="discussion"&&u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[u.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#333"}}),u.jsxs("div",{children:[u.jsxs("div",{style:{fontWeight:"600",fontSize:"0.9rem",marginBottom:"0.2rem"},children:["Alex Chen ",u.jsx("span",{style:{fontWeight:"400",color:"#666",fontSize:"0.8rem"},children:" 2h ago"})]}),u.jsx("p",{style:{color:"#ccc",fontSize:"0.9rem"},children:"Does this apply to B2B models as well?"})]})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#3b82f6"}}),u.jsxs("div",{children:[u.jsxs("div",{style:{fontWeight:"600",fontSize:"0.9rem",marginBottom:"0.2rem"},children:["Instructor ",u.jsx("span",{style:{fontWeight:"400",color:"#666",fontSize:"0.8rem"},children:" 1h ago"})]}),u.jsx("p",{style:{color:"#ccc",fontSize:"0.9rem"},children:"Yes! The principles are identical, just the outreach channel changes."})]})]})]})]})]})]})]})},G9=()=>{const[n,e]=N.useState(!1),[t,r]=N.useState([{id:1,name:"Minimalist Watch",price:149,image:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&w=500&q=80",qty:1}]),[a,l]=N.useState({id:"All",name:"All"}),d=[{id:1,name:"Minimalist Watch",price:149,category:"Accessories",image:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&w=500&q=80"},{id:2,name:"Leather Wallet",price:89,category:"Accessories",image:"https://images.unsplash.com/photo-1627123424574-18bd75f31923?auto=format&fit=crop&w=500&q=80"},{id:3,name:"Travel Backpack",price:220,category:"Bags",image:"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?auto=format&fit=crop&w=500&q=80"},{id:4,name:"Steel Bottle",price:45,category:"Lifestyle",image:"https://images.unsplash.com/photo-1602143407151-11115cd4e69b?auto=format&fit=crop&w=500&q=80"},{id:5,name:"Analog Camera",price:450,category:"Electronics",image:"https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?auto=format&fit=crop&w=500&q=80"},{id:6,name:"Notebook Set",price:25,category:"Lifestyle",image:"https://images.unsplash.com/photo-1531346878377-a513bc957372?auto=format&fit=crop&w=500&q=80"}],f=w=>{const S=t.find(T=>T.id===w.id);r(S?t.map(T=>T.id===w.id?{...T,qty:T.qty+1}:T):[...t,{...w,qty:1}]),e(!0)},m=(w,S)=>{r(t.map(T=>{if(T.id===w){const I=T.qty+S;return I>0?{...T,qty:I}:T}return T}))},g=a.id==="All"?d:d.filter(w=>w.category===a.id),_=t.reduce((w,S)=>w+S.price*S.qty,0),v=t.reduce((w,S)=>w+S.qty,0);return u.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",background:"#fff",color:"#111",position:"relative",overflow:"hidden"},children:[u.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid #f0f0f0",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fff",zIndex:10},children:[u.jsx("div",{style:{fontWeight:"900",fontSize:"1.2rem",letterSpacing:"-0.5px"},children:"ESSENTIALS."}),u.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[u.jsxs("div",{className:"desktop-only",style:{display:"flex",gap:"1rem",fontSize:"0.9rem",fontWeight:"500",color:"#555"},children:[u.jsx("span",{style:{color:"#000",cursor:"pointer"},children:"Shop"}),u.jsx("span",{style:{cursor:"pointer"},children:"About"}),u.jsx("span",{style:{cursor:"pointer"},children:"Journal"})]}),u.jsx(p2,{size:20,color:"#333"}),u.jsxs("div",{style:{position:"relative",cursor:"pointer"},onClick:()=>e(!0),children:[u.jsx(M_,{size:20,color:"#333"}),v>0&&u.jsx("span",{style:{position:"absolute",top:-6,right:-6,background:"#000",color:"#fff",fontSize:"0.6rem",width:"16px",height:"16px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:v})]})]})]}),u.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[u.jsxs("div",{style:{width:"200px",padding:"2rem 1.5rem",borderRight:"1px solid #f0f0f0"},className:"desktop-only",children:[u.jsx("h4",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",fontWeight:"700"},children:"Categories"}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:["All","Accessories","Bags","Electronics","Lifestyle"].map(w=>u.jsx("div",{onClick:()=>l({id:w,name:w}),style:{cursor:"pointer",color:a.id===w?"#000":"#888",fontWeight:a.id===w?"600":"400",fontSize:"0.9rem"},children:w},w))})]}),u.jsxs("div",{style:{flex:1,padding:"2rem",overflowY:"auto",background:"#f9f9f9"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[u.jsx("h2",{style:{fontSize:"1.5rem",margin:0,fontWeight:"700"},children:a.name}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",color:"#666"},children:["Sort by: Featured ",u.jsx(l2,{size:14})]})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1.5rem"},children:g.map(w=>u.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",transition:"transform 0.2s",boxShadow:"0 2px 10px rgba(0,0,0,0.02)"},className:"hover-lift",children:[u.jsxs("div",{style:{height:"200px",position:"relative",overflow:"hidden"},children:[u.jsx("img",{src:w.image,alt:w.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),u.jsx("button",{onClick:()=>f(w),style:{position:"absolute",bottom:"10px",right:"10px",background:"#fff",width:"36px",height:"36px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",cursor:"pointer",transition:"transform 0.1s active"},children:u.jsx(vp,{size:18,color:"#000"})})]}),u.jsxs("div",{style:{padding:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[u.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",margin:0},children:w.name}),u.jsxs("span",{style:{fontWeight:"600"},children:["$",w.price]})]}),u.jsx("p",{style:{color:"#888",fontSize:"0.8rem",margin:0},children:w.category})]})]},w.id))})]})]}),n&&u.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:100},children:[u.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)"},onClick:()=>e(!1)}),u.jsxs("div",{style:{position:"absolute",top:0,right:0,width:"350px",maxWidth:"85%",height:"100%",background:"#fff",display:"flex",flexDirection:"column",boxShadow:"-10px 0 30px rgba(0,0,0,0.1)"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("h3",{style:{margin:0},children:["Your Cart (",v,")"]}),u.jsx("button",{onClick:()=>e(!1),style:{background:"none",border:"none",cursor:"pointer"},children:u.jsx(tm,{size:24})})]}),u.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem"},children:t.length===0?u.jsx("p",{style:{color:"#888",textAlign:"center",marginTop:"3rem"},children:"Your cart is empty."}):t.map(w=>u.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[u.jsx("img",{src:w.image,style:{width:"70px",height:"70px",borderRadius:"8px",objectFit:"cover",background:"#f5f5f5"}}),u.jsxs("div",{style:{flex:1},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.2rem"},children:[u.jsx("h4",{style:{margin:0,fontSize:"0.95rem"},children:w.name}),u.jsxs("span",{style:{fontWeight:"600"},children:["$",w.price*w.qty]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginTop:"0.5rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",border:"1px solid #ddd",borderRadius:"4px"},children:[u.jsx("button",{onClick:()=>m(w.id,-1),style:{padding:"2px 8px",background:"none",border:"none",cursor:"pointer"},children:u.jsx(XO,{size:14})}),u.jsx("span",{style:{fontSize:"0.9rem",padding:"0 4px"},children:w.qty}),u.jsx("button",{onClick:()=>m(w.id,1),style:{padding:"2px 8px",background:"none",border:"none",cursor:"pointer"},children:u.jsx(vp,{size:14})})]}),u.jsx("span",{style:{fontSize:"0.8rem",color:"#888",cursor:"pointer",textDecoration:"underline"},children:"Remove"})]})]})]},w.id))}),u.jsxs("div",{style:{padding:"1.5rem",borderTop:"1px solid #eee",background:"#f9f9f9"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",fontWeight:"bold",fontSize:"1.1rem"},children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:["$",_]})]}),u.jsx("button",{style:{width:"100%",background:"#000",color:"#fff",padding:"1rem",borderRadius:"8px",border:"none",fontWeight:"bold",fontSize:"1rem",cursor:"pointer"},children:"Checkout"})]})]})]})]})},K9=()=>{const[n,e]=N.useState("Overview"),[t,r]=N.useState(124);return N.useEffect(()=>{const a=setInterval(()=>{r(l=>l+(Math.random()>.5?1:-1))},2e3);return()=>clearInterval(a)},[]),u.jsxs("div",{style:{height:"100%",background:"#09090b",color:"#fff",display:"flex"},children:[u.jsxs("div",{style:{width:"200px",borderRight:"1px solid #27272a",padding:"1rem",display:"flex",flexDirection:"column",gap:"0.5rem"},className:"desktop-only",children:[u.jsx("div",{style:{marginBottom:"1.5rem",fontWeight:"bold",paddingLeft:"0.5rem"},children:"DASHBOARD"}),["Overview","Analytics","Customers","Settings"].map(a=>u.jsx("div",{onClick:()=>e(a),style:{padding:"0.5rem 0.8rem",borderRadius:"6px",background:n===a?"#27272a":"transparent",color:n===a?"#fff":"#a1a1aa",cursor:"pointer",fontSize:"0.9rem"},children:a},a))]}),u.jsxs("div",{style:{flex:1,padding:"1.5rem",overflowY:"auto"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{style:{fontSize:"1.5rem",margin:0},children:n}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#27272a",padding:"0.3rem 0.6rem",borderRadius:"2rem",fontSize:"0.8rem"},children:[u.jsx("div",{style:{width:"8px",height:"8px",background:"#22c55e",borderRadius:"50%",boxShadow:"0 0 8px #22c55e"}}),u.jsxs("span",{style:{fontFamily:"monospace"},children:[t," Live"]})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[u.jsxs("div",{style:{background:"#18181b",padding:"1rem",borderRadius:"8px",border:"1px solid #27272a"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{color:"#a1a1aa",fontSize:"0.8rem"},children:"Total Revenue"}),u.jsx(u2,{size:16,color:"#a1a1aa"})]}),u.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:"$45,231"}),u.jsxs("div",{style:{color:"#22c55e",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"2px",marginTop:"4px"},children:[u.jsx(j0,{size:12})," +20.1%"]})]}),u.jsxs("div",{style:{background:"#18181b",padding:"1rem",borderRadius:"8px",border:"1px solid #27272a"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{color:"#a1a1aa",fontSize:"0.8rem"},children:"Active Users"}),u.jsx(yo,{size:16,color:"#a1a1aa"})]}),u.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:"2,450"}),u.jsxs("div",{style:{color:"#22c55e",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"2px",marginTop:"4px"},children:[u.jsx(j0,{size:12})," +12.5%"]})]})]}),u.jsx("div",{style:{background:"#18181b",padding:"1.5rem",borderRadius:"8px",border:"1px solid #27272a",height:"200px",display:"flex",alignItems:"flex-end",justifyContent:"space-between",gap:"10px"},children:[30,45,35,60,55,75,50,65,80,70,85,90,60,75,50].map((a,l)=>u.jsx("div",{style:{width:"100%",background:"#3b82f6",height:`${a}%`,borderRadius:"4px 4px 0 0",opacity:.8}},l))})]})]})},Y9=()=>{const[n,e]=N.useState("home"),[t,r]=N.useState(""),[a,l]=N.useState(!1),d=g=>{g.preventDefault(),t&&l(!0)},f=()=>u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[u.jsx("div",{style:{width:"96px",height:"96px",borderRadius:"50%",background:'url("https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=256&q=80")',backgroundSize:"cover",backgroundPosition:"center",margin:"0 auto 1rem",border:"4px solid #fff",boxShadow:"0 8px 20px rgba(0,0,0,0.1)"}}),u.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:"800",marginBottom:"0.5rem",color:"#111"},children:"Sarah Jenkins"}),u.jsxs("p",{style:{color:"#666",maxWidth:"400px",margin:"0 auto",fontSize:"1rem",lineHeight:"1.5"},children:["Digital Artist & Design Educator. ",u.jsx("br",{}),"Teaching 100k+ creatives how to build a career they love."]}),u.jsxs("div",{style:{display:"inline-flex",gap:"1rem",marginTop:"1.5rem",background:"#f5f5f5",padding:"0.5rem 1.5rem",borderRadius:"2rem"},children:[u.jsx(C0,{size:20,className:"hover-scale",style:{cursor:"pointer",color:"#E1306C"}}),u.jsx(_2,{size:20,className:"hover-scale",style:{cursor:"pointer",color:"#1DA1F2"}}),u.jsx(D4,{size:20,className:"hover-scale",style:{cursor:"pointer",color:"#FF0000"}})]})]}),m=()=>u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",marginBottom:"2rem",borderBottom:"1px solid #eee",paddingBottom:"1rem"},children:[{id:"home",label:"Home",icon:u.jsx(P_,{size:18})},{id:"content",label:"Content",icon:u.jsx(bp,{size:18})},{id:"shop",label:"Shop",icon:u.jsx(M_,{size:18})}].map(g=>u.jsxs("div",{onClick:()=>e(g.id),style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",padding:"0.5rem 1rem",borderRadius:"8px",background:n===g.id?"#111":"transparent",color:n===g.id?"#fff":"#666",fontWeight:"600",fontSize:"0.9rem",transition:"all 0.2s"},children:[g.icon," ",g.label]},g.id))});return u.jsxs("div",{style:{height:"100%",background:"#ffffff",color:"#000",display:"flex",flexDirection:"column",overflowY:"auto"},children:[u.jsx("div",{style:{height:"140px",background:"linear-gradient(135deg, #FF9A9E 0%, #FECFEF 99%, #FECFEF 100%)",flexShrink:0}}),u.jsxs("div",{style:{padding:"0 1.5rem 2rem",marginTop:"-48px",flex:1},children:[f(),m(),n==="home"&&u.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{style:{background:"#111",color:"#fff",borderRadius:"16px",padding:"1.5rem",position:"relative",overflow:"hidden",cursor:"pointer"},children:[u.jsxs("div",{style:{position:"relative",zIndex:2},children:[u.jsx("span",{style:{background:"#FF5F56",padding:"2px 8px",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold"},children:"NEW"}),u.jsx("h3",{style:{fontSize:"1.2rem",marginTop:"0.5rem",marginBottom:"0.2rem"},children:"The Freelance OS Template"}),u.jsx("p",{style:{color:"#aaa",fontSize:"0.9rem"},children:"Organize your entire creative business."})]}),u.jsx(Fs,{style:{position:"absolute",bottom:"1.5rem",right:"1.5rem",zIndex:2}})]}),[" My Digital Brush Pack (Free)"," Book a 1:1 Portfolio Review"," Watch my latest Studio Vlog"].map((g,_)=>u.jsxs("div",{style:{padding:"1rem",border:"1px solid #eee",borderRadius:"12px",fontWeight:"600",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"background 0.2s"},className:"hover-bg-gray",children:[g," ",u.jsx(Fs,{size:16,color:"#ccc"})]},_)),u.jsxs("div",{style:{marginTop:"2rem",background:"#F9FAFB",padding:"1.5rem",borderRadius:"16px",textAlign:"center"},children:[u.jsx(h2,{size:24,style:{marginBottom:"0.5rem",color:"#111"}}),u.jsx("h4",{style:{margin:"0 0 0.5rem 0"},children:"Join the Creative Club"}),u.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:"Weekly tips on design & business. No spam."}),a?u.jsx("div",{style:{color:"#10B981",fontWeight:"600"},children:" You're on the list!"}):u.jsxs("form",{onSubmit:d,style:{display:"flex",gap:"0.5rem"},children:[u.jsx("input",{type:"email",placeholder:"your@email.com",value:t,onChange:g=>r(g.target.value),style:{flex:1,padding:"0.7rem",borderRadius:"8px",border:"1px solid #ddd"}}),u.jsx("button",{style:{background:"#111",color:"#fff",border:"none",borderRadius:"8px",padding:"0 1rem",cursor:"pointer"},children:"Join"})]})]})]}),n==="content"&&u.jsx("div",{style:{maxWidth:"600px",margin:"0 auto",display:"grid",gap:"1.5rem"},children:[1,2,3].map(g=>u.jsxs("div",{style:{borderRadius:"12px",overflow:"hidden",border:"1px solid #eee"},children:[u.jsx("div",{style:{height:"180px",background:"#eee",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx(bp,{size:40,color:"#ccc"})}),u.jsxs("div",{style:{padding:"1rem"},children:[u.jsx("h4",{style:{margin:0,marginBottom:"0.5rem"},children:"How to find your art style in 2026"}),u.jsxs("div",{style:{display:"flex",gap:"1rem",color:"#666",fontSize:"0.8rem"},children:[u.jsx("span",{children:"12k views"}),u.jsx("span",{children:"2 days ago"})]})]})]},g))}),n==="shop"&&u.jsx("div",{style:{maxWidth:"600px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[{name:"Brush Pack V2",price:"$29"},{name:"Texture Bundle",price:"$19"},{name:"Lightroom Presets",price:"$35"},{name:"Procreate Course",price:"$149"}].map((g,_)=>u.jsxs("div",{style:{border:"1px solid #eee",borderRadius:"12px",padding:"1rem",cursor:"pointer"},children:[u.jsx("div",{style:{height:"100px",background:"#f5f5f5",borderRadius:"8px",marginBottom:"1rem"}}),u.jsx("h4",{style:{fontSize:"0.95rem",margin:"0 0 0.2rem 0"},children:g.name}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("span",{style:{fontWeight:"600"},children:g.price}),u.jsx("span",{style:{fontSize:"0.8rem",background:"#111",color:"#fff",padding:"2px 6px",borderRadius:"4px"},children:"Buy"})]})]},_))})]})]})},Q9=()=>{const[n,e]=N.useState("feed"),[t,r]=N.useState("free"),a=[{id:1,author:"Community Manager",role:"Admin",time:"2h ago",content:"Welcome to the inner circle!  Here is the recording of yesterdays expert session on Scaling to $10k/mo.",type:"video",locked:!1,likes:45,comments:12},{id:2,author:"Alex Rivera",role:"Member",time:"4h ago",content:"Just launched my first funnel using the templates in the Pro section. The conversion rate is already at 12%!",type:"text",locked:!1,likes:23,comments:5},{id:3,author:"Sarah Jenkins",role:"Expert",time:"6h ago",content:"Advanced Strategy: How to use psychological triggers in your copy. [PDF Download attached]",type:"resource",locked:!0,likes:112,comments:45}];return u.jsxs("div",{style:{height:"100%",background:"#f0f2f5",color:"#111",display:"flex"},children:[u.jsxs("div",{style:{width:"240px",background:"#fff",borderRight:"1px solid #e4e6eb",display:"flex",flexDirection:"column",padding:"1.5rem 1rem"},className:"desktop-only",children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",marginBottom:"2rem",paddingLeft:"0.5rem"},children:[u.jsx("div",{style:{width:"32px",height:"32px",background:"#6366f1",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"bold"},children:"C"}),u.jsx("span",{style:{fontWeight:"700",fontSize:"1.1rem"},children:"Creators Circle"})]}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[{id:"feed",label:"Community Feed",icon:u.jsx(I0,{size:18})},{id:"events",label:"Live Events",icon:u.jsx(j_,{size:18})},{id:"members",label:"Member Directory",icon:u.jsx(yo,{size:18})},{id:"resources",label:"Resource Library",icon:u.jsx(Gf,{size:18})}].map(l=>u.jsxs("div",{onClick:()=>e(l.id),style:{display:"flex",gap:"0.8rem",alignItems:"center",padding:"0.8rem",borderRadius:"8px",cursor:"pointer",background:n===l.id?"#e0e7ff":"transparent",color:n===l.id?"#4338ca":"#64748b",fontWeight:n===l.id?"600":"500"},children:[l.icon," ",l.label]},l.id))}),u.jsxs("div",{style:{marginTop:"auto",background:"#f8fafc",padding:"1rem",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[u.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#334155",marginBottom:"0.5rem"},children:["Your Plan: ",t==="free"?"Free Member":"Pro VIP"]}),t==="free"?u.jsx("button",{onClick:()=>r("pro"),style:{width:"100%",padding:"0.6rem",background:"#6366f1",color:"#fff",border:"none",borderRadius:"6px",fontWeight:"600",fontSize:"0.85rem",cursor:"pointer"},children:" Upgrade to Pro "}):u.jsx("div",{style:{color:"#059669",fontSize:"0.8rem",fontWeight:"600"},children:"Active & Verified"})]})]}),u.jsx("div",{style:{flex:1,padding:"2rem",overflowY:"auto"},children:u.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[u.jsx("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"#ccc"}}),u.jsx("input",{type:"text",placeholder:"Share something with the community...",style:{flex:1,border:"none",background:"#f1f5f9",borderRadius:"20px",padding:"0 1.5rem",outline:"none"}})]})}),a.map(l=>u.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",position:"relative",overflow:"hidden"},children:[u.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[u.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:l.role==="Admin"?"#4338ca":"#ccc"}}),u.jsxs("div",{children:[u.jsxs("div",{style:{fontWeight:"600",fontSize:"0.95rem"},children:[l.author," ",l.role==="Admin"&&u.jsx("span",{style:{background:"#e0e7ff",color:"#4338ca",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"4px",marginLeft:"6px"},children:"ADMIN"})]}),u.jsx("div",{style:{color:"#94a3b8",fontSize:"0.8rem"},children:l.time})]})]}),u.jsx("p",{style:{lineHeight:"1.5",color:"#334155",marginBottom:"1rem"},children:l.content}),l.locked&&t==="free"&&u.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(255,255,255,0.1)",backdropFilter:"blur(8px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:10},children:u.jsxs("div",{style:{background:"#fff",padding:"2rem",borderRadius:"16px",textAlign:"center",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",maxWidth:"80%"},children:[u.jsx("div",{style:{background:"#fef3c7",width:"50px",height:"50px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"#d97706"},children:u.jsx(O_,{size:24})}),u.jsx("h3",{style:{margin:"0 0 0.5rem 0"},children:"Pro Member Exclusive"}),u.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Unlock this deep-dive strategy and full resource library."}),u.jsx("button",{onClick:()=>r("pro"),style:{background:"#6366f1",color:"#fff",border:"none",padding:"0.8rem 2rem",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"Unlock Content"})]})}),l.type==="video"&&!l.locked&&u.jsx("div",{style:{width:"100%",height:"240px",background:"#000",borderRadius:"8px",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:""})}),u.jsxs("div",{style:{display:"flex",gap:"1.5rem",color:"#64748b",fontSize:"0.9rem",borderTop:"1px solid #f1f5f9",paddingTop:"1rem"},children:[u.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",cursor:"pointer"},children:[u.jsx(wO,{size:18})," ",l.likes]}),u.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",cursor:"pointer"},children:[u.jsx(I0,{size:18})," ",l.comments]}),u.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",cursor:"pointer"},children:[u.jsx(y2,{size:18})," Share"]})]})]},l.id))]})})]})},X9=()=>{const[n,e]=N.useState("editor");return u.jsxs("div",{style:{height:"100%",background:"#f8f9fa",display:"flex",color:"#333"},children:[u.jsxs("div",{style:{width:"60px",background:"#fff",borderRight:"1px solid #e0e0e0",display:"flex",flexDirection:"column",alignItems:"center",padding:"1.5rem 0",gap:"1.5rem"},children:[u.jsx("div",{style:{width:"32px",height:"32px",background:"#000",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"bold"},children:"N"}),u.jsx("div",{onClick:()=>e("editor"),style:{cursor:"pointer",color:n==="editor"?"#000":"#aaa"},children:u.jsx(n4,{size:20})}),u.jsx("div",{onClick:()=>e("analytics"),style:{cursor:"pointer",color:n==="analytics"?"#000":"#aaa"},children:u.jsx(JD,{size:20})}),u.jsx("div",{style:{cursor:"pointer",color:"#aaa"},children:u.jsx(yo,{size:20})}),u.jsx("div",{style:{marginTop:"auto",cursor:"pointer",color:"#aaa"},children:u.jsx(g2,{size:20})})]}),n==="editor"&&u.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[u.jsxs("div",{style:{height:"60px",borderBottom:"1px solid #e0e0e0",background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 2rem"},children:[u.jsxs("div",{style:{color:"#888",fontSize:"0.9rem"},children:["Drafts /  ",u.jsx("span",{style:{color:"#000"},children:"Issue #42: The Future of Media"})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("button",{style:{background:"none",border:"none",color:"#666",cursor:"pointer"},children:"Preview"}),u.jsxs("button",{style:{background:"#000",color:"#fff",border:"none",padding:"0.5rem 1.2rem",borderRadius:"6px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:["Send ",u.jsx(m2,{size:14})]})]})]}),u.jsx("div",{style:{flex:1,padding:"3rem 2rem",overflowY:"auto"},children:u.jsxs("div",{style:{maxWidth:"650px",margin:"0 auto",background:"#fff",minHeight:"800px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:"4rem",borderRadius:"2px"},children:[u.jsx("input",{type:"text",defaultValue:"The Future of Media is Independent",style:{width:"100%",border:"none",fontSize:"2.5rem",fontWeight:"800",marginBottom:"2rem",outline:"none",fontFamily:"serif"}}),u.jsx("p",{style:{fontSize:"1.2rem",lineHeight:"1.8",color:"#333",marginBottom:"1.5rem",fontFamily:"serif"},children:"We are shifting away from algorithmic feeds. The next decade belongs to creators who own their distribution."}),u.jsx("div",{style:{margin:"2rem 0",padding:"2rem",background:"#f8f8f8",borderLeft:"4px solid #000",fontStyle:"italic",fontFamily:"serif",fontSize:"1.1rem"},children:'"The goal is not to be famous. The goal is to be effective."'}),u.jsx("p",{style:{fontSize:"1.2rem",lineHeight:"1.8",color:"#333",marginBottom:"1.5rem",fontFamily:"serif"},children:"Yesterday, I spoke with 3 founders who are all moving their newsletter off Substack. Why? Because they want deeper integration with their own products."}),u.jsx("div",{style:{width:"100%",height:"300px",background:"#eee",margin:"2rem 0",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},children:u.jsx("span",{style:{color:"#aaa"},children:"Insert Image"})})]})})]}),n==="analytics"&&u.jsxs("div",{style:{flex:1,padding:"2rem"},children:[u.jsx("h2",{style:{marginBottom:"2rem"},children:"Performance"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1.5rem",marginBottom:"2rem"},children:[u.jsxs("div",{style:{background:"#fff",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[u.jsx("div",{style:{color:"#666",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Total Subscribers"}),u.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:"12,450"}),u.jsx("div",{style:{color:"#16a34a",fontSize:"0.8rem"},children:"+124 this week"})]}),u.jsxs("div",{style:{background:"#fff",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[u.jsx("div",{style:{color:"#666",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Avg. Open Rate"}),u.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:"52.4%"}),u.jsx("div",{style:{color:"#16a34a",fontSize:"0.8rem"},children:"+2.1%"})]}),u.jsxs("div",{style:{background:"#fff",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[u.jsx("div",{style:{color:"#666",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Link Clicks"}),u.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:"4,210"})]})]}),u.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Recent Sends"}),u.jsx("div",{style:{background:"#fff",borderRadius:"8px",border:"1px solid #e0e0e0",overflow:"hidden"},children:[{subject:"Why I quit social media",date:"Oct 24",opens:"54%",clicks:"12%"},{subject:"The Creator Economy Report 2026",date:"Oct 17",opens:"62%",clicks:"18%"},{subject:"Q3 Update",date:"Oct 10",opens:"48%",clicks:"5%"}].map((t,r)=>u.jsxs("div",{style:{display:"flex",padding:"1rem",borderBottom:"1px solid #f0f0f0",alignItems:"center"},children:[u.jsx("div",{style:{flex:1,fontWeight:"500"},children:t.subject}),u.jsx("div",{style:{width:"100px",color:"#666",fontSize:"0.9rem"},children:t.date}),u.jsxs("div",{style:{width:"100px",display:"flex",alignItems:"center",gap:"4px"},children:[u.jsx(fO,{size:14,color:"#666"})," ",t.opens]}),u.jsxs("div",{style:{width:"100px",display:"flex",alignItems:"center",gap:"4px"},children:[u.jsx(k_,{size:14,color:"#666"})," ",t.clicks]})]},r))})]})]})},J9=()=>u.jsxs("div",{style:{height:"100%",background:"#f3f4f6",color:"#1f2937",display:"flex"},children:[u.jsxs("div",{style:{width:"220px",background:"#111827",color:"#fff",padding:"1.5rem 1rem",display:"flex",flexDirection:"column",gap:"2rem"},className:"desktop-only",children:[u.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"1px"},children:"COACH.OS"}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",color:"#fff",fontWeight:"500"},children:[u.jsx(j_,{size:18})," Schedule"]}),u.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",color:"#9ca3af"},children:[u.jsx(yo,{size:18})," Clients"]}),u.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",color:"#9ca3af"},children:[u.jsx(N_,{size:18})," Invoices"]}),u.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",color:"#9ca3af"},children:[u.jsx(bp,{size:18})," Sessions"]})]})]}),u.jsxs("div",{style:{flex:1,padding:"2rem",overflowY:"auto"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsx("h2",{style:{margin:0},children:"Today's Schedule"}),u.jsx("button",{style:{background:"#2563eb",color:"#fff",border:"none",padding:"0.6rem 1.2rem",borderRadius:"6px",fontWeight:"500",cursor:"pointer"},children:"+ New Booking"})]}),u.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",marginBottom:"2rem",borderLeft:"4px solid #2563eb"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",color:"#2563eb",marginBottom:"0.3rem"},children:"Up Next: Strategy Call"}),u.jsx("div",{style:{fontSize:"0.9rem",color:"#6b7280"},children:"with Michael Scott  2:00 PM - 3:00 PM"})]}),u.jsxs("button",{style:{background:"#dbeafe",color:"#2563eb",border:"none",padding:"0.5rem 1rem",borderRadius:"20px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[u.jsx(bp,{size:16})," Join Meeting"]})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("div",{style:{background:"#f3f4f6",padding:"0.5rem 1rem",borderRadius:"6px",fontSize:"0.85rem"},children:"Pre-read: Q3 Report"}),u.jsx("div",{style:{background:"#f3f4f6",padding:"0.5rem 1rem",borderRadius:"6px",fontSize:"0.85rem"},children:"Status: Paid"})]})]}),u.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Weekly Overview"}),u.jsx("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"80px repeat(5, 1fr)",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3rem",marginTop:"3rem",color:"#9ca3af",fontSize:"0.85rem",textAlign:"right",paddingRight:"1rem"},children:[u.jsx("div",{children:"9 AM"}),u.jsx("div",{children:"10 AM"}),u.jsx("div",{children:"11 AM"}),u.jsx("div",{children:"12 PM"}),u.jsx("div",{children:"1 PM"})]}),["Mon","Tue","Wed","Thu","Fri"].map((n,e)=>u.jsxs("div",{style:{position:"relative"},children:[u.jsx("div",{style:{textAlign:"center",marginBottom:"1rem",fontWeight:"600",color:"#4b5563"},children:n}),u.jsxs("div",{style:{height:"300px",borderLeft:"1px solid #f3f4f6",position:"relative"},children:[[1,4].includes(e)&&u.jsxs("div",{style:{position:"absolute",top:"10px",left:"4px",right:"4px",height:"80px",background:"#d1fae5",borderRadius:"6px",padding:"6px",fontSize:"0.8rem",color:"#065f46",borderLeft:"3px solid #059669"},children:[u.jsx("strong",{children:"Client Onboarding"}),u.jsx("br",{}),"9:00 - 10:30"]}),e===2&&u.jsxs("div",{style:{position:"absolute",top:"150px",left:"4px",right:"4px",height:"60px",background:"#e0e7ff",borderRadius:"6px",padding:"6px",fontSize:"0.8rem",color:"#3730a3",borderLeft:"3px solid #4f46e5"},children:[u.jsx("strong",{children:"Deep Work"}),u.jsx("br",{}),"12:00 - 1:00"]})]})]},n))]})})]})]}),Z9=()=>u.jsxs("div",{style:{height:"100%",display:"flex",background:"#f3f2ef",color:"#333"},children:[u.jsxs("div",{style:{width:"240px",padding:"1.5rem",display:"flex",flexDirection:"column",gap:"2rem"},className:"desktop-only",children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"bold",fontSize:"1.2rem",color:"#0a66c2"},children:[u.jsx(Tf,{})," AlumniNet"]}),u.jsxs("div",{children:[u.jsx("h4",{style:{color:"#666",fontSize:"0.85rem",marginBottom:"1rem",textTransform:"uppercase"},children:"Menu"}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[u.jsx("div",{style:{fontWeight:"600"},children:"Feed"}),u.jsx("div",{style:{color:"#666"},children:"My Network"}),u.jsx("div",{style:{color:"#666"},children:"Events"}),u.jsx("div",{style:{color:"#666"},children:"Jobs"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{style:{color:"#666",fontSize:"0.85rem",marginBottom:"1rem",textTransform:"uppercase"},children:"Your Groups"}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem"},children:[u.jsx(Tf,{size:14})," Class of 2024"]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem"},children:[u.jsx(Tf,{size:14})," NYC Founders"]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem"},children:[u.jsx(Tf,{size:14})," Tech Talks"]})]})]})]}),u.jsxs("div",{style:{flex:1,padding:"1.5rem",overflowY:"auto"},children:[u.jsxs("div",{style:{background:"#fff",padding:"1.5rem",borderRadius:"8px",marginBottom:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.08)"},children:[u.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[u.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#ccc"}}),u.jsx("div",{style:{flex:1,border:"1px solid #ccc",borderRadius:"30px",padding:"12px 20px",color:"#666",fontWeight:"500",background:"#f8f8f8"},children:"Start a post..."})]}),u.jsx("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 1rem"},children:u.jsxs("div",{style:{display:"flex",gap:"1.5rem",color:"#666",fontSize:"0.9rem",fontWeight:"500"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[u.jsx(SO,{size:18,color:"#378fe9"})," Media"]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[u.jsx(j_,{size:18,color:"#c37d16"})," Event"]})]})})]}),[1,2].map(n=>u.jsxs("div",{style:{background:"#fff",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.08)"},children:[u.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[u.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#444"}}),u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:"600"},children:"David Miller"}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:"Product Designer  3h ago"})]})]}),u.jsx("p",{style:{lineHeight:"1.5",color:"#333",marginBottom:"1rem"},children:"Just wrapped up the annual retreat! Incredible energy in this group. Can't wait to see what everyone builds this year. "}),u.jsx("div",{style:{height:"240px",background:"#eee",borderRadius:"4px",marginBottom:"1rem"}}),u.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"1rem",display:"flex",gap:"1.5rem",color:"#666",fontSize:"0.9rem",fontWeight:"600"},children:[u.jsx("span",{children:"Like"}),u.jsx("span",{children:"Comment"}),u.jsx("span",{children:"Repost"})]})]},n))]}),u.jsx("div",{style:{width:"280px",padding:"1.5rem"},className:"desktop-only",children:u.jsxs("div",{style:{background:"#fff",padding:"1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)"},children:[u.jsx("h4",{style:{margin:"0 0 1rem 0"},children:"Upcoming Events"}),u.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[u.jsxs("div",{style:{width:"40px",height:"40px",background:"#0a66c2",color:"#fff",borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:"bold"},children:[u.jsx("span",{children:"OCT"}),u.jsx("span",{children:"24"})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:"Regional Meetup"}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:"7:00 PM  Downtown"})]})]})]})})]}),ez=()=>u.jsxs("div",{style:{height:"100%",background:"#0d1117",color:"#c9d1d9",display:"flex",fontFamily:"monospace"},children:[u.jsxs("div",{style:{width:"200px",borderRight:"1px solid #30363d",padding:"1.5rem 1rem"},className:"desktop-only",children:[u.jsxs("div",{style:{color:"#fff",fontWeight:"bold",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"8px"},children:[u.jsx(L_,{size:20,color:"#2ea043"})," STARTUP_KIT"]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[u.jsx("div",{style:{padding:"0.5rem",background:"#21262d",borderRadius:"6px",color:"#fff"},children:"Dashboard"}),u.jsx("div",{style:{padding:"0.5rem",cursor:"pointer"},children:"API Keys"}),u.jsx("div",{style:{padding:"0.5rem",cursor:"pointer"},children:"Users"}),u.jsx("div",{style:{padding:"0.5rem",cursor:"pointer"},children:"Webhooks"}),u.jsx("div",{style:{padding:"0.5rem",cursor:"pointer"},children:"Billing"})]})]}),u.jsxs("div",{style:{flex:1,padding:"2rem"},children:[u.jsx("h2",{style:{color:"#fff",fontSize:"1.5rem",marginBottom:"2rem"},children:"API Overview"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[u.jsxs("div",{style:{background:"#161b22",border:"1px solid #30363d",padding:"1rem",borderRadius:"6px"},children:[u.jsx("div",{style:{color:"#8b949e",fontSize:"0.85rem"},children:"Total Requests"}),u.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#fff",marginTop:"0.5rem"},children:"1.2M"})]}),u.jsxs("div",{style:{background:"#161b22",border:"1px solid #30363d",padding:"1rem",borderRadius:"6px"},children:[u.jsx("div",{style:{color:"#8b949e",fontSize:"0.85rem"},children:"Latency (p95)"}),u.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#58a6ff",marginTop:"0.5rem"},children:"24ms"})]}),u.jsxs("div",{style:{background:"#161b22",border:"1px solid #30363d",padding:"1rem",borderRadius:"6px"},children:[u.jsx("div",{style:{color:"#8b949e",fontSize:"0.85rem"},children:"Error Rate"}),u.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2ea043",marginTop:"0.5rem"},children:"0.01%"})]})]}),u.jsxs("div",{style:{background:"#161b22",border:"1px solid #30363d",borderRadius:"6px",overflow:"hidden"},children:[u.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #30363d",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("span",{style:{fontWeight:"600"},children:"Active Tokens"}),u.jsx("button",{style:{background:"#238636",color:"#fff",border:"none",padding:"0.4rem 0.8rem",borderRadius:"6px",fontSize:"0.85rem",cursor:"pointer"},children:"+ Generate New Key"})]}),u.jsx("div",{style:{padding:"1rem"},children:[{name:"Prod Server 1",key:"sk_live_...942s",created:"2d ago",status:"Active"},{name:"Dev Local",key:"sk_test_...882x",created:"5d ago",status:"Active"},{name:"Staging",key:"sk_test_...112p",created:"1mo ago",status:"Revoked"}].map((n,e)=>u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.8rem 0",borderBottom:e<2?"1px solid #30363d":"none",color:n.status==="Revoked"?"#8b949e":"#c9d1d9"},children:[u.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[u.jsx(CO,{size:16}),u.jsx("span",{children:n.name})]}),u.jsx("code",{style:{background:"rgba(110,118,129,0.4)",padding:"2px 6px",borderRadius:"4px",fontSize:"0.8rem"},children:n.key}),u.jsx("div",{style:{width:"80px",textAlign:"right",color:n.status==="Active"?"#2ea043":"#8b949e"},children:n.status})]},e))})]})]})]}),tz=()=>u.jsxs("div",{style:{height:"100%",background:"#000",color:"#fff",display:"flex",fontFamily:"sans-serif"},children:[u.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[u.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundSize:"40px 40px",backgroundImage:"radial-gradient(circle, #333 1px, transparent 1px)"}}),u.jsxs("div",{style:{position:"absolute",top:"20%",left:"10%",width:"200px",background:"#1c1c1c",border:"1px solid #333",borderRadius:"8px",padding:"1rem",boxShadow:"0 4px 15px rgba(0,0,0,0.5)"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"0.5rem",color:"#a855f7"},children:[u.jsx(o2,{size:18})," Trigger: New Email"]}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#888"},children:"from: *queries@*"})]}),u.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:u.jsx("path",{d:"M 310 160 C 360 160, 360 250, 410 250",stroke:"#444",strokeWidth:"2",fill:"none"})}),u.jsxs("div",{style:{position:"absolute",top:"40%",left:"40%",width:"220px",background:"#1c1c1c",border:"1px solid #333",borderRadius:"8px",padding:"1rem",boxShadow:"0 4px 15px rgba(0,0,0,0.5)"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"0.5rem",color:"#3b82f6"},children:[u.jsx(_O,{size:18})," Agent: Categorize"]}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#888"},children:"Model: GPT-4o"}),u.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"#111",borderRadius:"4px",fontSize:"0.75rem",color:"#ccc"},children:'"Is this a support request or sales lead?"'})]}),u.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:u.jsx("path",{d:"M 630 280 C 680 280, 680 350, 730 350",stroke:"#444",strokeWidth:"2",fill:"none"})}),u.jsxs("div",{style:{position:"absolute",top:"60%",left:"70%",width:"200px",background:"#1c1c1c",border:"1px solid #333",borderRadius:"8px",padding:"1rem",boxShadow:"0 4px 15px rgba(0,0,0,0.5)"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"0.5rem",color:"#22c55e"},children:[u.jsx(_p,{size:18})," Action: CRM Sync"]}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#888"},children:"Destination: HubSpot"})]}),u.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",display:"flex",gap:"0.5rem"},children:[u.jsx("button",{style:{padding:"0.6rem 1.2rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer"},children:"Deploy Workflow"}),u.jsx("button",{style:{padding:"0.6rem",background:"#333",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer"},children:u.jsx(g2,{size:20})})]})]}),u.jsxs("div",{style:{width:"300px",background:"#111",borderLeft:"1px solid #333",padding:"1rem",fontFamily:"monospace",fontSize:"0.85rem"},className:"desktop-only",children:[u.jsx("div",{style:{color:"#888",marginBottom:"1rem",textTransform:"uppercase",fontSize:"0.75rem",fontWeight:"bold"},children:"Live Logs"}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[u.jsxs("div",{children:[u.jsx("span",{style:{color:"#666"},children:"14:23:01"})," ",u.jsx("span",{style:{color:"#a855f7"},children:"[TRIGGER]"})," Email Received"]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#666"},children:"14:23:02"})," ",u.jsx("span",{style:{color:"#3b82f6"},children:"[AGENT]"})," Processing tokens..."]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#666"},children:"14:23:04"})," ",u.jsx("span",{style:{color:"#22c55e"},children:"[SUCCESS]"}),' Labelled: "High Priority"']}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#666"},children:"14:23:05"})," ",u.jsx("span",{style:{color:"#eab308"},children:"[SYNC]"})," Connected to API..."]}),u.jsx("div",{style:{opacity:.5},children:"_"})]})]})]}),nz=()=>u.jsx("div",{style:{height:"100%",background:"#fff",color:"#111",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:u.jsxs("div",{style:{width:"100%",maxWidth:"800px",padding:"0 2rem"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"3rem",fontSize:"1.8rem"},children:"Platform Migration Wizard"}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4rem",position:"relative"},children:[u.jsx("div",{style:{position:"absolute",top:"15px",left:"0",width:"100%",height:"2px",background:"#eee",zIndex:0}}),[{step:1,label:"Connect Source",status:"done"},{step:2,label:"Map Schema",status:"done"},{step:3,label:"Validating",status:"active"},{step:4,label:"Import",status:"pending"}].map((n,e)=>u.jsxs("div",{style:{position:"relative",zIndex:1,textAlign:"center"},children:[u.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:n.status==="done"?"#16a34a":n.status==="active"?"#2563eb":"#fff",border:n.status==="pending"?"2px solid #ddd":"none",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.5rem",fontWeight:"bold"},children:n.status==="done"?u.jsx(ha,{size:18}):n.step}),u.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:n.status==="pending"?"#ccc":"#000"},children:n.label})]},e))]}),u.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"2rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsxs("div",{style:{display:"flex",items:"center",gap:"1rem"},children:[u.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:"Wordpress DB"}),u.jsx(Fs,{color:"#9ca3af"}),u.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#2563eb"},children:"Frenzo Headless CMS"})]}),u.jsx("div",{style:{background:"#dbeafe",color:"#1e40af",padding:"0.4rem 0.8rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold"},children:"Running Analysis.."})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem",background:"#fff",borderRadius:"8px",border:"1px solid #eee"},children:[u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx(ha,{color:"#16a34a",size:20}),u.jsx("span",{children:"User Accounts (12,405)"})]}),u.jsx("span",{style:{color:"#16a34a",fontWeight:"600"},children:"Ready"})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem",background:"#fff",borderRadius:"8px",border:"1px solid #eee"},children:[u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx(ha,{color:"#16a34a",size:20}),u.jsx("span",{children:"Blog Posts (452)"})]}),u.jsx("span",{style:{color:"#16a34a",fontWeight:"600"},children:"Ready"})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem",background:"#fff",borderRadius:"8px",border:"1px solid #fecaca"},children:[u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx(T4,{color:"#dc2626",size:20}),u.jsx("span",{children:"WooCommerce Orders"})]}),u.jsx("span",{style:{color:"#dc2626",fontWeight:"600"},children:"Needs Review (Schema Mismatch)"})]})]}),u.jsx("div",{style:{marginTop:"2rem",textAlign:"right"},children:u.jsx("button",{style:{background:"#2563eb",color:"#fff",padding:"0.8rem 2rem",borderRadius:"6px",border:"none",fontWeight:"600",cursor:"pointer"},children:"Resolve Issues"})})]})]})}),rz=({type:n,title:e})=>{const[t,r]=N.useState(!1);N.useEffect(()=>{t?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[t]);const a=()=>{switch(n){case"course":return u.jsx(W9,{});case"commerce":return u.jsx(G9,{});case"creator":return u.jsx(Y9,{});case"community":return u.jsx(Q9,{});case"newsletter":return u.jsx(X9,{});case"coaching":return u.jsx(J9,{});case"social":return u.jsx(Z9,{});case"saas":return u.jsx(ez,{});case"ai":return u.jsx(tz,{});case"migration":return u.jsx(nz,{});default:return u.jsx(K9,{})}},l=()=>u.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:99999,background:"#1a1a1a",display:"flex",flexDirection:"column",animation:"fadeIn 0.2s ease-out"},children:[d(!0),u.jsx("div",{style:{flex:1,overflow:"hidden",position:"relative",background:"#09090b",display:"flex",flexDirection:"column"},children:a()})]}),d=f=>u.jsxs("div",{style:{background:"#222",borderBottom:"1px solid #333",padding:"0.75rem 1rem",display:"flex",alignItems:"center",gap:"0.5rem",zIndex:50,flexShrink:0},children:[u.jsxs("div",{style:{display:"flex",gap:"6px"},children:[u.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#ff5f56"}}),u.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#ffbd2e"}}),u.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#27c93f"}})]}),u.jsx("div",{style:{background:"#000",borderRadius:"4px",padding:"4px 10px",fontSize:"0.75rem",color:"#555",marginLeft:"1rem",flex:1,textAlign:"center",fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:u.jsxs("span",{children:["https://",e.toLowerCase().replace(/[^a-z0-9]/g,"-"),".frenzo.app"]})}),u.jsx("button",{onClick:()=>r(!f),style:{background:"transparent",border:"none",color:"#888",cursor:"pointer",display:"flex",alignItems:"center",padding:"0.2rem",borderRadius:"4px",zIndex:60},title:f?"Close Fullscreen":"Expand Fullscreen",children:f?u.jsx(YO,{size:18,color:"#fff"}):u.jsx($O,{size:18})})]});return u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",border:"1px solid #333",boxShadow:"0 20px 50px rgba(0,0,0,0.5)",overflow:"hidden",width:"100%",aspectRatio:"16/9",minHeight:"500px",display:"flex",flexDirection:"column",position:"relative"},className:"mockup-window-container",children:[d(!1),u.jsx("div",{style:{flex:1,overflow:"hidden",position:"relative",background:"#09090b",display:"flex",flexDirection:"column"},children:a()})]}),t&&s2.createPortal(u.jsx(l,{}),document.body),u.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.98); }
          to { opacity: 1; transform: scale(1); }
        }
      `})]})},sz=()=>{const{id:n}=T_(),e=hC.find(t=>t.id===n);return e?u.jsxs("div",{style:{paddingTop:"var(--header-height)"},children:[u.jsx("div",{className:"container",style:{padding:"2rem 0"},children:u.jsxs(ut,{to:"/services",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:[u.jsx(a2,{size:16})," Back to Services"]})}),u.jsxs(Yt,{style:{paddingTop:"0"},children:[u.jsxs("div",{className:"container",style:{textAlign:"center",maxWidth:"900px",margin:"0 auto 4rem"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1.5rem"},children:u.jsx("div",{style:{padding:"1rem",background:`${e.color}20`,borderRadius:"1rem",color:e.color},children:e.icon})}),u.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem",lineHeight:1.1},children:e.title}),u.jsx("p",{style:{fontSize:"1.5rem",color:e.color,fontWeight:"600",marginBottom:"1.5rem"},children:e.tagline}),u.jsx("p",{style:{fontSize:"1.2rem",color:"var(--text-secondary)",lineHeight:1.6,maxWidth:"700px",margin:"0 auto 2rem"},children:e.description}),u.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[u.jsx(dr,{to:"/contact",state:{details:`I am interested in building a ${e.title} (${e.tagline}).`},variant:"primary",children:"Build This Platform"}),u.jsx(dr,{to:"/contact",variant:"outline",children:"Schedule Demo"})]})]}),u.jsx("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:u.jsx(rz,{type:e.demoType,title:e.title})})]}),u.jsx(Yt,{dark:!0,children:u.jsxs("div",{className:"container",style:{maxWidth:"900px"},children:[u.jsxs("h2",{style:{fontSize:"2rem",textAlign:"center",marginBottom:"3rem"},children:["Why choose our ",e.title,"?"]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:e.features.map((t,r)=>u.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"1.5rem",borderRadius:"1rem",border:"1px solid var(--border-light)",display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsx(ha,{color:e.color,size:24}),u.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"500"},children:t})]},r))})]})}),u.jsx(Yt,{children:u.jsxs("div",{style:{background:`linear-gradient(135deg, ${e.color}10 0%, var(--bg-secondary) 100%)`,borderRadius:"2rem",padding:"4rem 2rem",textAlign:"center",border:`1px solid ${e.color}40`},children:[u.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"1.5rem"},children:"Ready to Launch?"}),u.jsxs("p",{style:{marginBottom:"2.5rem",color:"var(--text-secondary)"},children:["Get a fully owned ",e.title.toLowerCase()," tailored to your business."]}),u.jsxs(dr,{to:"/contact",state:{details:`I want to launch my own ${e.title} platform.`},style:{background:e.color,color:"#fff",border:"none"},children:["Start Your Project ",u.jsx(Fs,{size:18,style:{marginLeft:"0.5rem"}})]})]})})]}):u.jsx(ZT,{to:"/services",replace:!0})},Gr=({text:n})=>{const[e,t]=N.useState(!1),r=N.useRef(null),[a,l]=N.useState({top:0,left:0}),d=()=>{if(r.current){const m=r.current.getBoundingClientRect(),g=window.scrollY,_=window.scrollX;l({top:m.top+g-10,left:m.left+_+m.width/2})}};N.useEffect(()=>(e&&(d(),window.addEventListener("scroll",d),window.addEventListener("resize",d)),()=>{window.removeEventListener("scroll",d),window.removeEventListener("resize",d)}),[e]);const f=m=>{m.stopPropagation(),m.preventDefault(),t(!e)};return u.jsxs(u.Fragment,{children:[u.jsx("span",{ref:r,className:"tooltip-trigger",style:{marginLeft:"6px",position:"relative",display:"inline-flex",alignItems:"center"},onMouseEnter:()=>{d(),t(!0)},onMouseLeave:()=>t(!1),onClick:f,children:u.jsx(d2,{size:14,color:"var(--accent-primary)",style:{cursor:"help"}})}),e&&s2.createPortal(u.jsxs("div",{style:{position:"absolute",top:a.top,left:a.left,transform:"translate(-50%, -100%)",width:"200px",padding:"10px",background:"#222",border:"1px solid #444",borderRadius:"8px",fontSize:"0.75rem",color:"#ccc",zIndex:9999,textAlign:"center",pointerEvents:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",animation:"fadeIn 0.2s ease-out"},children:[n,u.jsx("div",{style:{position:"absolute",bottom:"-6px",left:"50%",transform:"translateX(-50%)",width:"0",height:"0",borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid #444"}}),u.jsx("style",{children:`
            @keyframes fadeIn {
              from { opacity: 0; transform: translate(-50%, -90%); }
              to { opacity: 1; transform: translate(-50%, -100%); }
            }
          `})]}),document.body)]})},iz=()=>{const[n,e]=N.useState("standard"),[t,r]=N.useState("none"),[a,l]=N.useState("template"),[d,f]=N.useState(1),[m,g]=N.useState([]),_=N.useMemo(()=>{let S=Wn.type[n]||0;return S+=Wn.intelligence[t],S+=Wn.design[a],n==="standard"&&(S+=(Math.max(1,d)-1)*Wn.pageRate),m.forEach(T=>{S+=Wn.features[T]}),S},[n,t,a,d,m]);return{state:{projectType:n,intelligence:t,design:a,pages:d,features:m},actions:{setProjectType:e,setIntelligence:r,setDesign:l,setPages:f,toggleFeature:S=>{g(T=>T.includes(S)?T.filter(I=>I!==S):[...T,S])}},total:_,formatPrice:S=>`${S.toLocaleString()}`}},Ru=(n,e)=>({padding:"0.8rem",borderRadius:"12px",border:e===n?"2px solid var(--accent-primary)":"1px solid #333",background:e===n?"rgba(37, 99, 235, 0.1)":"transparent",textAlign:"center",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",color:e===n?"#fff":"#888"}),az=()=>{const{state:n,actions:e,total:t,formatPrice:r}=iz(),{projectType:a,intelligence:l,design:d,pages:f,features:m}=n,{setProjectType:g,setIntelligence:_,setDesign:v,setPages:w,toggleFeature:S}=e;return u.jsxs("div",{style:{background:"#111",border:"1px solid #333",borderRadius:"24px",padding:"clamp(1.5rem, 4vw, 2.5rem)",position:"relative",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},children:[u.jsx("div",{style:{background:"var(--accent-primary)",position:"absolute",top:"-15px",right:"2rem",padding:"6px 16px",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold",color:"#fff"},children:"CUSTOM BUILDER"}),u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"2rem"},children:"Configure Project"}),u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsx("label",{style:{display:"block",color:"#888",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"1px"},children:"1. Foundation Type"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.8rem",marginBottom:"0.8rem"},children:[u.jsx("button",{onClick:()=>g("standard"),style:Ru("standard",a),children:u.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[u.jsx(N_,{size:18})," ",u.jsx("span",{style:{fontSize:"0.9rem",marginLeft:"6px"},children:"Dynamic Web"}),u.jsx(Gr,{text:Yr.projectType.standard})]})}),u.jsx("button",{onClick:()=>g("saas"),style:Ru("saas",a),children:u.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[u.jsx(ZO,{size:18})," ",u.jsx("span",{style:{fontSize:"0.9rem",marginLeft:"6px"},children:"Software / SaaS"}),u.jsx(Gr,{text:Yr.projectType.saas})]})})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"0.8rem"},children:[u.jsx("button",{onClick:()=>g("platform"),style:Ru("platform",a),children:u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx(ud,{size:18})," ",u.jsx("span",{style:{fontSize:"0.9rem",marginLeft:"6px"},children:"Platform"}),u.jsx(Gr,{text:Yr.projectType.platform})]})}),u.jsx("button",{onClick:()=>g("mobile"),style:Ru("mobile",a),children:u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx(v4,{size:18})," ",u.jsx("span",{style:{fontSize:"0.9rem",marginLeft:"6px"},children:"Mobile App"}),u.jsx(Gr,{text:Yr.projectType.mobile})]})}),u.jsx("button",{onClick:()=>g("ecosystem"),style:Ru("ecosystem",a),children:u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx(D_,{size:18})," ",u.jsx("span",{style:{fontSize:"0.9rem",marginLeft:"6px"},children:"Ecosystem"}),u.jsx(Gr,{text:Yr.projectType.ecosystem})]})})]}),a==="standard"&&u.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(37,99,235,0.1)",borderRadius:"8px",fontSize:"0.85rem",color:"var(--accent-primary)",display:"flex",gap:"10px"},children:[u.jsx(d2,{size:16,style:{flexShrink:0,marginTop:"2px"}}),u.jsxs("span",{children:[u.jsxs("strong",{children:["Why ",Wn.type.standard.toLocaleString()," vs ",Wn.type.starter.toLocaleString(),"?"]})," ",u.jsx("br",{}),"The standard foundation uses modern tech (React/Vue/etc) making it scalable. Starter is purely static HTML."]})]})]}),a==="standard"&&u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[u.jsx("label",{style:{color:"#888",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"1px"},children:"2. Scale / Pages"}),u.jsxs("span",{style:{color:"#fff",fontWeight:"bold"},children:[f," Pages"]})]}),u.jsx("input",{type:"range",min:"1",max:"20",value:f,onChange:T=>w(parseInt(T.target.value)),style:{width:"100%",accentColor:"var(--accent-primary)",cursor:"pointer"}}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.5rem",fontSize:"0.75rem",color:"#555"},children:[u.jsx("span",{children:"1 Page"}),u.jsx("span",{children:"20+ Pages"})]})]}),u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsx("label",{style:{display:"block",color:"#888",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"1px"},children:"3. Design Fidelity"}),u.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"4px"},children:L9.map(T=>u.jsxs("button",{onClick:()=>v(T),style:{flex:1,padding:"0.8rem",borderRadius:"8px",border:d===T?"1px solid #fff":"1px solid #333",background:d===T?"#222":"transparent",color:d===T?"#fff":"#666",textTransform:"capitalize",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[T,T==="template"&&u.jsx(Gr,{text:Yr.design.template}),T==="custom"&&u.jsx(Gr,{text:Yr.design.custom}),T==="motion"&&u.jsx(Gr,{text:Yr.design.motion})]},T))})]}),u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsx("label",{style:{display:"block",color:"#888",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"1px"},children:"4. Intelligence (AI)"}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.8rem"},children:M9.map(T=>u.jsxs("button",{onClick:()=>_(T),style:{padding:"0.8rem",borderRadius:"8px",border:l===T?"1px solid var(--accent-primary)":"1px solid #333",background:l===T?"rgba(37, 99, 235, 0.15)":"transparent",color:l===T?"#fff":"#888",textTransform:"capitalize",fontWeight:"500",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[T==="none"?"None":T==="chatbot"?"Smart Chatbot":"AI Agent",T==="chatbot"&&u.jsx(Gr,{text:Yr.intelligence.chatbot}),T==="agent"&&u.jsx(Gr,{text:Yr.intelligence.agent})]},T))})]}),u.jsxs("div",{style:{marginBottom:"3rem"},children:[u.jsx("label",{style:{display:"block",color:"#888",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"1px"},children:"5. Modules & Add-ons"}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"0.8rem"},children:P9.map(T=>u.jsxs("div",{onClick:()=>S(T.id),style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",borderRadius:"8px",cursor:"pointer",border:m.includes(T.id)?"1px solid var(--accent-primary)":"1px solid #222",background:m.includes(T.id)?"rgba(37, 99, 235, 0.05)":"transparent",fontSize:"0.85rem"},children:[u.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"4px",border:"1px solid #555",background:m.includes(T.id)?"var(--accent-primary)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:m.includes(T.id)&&u.jsx(em,{size:12,color:"#fff"})}),u.jsx("span",{style:{color:m.includes(T.id)?"#fff":"#888"},children:T.label}),u.jsx(Gr,{text:T.tip})]},T.id))})]}),u.jsxs("div",{style:{borderTop:"1px solid #333",paddingTop:"2rem",marginTop:"2rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem"},children:[u.jsx("span",{style:{color:"#888"},children:"Estimated Investment"}),u.jsxs("div",{style:{textAlign:"right"},children:[u.jsxs("div",{style:{fontSize:"1.2rem",color:"#666",textDecoration:"line-through",fontWeight:"bold"},children:["",Wv(t)]}),u.jsx("span",{style:{fontSize:"2.5rem",fontWeight:"bold",lineHeight:1,color:"var(--accent-primary)"},children:r(t)})]})]}),u.jsxs(ut,{to:"/contact",state:{plan:"Custom Build",features:`Type: ${a}, Pages: ${f}, AI: ${l}, Design: ${d}, Extras: ${m.join(", ")}`,estimatedPrice:r(t)},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"1.2rem",background:"var(--accent-primary)",color:"#fff",borderRadius:"12px",textDecoration:"none",fontWeight:"bold",fontSize:"1.1rem",boxShadow:"0 4px 20px rgba(37, 99, 235, 0.3)"},children:["Book Build Strategy ",u.jsx(Fs,{size:20,style:{marginLeft:"10px"}})]}),u.jsx("p",{style:{textAlign:"center",fontSize:"0.8rem",color:"#555",marginTop:"1rem"},children:"*Rough estimate. Final quote provided after discovery call."})]})]})},oz=()=>u.jsxs("div",{style:{background:"#050505",border:"1px solid #222",borderRadius:"24px",padding:"clamp(1.5rem, 4vw, 2.5rem)",display:"flex",flexDirection:"column",height:"fit-content"},children:[u.jsx("div",{style:{background:"#222",width:"fit-content",padding:"4px 12px",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold",color:"#fff",marginBottom:"1.5rem"},children:"THE STARTER"}),u.jsxs("div",{style:{marginBottom:"0.5rem",lineHeight:1},children:[u.jsxs("span",{style:{fontSize:"3.5rem",fontWeight:"800"},children:["",Wn.type.starter.toLocaleString()]}),u.jsxs("span",{style:{fontSize:"1.5rem",color:"#666",textDecoration:"line-through",marginLeft:"12px"},children:["",Wv(Wn.type.starter)]})]}),u.jsx("p",{style:{color:"#666",marginBottom:"2rem"},children:"One-time payment."}),u.jsx("ul",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"2.5rem",flex:1},children:["Professional Portfolio","Hosted on GitHub Pages","100% Static HTML/CSS","No Backend / No Updates"].map((n,e)=>u.jsxs("li",{style:{display:"flex",gap:"10px",color:"#888",fontSize:"0.95rem"},children:[u.jsx(em,{size:18,color:"#444"})," ",n]},e))}),u.jsx(ut,{to:"/contact",state:{plan:`Starter Plan (${Wn.type.starter.toLocaleString()})`,details:Bp.LAUNCH_OFFER},style:{width:"100%",padding:"1rem",background:"#fff",color:"#000",borderRadius:"12px",textAlign:"center",fontWeight:"bold",textDecoration:"none"},children:"Claim Starter Spot"})]}),lz=()=>u.jsx("div",{style:{paddingTop:"80px"},children:u.jsxs(Yt,{dark:!0,children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem"},children:[u.jsx("h1",{style:{fontSize:"3.5rem",marginBottom:"1rem",background:"linear-gradient(to right, #fff, #aaa)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Build Your Platform"}),u.jsx("p",{style:{fontSize:"1.2rem",color:"var(--text-secondary)",maxWidth:"600px",margin:"0 auto 2rem"},children:"From simple landing pages to complex ecosystems. Pricing that scales with your ambition."}),u.jsxs(ut,{to:"/services",style:{color:"var(--accent-primary)",fontWeight:"600",textDecoration:"none",fontSize:"1rem",display:"inline-flex",alignItems:"center",gap:"5px"},children:["Explore Services ",u.jsx(Fs,{size:16})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"4rem",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx(oz,{}),u.jsx(az,{})]})]})}),cz=()=>u.jsx("div",{style:{paddingTop:"80px"},children:u.jsx(Yt,{children:u.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[u.jsx("h1",{style:{marginBottom:"2rem"},children:"Terms of Service"}),u.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"Last updated: January 2026"}),u.jsx("h2",{style:{fontSize:"1.5rem",marginTop:"2rem",marginBottom:"1rem"},children:"1. Agreement"}),u.jsx("p",{style:{color:"#ccc",lineHeight:"1.6"},children:"By accessing Frenzo services, you agree to be bound by these Terms of Service. If you do not agree to agree, you may not access our services."}),u.jsx("h2",{style:{fontSize:"1.5rem",marginTop:"2rem",marginBottom:"1rem"},children:"2. Intellectual Property"}),u.jsx("p",{style:{color:"#ccc",lineHeight:"1.6"},children:"Unlike traditional agencies, **Frenzo grants you full ownership** of the code we build for you upon full payment. We retain no rights to your customer data or platform revenue."}),u.jsx("h2",{style:{fontSize:"1.5rem",marginTop:"2rem",marginBottom:"1rem"},children:"3. Payments"}),u.jsx("p",{style:{color:"#ccc",lineHeight:"1.6"},children:"Projects are billed in milestones: 50% upfront, 50% upon delivery. All payments are non-refundable once work has commenced."})]})})}),uz=()=>u.jsx("div",{style:{paddingTop:"80px"},children:u.jsx(Yt,{children:u.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[u.jsx("h1",{style:{marginBottom:"2rem"},children:"Privacy Policy"}),u.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"Last updated: January 2026"}),u.jsx("h2",{style:{fontSize:"1.5rem",marginTop:"2rem",marginBottom:"1rem"},children:"1. Data Collection"}),u.jsx("p",{style:{color:"#ccc",lineHeight:"1.6"},children:"We collect minimal data necessary to provide our services, such as your name and email address when you contact us. We do not sell your data."}),u.jsx("h2",{style:{fontSize:"1.5rem",marginTop:"2rem",marginBottom:"1rem"},children:"2. Platform Independence"}),u.jsx("p",{style:{color:"#ccc",lineHeight:"1.6"},children:"The platforms we build for you are legally owned by you. We do not have backend access to your user data after the handover process is complete."}),u.jsx("h2",{style:{fontSize:"1.5rem",marginTop:"2rem",marginBottom:"1rem"},children:"3. Analytics"}),u.jsx("p",{style:{color:"#ccc",lineHeight:"1.6"},children:"We use privacy-friendly analytics to improve our website experience. No personal identifiable information (PII) is tracked."})]})})}),dz=()=>{const{state:n}=rs(),{currentUser:e}=is(),t=()=>n?.details?n.details:n?.plan?`I'm interested in: ${n.plan}

${n.features?"Features: "+n.features+`
`:""}${n.estimatedPrice?"Estimated Budget: "+n.estimatedPrice+`
`:""}`:"",[r,a]=Do.useState({name:"",email:"",phone:"",details:t()}),l=pr();N.useEffect(()=>{e&&(a(g=>({...g,name:e.displayName||g.name,email:e.email||g.email,phone:e.phoneNumber||g.phone})),(async()=>{try{const g=Us(_t,"users",e.uid),_=await Vd(g);if(_.exists()){const v=_.data();a(w=>({...w,phone:v.phoneNumber||w.phone}))}}catch(g){console.error("Error auto-filling contact form:",g)}})())},[e]);const d=m=>{m.preventDefault();const g=`Project Inquiry from ${r.name}`,_=`Name: ${r.name}
Email: ${r.email}
Phone: ${r.phone||"Not provided"}

Project Details:
${r.details}`;window.gtag&&window.gtag("event","generate_lead",{event_category:"form",event_label:"contact_submit"}),window.location.href=`mailto:${fo.email}?subject=${encodeURIComponent(g)}&body=${encodeURIComponent(_)}`,setTimeout(()=>{l("/thank-you")},1e3)},f=m=>{a({...r,[m.target.name]:m.target.value})};return u.jsx("div",{style:{paddingTop:"var(--header-height)"},children:u.jsx(Yt,{children:u.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[u.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"Start a Project"}),u.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"3rem"},children:"Ready to build your growth system? Let's talk."}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",marginBottom:"3rem",flexWrap:"wrap"},children:[u.jsxs("div",{style:{background:"#111",padding:"1rem 1.5rem",borderRadius:"8px",border:"1px solid #333"},children:[u.jsx("div",{style:{color:"#888",fontSize:"0.8rem",textTransform:"uppercase",marginBottom:"0.4rem"},children:"Email"}),u.jsx("div",{style:{fontWeight:"600"},children:fo.email})]}),u.jsxs("a",{href:`tel:${fo.phone}`,onClick:m=>{window.gtag_report_conversion&&(m.preventDefault(),window.gtag_report_conversion("tel:+918904045305"))},style:{background:"#111",padding:"1rem 1.5rem",borderRadius:"8px",border:"1px solid #333",textDecoration:"none",color:"inherit",display:"block",cursor:"pointer"},children:[u.jsx("div",{style:{color:"#888",fontSize:"0.8rem",textTransform:"uppercase",marginBottom:"0.4rem"},children:"Phone"}),u.jsx("div",{style:{fontWeight:"600"},children:fo.phoneDisplay})]})]}),u.jsxs("form",{onSubmit:d,style:{display:"flex",flexDirection:"column",gap:"1.5rem",textAlign:"left"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Name"}),u.jsx("input",{name:"name",value:r.name,onChange:f,type:"text",required:!0,disabled:!!e?.displayName,style:{width:"100%",padding:"1rem",background:"var(--bg-secondary)",border:"1px solid var(--border-light)",color:"var(--text-primary)",borderRadius:"0.5rem",opacity:e?.displayName?.7:1,cursor:e?.displayName?"not-allowed":"text"},placeholder:"Enter your name"})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Email"}),u.jsx("input",{name:"email",value:r.email,onChange:f,type:"email",required:!0,disabled:!!e?.email,style:{width:"100%",padding:"1rem",background:"var(--bg-secondary)",border:"1px solid var(--border-light)",color:"var(--text-primary)",borderRadius:"0.5rem",opacity:e?.email?.7:1,cursor:e?.email?"not-allowed":"text"},placeholder:"Enter your email"})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Phone (Optional)"}),u.jsx("input",{name:"phone",value:r.phone,onChange:f,type:"tel",disabled:!!e,style:{width:"100%",padding:"1rem",background:"var(--bg-secondary)",border:"1px solid var(--border-light)",color:"var(--text-primary)",borderRadius:"0.5rem",opacity:e?.7:1,cursor:e?"not-allowed":"text"},placeholder:"+91 99999 99999"}),e&&u.jsx("small",{style:{color:"var(--text-tertiary)"},children:"Update phone in your Dashboard"})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Project Details"}),u.jsx("textarea",{name:"details",value:r.details,onChange:f,required:!0,style:{width:"100%",padding:"1rem",background:"var(--bg-secondary)",border:"1px solid var(--border-light)",color:"var(--text-primary)",borderRadius:"0.5rem",minHeight:"150px"},placeholder:"Tell us about your project"})]}),u.jsx(dr,{type:"submit",variant:"primary",style:{width:"100%",marginTop:"1rem",padding:"1.2rem",fontSize:"1.1rem"},children:"Send Message (Open Email)"})]})]})})})},hz=()=>{const n=[{title:"Discovery",icon:u.jsx(w4,{size:24}),desc:"We dive deep into your business model, audience, and revenue goals to identify growth bottlenecks."},{title:"Strategy",icon:u.jsx(j0,{size:24}),desc:"We architect a custom digital ecosystem tailored to your specific needs, focusing on scalability and ownership."},{title:"Build",icon:u.jsx(D_,{size:24}),desc:"Our engineering team develops your custom platforms, automations, and apps using high-performance technology."},{title:"Launch",icon:u.jsx(L_,{size:24}),desc:"We deploy your systems, ensuring everything is optimized for conversions, speed, and user experience."},{title:"Optimize",icon:u.jsx(R0,{size:24}),desc:"We use data and AI to continuously refine your systems, maximizing growth and efficiency over time."}];return u.jsxs("div",{style:{paddingTop:"var(--header-height)"},children:[u.jsxs(Yt,{style:{textAlign:"center"},children:[u.jsx("h1",{style:{fontSize:"4rem",marginBottom:"1.5rem",lineHeight:"1.1"},children:"Our Approach"}),u.jsx("p",{style:{fontSize:"1.25rem",color:"var(--text-secondary)",maxWidth:"700px",margin:"0 auto 4rem",lineHeight:"1.6"},children:"We combine strategic foresight with rigorous execution. Our vision is to become the worlds leading platform for independent digital growth and business automation."})]}),u.jsxs(Yt,{style:{background:"#0a0a0a"},children:[u.jsx("h2",{style:{textAlign:"center",fontSize:"2.5rem",marginBottom:"4rem"},children:"How We Build"}),u.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",position:"relative",boxSizing:"border-box",paddingLeft:"1rem"},children:[u.jsx("div",{style:{position:"absolute",left:"3rem",transform:"translateX(-50%)",top:"2rem",bottom:"0",width:"2px",background:"linear-gradient(to bottom, var(--accent-primary), transparent)",zIndex:0}}),n.map((e,t)=>u.jsxs("div",{style:{display:"flex",gap:"2.5rem",marginBottom:"4rem",position:"relative",zIndex:1,alignItems:"flex-start"},children:[u.jsx("div",{style:{width:"4rem",height:"4rem",background:"#111",border:"2px solid var(--accent-primary)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--accent-primary)",flexShrink:0,boxShadow:"0 0 15px rgba(251, 191, 36, 0.2)",boxSizing:"border-box",position:"relative",zIndex:2},children:e.icon}),u.jsxs("div",{style:{paddingTop:"0.25rem"},children:[u.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.5rem",color:"#fff",lineHeight:"1.2"},children:e.title}),u.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:1.6,fontSize:"1.05rem",margin:0},children:e.desc})]})]},t))]})]}),u.jsx(Yt,{children:u.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"2rem",textAlign:"center"},children:"Future Roadmap"}),u.jsx("div",{style:{background:"var(--bg-secondary)",padding:"2rem",borderRadius:"16px",border:"1px solid var(--border-light)"},children:u.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[u.jsxs("li",{style:{marginBottom:"2rem",display:"flex",gap:"1rem"},children:[u.jsx("div",{style:{width:"4px",background:"var(--accent-primary)",borderRadius:"2px"}}),u.jsxs("div",{children:[u.jsx("strong",{style:{color:"#fff",fontSize:"1.2rem",display:"block",marginBottom:"4px"},children:"Stage 1: Service-Led Growth"}),u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Establishing manual, high-touch partnerships to define the perfect system."})]})]}),u.jsxs("li",{style:{marginBottom:"2rem",display:"flex",gap:"1rem"},children:[u.jsx("div",{style:{width:"4px",background:"var(--text-tertiary)",borderRadius:"2px"}}),u.jsxs("div",{children:[u.jsx("strong",{style:{color:"#fff",fontSize:"1.2rem",display:"block",marginBottom:"4px"},children:"Stage 2: Platform Ecosystem"}),u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Standardizing modules and launching the beta infrastructure."})]})]}),u.jsxs("li",{style:{marginBottom:"2rem",display:"flex",gap:"1rem"},children:[u.jsx("div",{style:{width:"4px",background:"var(--text-tertiary)",borderRadius:"2px"}}),u.jsxs("div",{children:[u.jsx("strong",{style:{color:"#fff",fontSize:"1.2rem",display:"block",marginBottom:"4px"},children:"Stage 3: Creator Tools"}),u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Empowering users to build and modify their own growth engines."})]})]}),u.jsxs("li",{style:{display:"flex",gap:"1rem"},children:[u.jsx("div",{style:{width:"4px",background:"var(--text-tertiary)",borderRadius:"2px"}}),u.jsxs("div",{children:[u.jsx("strong",{style:{color:"#fff",fontSize:"1.2rem",display:"block",marginBottom:"4px"},children:"Stage 4: AI Intelligence"}),u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Fully autonomous business optimization and decision making."})]})]})]})})]})})]})},fz=()=>(N.useEffect(()=>{window.gtag&&window.gtag("event","generate_lead",{event_category:"form",event_label:"contact_success"})},[]),u.jsx("div",{style:{paddingTop:"var(--header-height)"},children:u.jsx(Yt,{children:u.jsxs("div",{style:{textAlign:"center",maxWidth:"600px",margin:"4rem auto"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:u.jsx("div",{style:{background:"rgba(37, 99, 235, 0.1)",padding:"2rem",borderRadius:"50%"},children:u.jsx(ha,{size:64,color:"var(--accent-primary)"})})}),u.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1.5rem",lineHeight:1},children:"Message Sent!"}),u.jsx("p",{style:{fontSize:"1.2rem",color:"var(--text-secondary)",marginBottom:"3rem"},children:"Your email client should have opened. If you sent the email, we'll get back to you within 24 hours."}),u.jsx(dr,{to:"/",variant:"primary",children:"Back to Home"})]})})}));function pz(){const{pathname:n}=rs();return N.useEffect(()=>{window.scrollTo(0,0)},[n]),null}const mz=()=>{const[n,e]=N.useState("email"),[t,r]=N.useState(""),[a,l]=N.useState(""),[d,f]=N.useState(""),[m,g]=N.useState(""),[_,v]=N.useState(null),[w,S]=N.useState(!1),[T,I]=N.useState(""),[D,F]=N.useState(!1),{login:z,loginWithGoogle:J,loginWithPhone:ae,verifyPhoneCode:ce}=is(),pe=pr();N.useEffect(()=>{if(n==="phone"&&!window.recaptchaVerifier&&document.getElementById("recaptcha-container"))try{window.recaptchaVerifier=new G6(pi,"recaptcha-container",{size:"invisible",callback:B=>{console.log("Recaptcha verified")}})}catch(B){console.error("Recaptcha initialization error:",B)}},[n]);const j=async O=>{O.preventDefault(),I(""),F(!0);try{await z(t,a),pe("/dashboard")}catch(B){I(B.message)}finally{F(!1)}},C=async O=>{if(O.preventDefault(),I(""),F(!0),!d){I("Please enter a phone number"),F(!1);return}try{const B=window.recaptchaVerifier,P=await ae(d,B);v(P),S(!0)}catch(B){console.error(B),I("Failed to send SMS: "+B.message),window.recaptchaVerifier&&window.location.reload()}finally{F(!1)}},k=async O=>{if(O.preventDefault(),I(""),F(!0),!m){I("Please enter the verification code"),F(!1);return}try{await ce(_,m),pe("/dashboard")}catch(B){I("Invalid code: "+B.message)}finally{F(!1)}},M=async()=>{I(""),F(!0);try{await J(),pe("/dashboard")}catch(O){I(O.message)}finally{F(!1)}};return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("h2",{children:"Welcome Back"}),u.jsx("p",{children:"Login to manage your account"})]}),T&&u.jsx("div",{className:"auth-error",children:T}),u.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",borderBottom:"1px solid var(--border-light)",paddingBottom:"0.5rem"},children:[u.jsx("button",{type:"button",onClick:()=>e("email"),style:{color:n==="email"?"var(--accent-primary)":"var(--text-tertiary)",fontWeight:n==="email"?"600":"400",borderBottom:n==="email"?"2px solid var(--accent-primary)":"none",paddingBottom:"0.5rem"},children:"Email"}),u.jsx("button",{type:"button",onClick:()=>e("phone"),style:{color:n==="phone"?"var(--accent-primary)":"var(--text-tertiary)",fontWeight:n==="phone"?"600":"400",borderBottom:n==="phone"?"2px solid var(--accent-primary)":"none",paddingBottom:"0.5rem"},children:"Phone"})]}),n==="email"?u.jsxs("form",{onSubmit:j,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",className:"form-input",value:t,onChange:O=>r(O.target.value),placeholder:"you@example.com",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Password"}),u.jsx("input",{type:"password",id:"password",className:"form-input",value:a,onChange:O=>l(O.target.value),placeholder:"",required:!0})]}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:D,children:D?"Logging in...":"Login"})]}):u.jsx("div",{className:"auth-form",children:w?u.jsxs("form",{onSubmit:k,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"otp",children:"Verification Code"}),u.jsx("input",{type:"text",id:"otp",className:"form-input",value:m,onChange:O=>g(O.target.value),placeholder:"123456",required:!0})]}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:D,children:D?"Verifying...":"Verify & Login"}),u.jsx("button",{type:"button",onClick:()=>S(!1),className:"google-btn",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:"Change Number"})]}):u.jsxs("form",{onSubmit:C,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"phone",children:"Phone Number"}),u.jsx("input",{type:"tel",id:"phone",className:"form-input",value:d,onChange:O=>f(O.target.value),placeholder:"+1 555 555 5555",required:!0}),u.jsx("small",{style:{color:"var(--text-tertiary)",fontSize:"0.8rem"},children:"Format: +[CountryCode][Number]"})]}),u.jsx("div",{id:"recaptcha-container"}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:D,children:D?"Sending SMS...":"Send Code"})]})}),u.jsx("div",{className:"auth-divider",children:u.jsx("span",{children:"OR"})}),u.jsxs("button",{onClick:M,className:"google-btn",disabled:D,children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",width:"20",height:"20",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),u.jsxs("div",{className:"auth-footer",children:["Don't have an account?",u.jsx(ut,{to:"/register",className:"auth-link",children:"Sign Up"})]})]})})},gz=()=>{const[n,e]=N.useState(""),[t,r]=N.useState(""),[a,l]=N.useState(""),[d,f]=N.useState(""),[m,g]=N.useState(""),[_,v]=N.useState(!1),{signup:w,loginWithGoogle:S}=is(),T=pr(),I=async F=>{if(F.preventDefault(),g(""),t!==a)return g("Passwords do not match");v(!0);try{await w(n,t,d),T("/dashboard")}catch(z){g(z.message)}finally{v(!1)}},D=async()=>{g(""),v(!0);try{await S(),T("/dashboard")}catch(F){g(F.message)}finally{v(!1)}};return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("h2",{children:"Create Account"}),u.jsx("p",{children:"Join Frenzo for free today"})]}),m&&u.jsx("div",{className:"auth-error",children:m}),u.jsxs("form",{onSubmit:I,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"name",children:"Full Name"}),u.jsx("input",{type:"text",id:"name",className:"form-input",value:d,onChange:F=>f(F.target.value),placeholder:"John Doe",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",className:"form-input",value:n,onChange:F=>e(F.target.value),placeholder:"you@example.com",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Password"}),u.jsx("input",{type:"password",id:"password",className:"form-input",value:t,onChange:F=>r(F.target.value),placeholder:"",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirm-password",children:"Confirm Password"}),u.jsx("input",{type:"password",id:"confirm-password",className:"form-input",value:a,onChange:F=>l(F.target.value),placeholder:"",required:!0})]}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:_,children:_?"Creating Account...":"Sign Up"})]}),u.jsx("div",{className:"auth-divider",children:u.jsx("span",{children:"OR"})}),u.jsxs("button",{onClick:D,className:"google-btn",disabled:_,children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",width:"20",height:"20",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),u.jsxs("div",{className:"auth-footer",children:["Already have an account?",u.jsx(ut,{to:"/login",className:"auth-link",children:"Login"})]})]})})},zd=n=>n?V9.includes(n):!1,yz=({onSelectVisitor:n})=>{const e=pr(),[t,r]=N.useState([]),[a,l]=N.useState(!0),[d,f]=N.useState(1),[m,g]=N.useState([]),[_,v]=N.useState(!1),[w,S]=N.useState(""),[T,I]=N.useState(null),[D,F]=N.useState([]),[z,J]=N.useState({history:[null],currentPageIndex:0}),ae=async C=>{l(!0),S("");try{const{visitors:k,lastDoc:M,hasMore:O}=await Os.getAllVisitors(C,10),B=await Os.enrichWithUserData(k);r(B),I(M),v(O)}catch(k){console.error(k),S("Failed to load.")}finally{l(!1)}};N.useEffect(()=>{ae(null)},[]);const ce=()=>{if(!_||!T)return;const C=[...z.history,T],k=z.currentPageIndex+1;J({history:C,currentPageIndex:k}),f(M=>M+1),ae(T)},pe=()=>{if(z.currentPageIndex===0)return;const C=z.history.slice(0,-1),k=z.currentPageIndex-1,M=C[k];J({history:C,currentPageIndex:k}),f(O=>O-1),ae(M)},j=C=>{if(!C)return"Never";const k=C.toDate?C.toDate():new Date(C),M=(new Date-k)/1e3;return M<60?"Just now":M<3600?`${Math.floor(M/60)}m ago`:M<86400?`${Math.floor(M/3600)}h ago`:`${Math.floor(M/86400)}d ago`};return a&&t.length===0?u.jsx("div",{style:{padding:"2rem"},children:"Loading visitors..."}):w?u.jsxs("div",{style:{padding:"2rem",color:"red"},children:[u.jsx("h3",{children:"Error Loading Analytics"}),u.jsx("p",{children:w}),u.jsx("button",{onClick:()=>ae(null),style:{marginTop:"1rem",padding:"0.5rem 1rem"},children:"Retry"})]}):u.jsxs("div",{className:"analytics-list-container",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[u.jsx("h3",{children:"Visitor Insights"}),u.jsxs("span",{className:"badge",style:{background:"var(--bg-secondary)",padding:"0.2rem 0.5rem",borderRadius:"4px",fontSize:"0.8rem"},children:["Page ",d]})]}),u.jsx("div",{style:{overflowX:"auto",minHeight:"200px"},children:u.jsxs("table",{className:"analytics-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"User / Device"}),u.jsx("th",{children:"Total Visits"}),u.jsx("th",{children:"Last Active"}),u.jsx("th",{children:"First Seen"}),u.jsx("th",{children:"Action"})]})}),u.jsxs("tbody",{children:[t.map(C=>u.jsxs("tr",{onClick:()=>{C.userId?e(`/profile/${C.userId}`):n(C)},style:{cursor:"pointer"},children:[u.jsx("td",{children:C.userData?u.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[u.jsx("span",{style:{fontWeight:"600",color:"var(--text-primary)"},children:C.userData.displayName||"Unnamed User"}),u.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-tertiary)"},children:C.userData.email})]}):u.jsxs("span",{style:{fontFamily:"monospace",color:"var(--text-secondary)"},children:["Guest (",C.deviceId.substring(0,8),"...)"]})}),u.jsx("td",{children:C.visitCount}),u.jsx("td",{style:{color:"var(--accent-primary)"},children:j(C.lastSeen)}),u.jsx("td",{children:j(C.firstSeen)}),u.jsx("td",{children:u.jsx("button",{style:{background:"var(--bg-tertiary)",border:"1px solid var(--border-light)",color:"var(--text-primary)",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},onClick:k=>{k.stopPropagation(),C.userId?e(`/profile/${C.userId}`):n(C)},children:"View"})})]},C.deviceId)),t.length===0&&!a&&u.jsx("tr",{children:u.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"2rem"},children:u.jsx("p",{children:"No visitors found."})})})]})]})}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[u.jsx("button",{onClick:pe,disabled:d===1||a,className:"log-btn",style:{width:"auto",padding:"0.5rem 1rem",background:d===1?"var(--bg-secondary)":"var(--accent-primary)"},children:"Previous"}),u.jsx("button",{onClick:ce,disabled:!_||a,className:"log-btn",style:{width:"auto",padding:"0.5rem 1rem",background:_?"var(--accent-primary)":"var(--bg-secondary)"},children:"Next"})]})]})},_z=({visitor:n,onBack:e})=>{const t=pr(),[r,a]=N.useState([]),[l,d]=N.useState(!0);N.useEffect(()=>{(async()=>{const g=n?.allDeviceIds||n?.deviceId;if(g)try{const _=await Os.getVisitorHistory(g,n.userId);a(_)}catch(_){console.error("Error loading history:",_)}finally{d(!1)}})()},[n]);const f=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleString():"Runs ago";return u.jsxs("div",{className:"analytics-detail-container",children:[u.jsx("button",{onClick:e,className:"back-btn",style:{marginBottom:"1rem",cursor:"pointer",background:"none",border:"none",color:"var(--accent-primary)"},children:" Back to List"}),u.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[u.jsx("h3",{children:"Visitor Profile"}),n.userId&&u.jsx("button",{onClick:()=>t(`/profile/${n.userId}`),style:{background:"transparent",border:"1px solid var(--accent-primary)",color:"var(--accent-primary)",padding:"0.3rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem"},children:"View Full Profile "})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{children:[u.jsx("small",{className:"label",children:"Primary Device ID"}),u.jsxs("p",{style:{fontFamily:"monospace",fontSize:"0.9rem"},children:[n.deviceId,n.allDeviceIds?.length>1&&u.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"0.8rem",color:"var(--accent-primary)"},children:["(+",n.allDeviceIds.length-1," linked)"]})]})]}),n.userData&&u.jsxs("div",{children:[u.jsx("small",{className:"label",children:"User Name"}),u.jsx("p",{className:"highlight",children:n.userData.displayName||n.userData.email})]})]}),n.userData&&u.jsxs("div",{style:{marginTop:"1rem"},children:[u.jsx("small",{className:"label",children:"Company / Phone"}),u.jsxs("p",{children:[n.userData.companyName," ",n.userData.phoneNumber&&` ${n.userData.phoneNumber}`]})]})]}),u.jsx("h3",{children:"Activity Timeline"}),l?u.jsx("p",{children:"Loading history..."}):u.jsxs("div",{className:"timeline",children:[r.map(m=>u.jsxs("div",{className:"timeline-item",style:{padding:"1rem",borderLeft:"2px solid var(--border-light)",marginLeft:"0.5rem",position:"relative"},children:[u.jsx("div",{style:{position:"absolute",left:"-6px",top:"1.2rem",width:"10px",height:"10px",borderRadius:"50%",background:m.type==="login"?"var(--accent-primary)":"var(--text-tertiary)"}}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.75rem",color:m.type==="login"?"var(--accent-primary)":"var(--text-secondary)",fontWeight:"600"},children:m.type.replace("_"," ")}),u.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-tertiary)"},children:f(m.timestamp)})]}),u.jsxs("div",{style:{fontSize:"1rem"},children:[m.type==="page_view"&&`Visited: ${m.path}`,m.type==="login"&&`Logged in via ${m.method}`]})]},m.id)),r.length===0&&u.jsx("p",{children:"No history found."})]})]})},vz=()=>{const[n,e]=N.useState("overview"),[t,r]=N.useState(null),[a,l]=N.useState({totalVisitors:0,pageViews:[],authStats:{email:0,phone:0,google:0}}),[d,f]=N.useState(!0);N.useEffect(()=>{m()},[]);const m=async()=>{try{const v=await Os.getAggregatedStats();l(v)}catch(v){console.error("Error loading analytics:",v)}finally{f(!1)}},g=v=>{r(v),e("detail")},_=()=>{e("overview"),r(null)};return d?u.jsx("div",{className:"profile-msg",children:"Loading analytics..."}):n==="detail"&&t?u.jsx(_z,{visitor:t,onBack:_}):u.jsxs("div",{className:"analytics-container",children:[u.jsxs("div",{className:"analytics-grid",children:[u.jsxs("div",{className:"stat-card",style:{cursor:"pointer"},onClick:()=>console.log("Already on list view"),children:[u.jsx("h4",{className:"stat-label",children:"Total Unique Visitors"}),u.jsx("p",{className:"stat-value",children:a.totalVisitors}),u.jsx("small",{style:{color:"var(--accent-primary)"},children:"Scroll down for list "})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("h4",{className:"stat-label",children:"Total Page Views"}),u.jsx("p",{className:"stat-value",children:a.totalPageViews||0})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("h4",{className:"stat-label",children:"Signups (Email)"}),u.jsx("p",{className:"stat-value",children:a.authStats.email})]})]}),u.jsxs("div",{style:{display:"grid",gap:"2rem"},children:[u.jsx(yz,{onSelectVisitor:g}),u.jsxs("div",{className:"analytics-list-container",children:[u.jsx("h3",{children:"Most Visited Pages"}),u.jsxs("table",{className:"analytics-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Page Path"}),u.jsx("th",{children:"Views"})]})}),u.jsxs("tbody",{children:[a.pageViews.map((v,w)=>u.jsxs("tr",{children:[u.jsx("td",{children:v.id}),u.jsx("td",{children:v.count})]},w)),a.pageViews.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"2",style:{textAlign:"center",color:"var(--text-tertiary)"},children:"No page views recorded yet."})})]})]})]})]})]})},fC=({targetUserId:n,readOnly:e=!1})=>{const{currentUser:t}=is(),[r,a]=N.useState(""),[l,d]=N.useState(""),[f,m]=N.useState(""),[g,_]=N.useState(""),[v,w]=N.useState(""),[S,T]=N.useState(""),[I,D]=N.useState(null),[F,z]=N.useState(null),[J,ae]=N.useState(null),[ce,pe]=N.useState({}),[j,C]=N.useState([]),[k,M]=N.useState(!1),[O,B]=N.useState({text:"",type:""}),P=zd(t?.email);N.useEffect(()=>{n&&(ht(n),P&&qe(n))},[n]);const qe=async le=>{try{const Ae=await Os.getUserHistory(le);C(Ae)}catch(Ae){console.error(Ae)}},ht=async le=>{try{M(!0);const Ae=Us(_t,"users",le),Ue=await Vd(Ae);if(Ue.exists()){const V=Ue.data();a(V.displayName||""),d(V.email||""),m(V.photoURL||""),_(V.phoneNumber||""),w(V.companyName||""),T(V.requirements||""),D(V.audit||null),le===t?.uid&&(V.displayName||a(t.displayName||""),V.email||d(t.email||""),V.photoURL||m(t.photoURL||"")),pe({displayName:V.displayName||r,phoneNumber:V.phoneNumber||g,companyName:V.companyName||v,requirements:V.requirements||S})}else le===t?.uid?(a(t.displayName||""),d(t.email||""),_(t.phoneNumber||""),m(t.photoURL||""),pe({displayName:t.displayName||"",phoneNumber:t.phoneNumber||"",companyName:"",requirements:""})):B({text:"User profile not found.",type:"error"})}catch(Ae){console.error("Error fetching user profile:",Ae),B({text:"Failed to load profile.",type:"error"})}finally{M(!1)}},Z=async le=>{const Ae=le.target.files[0];if(Ae){M(!0);try{const Ue=C9(cC,`users/${n}/profile_${Date.now()}`);await A9(Ue,Ae);const V=await R9(Ue);m(V),B({text:"Image uploaded. Click Save to apply.",type:"success"})}catch(Ue){console.error(Ue),B({text:"Failed to upload image.",type:"error"})}finally{M(!1)}}},de=async le=>{if(le.preventDefault(),!e){M(!0),B({text:"",type:""});try{t&&t.uid===n&&t.displayName!==r&&await sA(t,{displayName:r});const Ae=Us(_t,"users",n);await zv(Ae,{displayName:r,email:l,photoURL:f,phoneNumber:g,companyName:v,requirements:S,updatedAt:new Date},{merge:!0}),pe({displayName:r,phoneNumber:g,companyName:v,requirements:S}),B({text:"Profile updated successfully!",type:"success"})}catch(Ae){B({text:`Error: ${Ae.message}`,type:"error"})}finally{M(!1)}}};return k&&!r?u.jsx("div",{children:"Loading profile..."}):u.jsxs("div",{className:"card",children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[u.jsxs("div",{style:{position:"relative"},children:[u.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"var(--bg-secondary)",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid var(--accent-primary)"},children:f?u.jsx("img",{src:f,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):u.jsx("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--text-secondary)"},children:r?r.charAt(0).toUpperCase():"?"})}),!e&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",id:"profile-upload",accept:"image/*",style:{display:"none"},onChange:Z}),u.jsx("label",{htmlFor:"profile-upload",style:{position:"absolute",bottom:"-5px",right:"-5px",background:"var(--bg-card)",border:"1px solid var(--border-light)",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"0.8rem",color:"var(--text-primary)"},children:""})]})]}),u.jsxs("div",{children:[u.jsx("h3",{style:{margin:0},children:e?"User Profile Information":"Business Profile & Requirements"}),e&&u.jsx("p",{style:{margin:0,color:"var(--text-tertiary)",fontSize:"0.9rem"},children:"Viewing as Admin"})]})]}),u.jsxs("form",{onSubmit:de,className:"activity-form",children:[u.jsx("div",{className:"form-row",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Full Name"}),u.jsx("input",{type:"text",className:"activity-input",value:r,onChange:le=>a(le.target.value),placeholder:"User Name",disabled:e})]})}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email Address"}),u.jsx("input",{type:"email",className:"activity-input",value:l,disabled:!0,style:{opacity:.7,cursor:"not-allowed"}})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Phone Number"}),u.jsx("input",{type:"tel",className:"activity-input",value:g,onChange:le=>_(le.target.value),placeholder:"+1 234 567 890",disabled:e})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Company / Organization Name"}),u.jsx("input",{type:"text",className:"activity-input",value:v,onChange:le=>w(le.target.value),placeholder:"Company Name",disabled:e})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Business Requirements / Notes"}),u.jsx("textarea",{className:"activity-input textarea",value:S,onChange:le=>T(le.target.value),placeholder:e?"No requirements listed.":"Tell us about your audit results or project needs...",rows:5,disabled:e})]}),I&&u.jsxs("div",{style:{marginTop:"2rem",marginBottom:"2rem",padding:"1.5rem",background:"var(--bg-primary)",border:"1px solid var(--border-light)",borderRadius:"8px"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[u.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Tech Audit Report"}),u.jsxs("span",{style:{background:I.score>=40?"#22c55e20":I.score>=20?"#fbbf2420":"#ef444420",color:I.score>=40?"#22c55e":I.score>=20?"#fbbf24":"#ef4444",padding:"0.25rem 0.75rem",borderRadius:"1rem",fontSize:"0.9rem",fontWeight:"bold"},children:["Score: ",I.score,"/",I.maxScore]})]}),u.jsxs("p",{style:{fontWeight:"bold",color:"var(--text-primary)",marginBottom:"0.5rem"},children:["Status: ",I.status]}),u.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.95rem",fontStyle:"italic"},children:['"',I.summary,'"']}),I.answers&&u.jsxs("div",{style:{marginTop:"1rem",borderTop:"1px solid var(--border-light)",paddingTop:"1rem"},children:[u.jsx("small",{style:{color:"var(--text-tertiary)",display:"block",marginBottom:"0.5rem"},children:"DETAILS:"}),u.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:Object.entries(I.answers).map(([le,Ae])=>u.jsxs("li",{style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:[u.jsxs("span",{style:{color:"var(--text-secondary)",textTransform:"capitalize"},children:[le,":"]})," ",u.jsx("span",{style:{color:"var(--text-primary)"},children:Ae})]},le))})]}),u.jsxs("div",{style:{marginTop:"1rem",fontSize:"0.8rem",color:"var(--text-tertiary)"},children:["Completed: ",new Date(I.completedAt).toLocaleDateString()]})]}),!e&&u.jsx("button",{type:"submit",className:"log-btn",disabled:k||ce.displayName===r&&ce.phoneNumber===g&&ce.companyName===v&&ce.requirements===S,style:{opacity:ce.displayName===r&&ce.phoneNumber===g&&ce.companyName===v&&ce.requirements===S?.5:1,cursor:ce.displayName===r&&ce.phoneNumber===g&&ce.companyName===v&&ce.requirements===S?"not-allowed":"pointer"},children:k?"Saving Profile...":"Save Profile"}),O.text&&u.jsx("p",{className:`profile-msg ${O.type}`,children:O.text})]}),P&&u.jsxs("div",{style:{marginTop:"3rem",borderTop:"1px solid var(--border-light)",paddingTop:"2rem"},children:[u.jsx("h3",{style:{marginBottom:"1rem"},children:"User Activity History"}),u.jsxs("div",{className:"timeline",children:[j.length===0&&u.jsx("p",{style:{color:"var(--text-tertiary)"},children:"No recorded activity."}),j.map(le=>u.jsxs("div",{className:"timeline-item",style:{padding:"1rem",borderLeft:"2px solid var(--border-light)",marginLeft:"0.5rem",position:"relative"},children:[u.jsx("div",{style:{position:"absolute",left:"-6px",top:"1.2rem",width:"10px",height:"10px",borderRadius:"50%",background:le.type==="login"?"var(--accent-primary)":"var(--text-tertiary)"}}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[u.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.75rem",color:le.type==="login"?"var(--accent-primary)":"var(--text-secondary)",fontWeight:"600"},children:le.type.replace("_"," ")}),u.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-tertiary)"},children:le.timestamp?.toDate?le.timestamp.toDate().toLocaleString():new Date(le.timestamp).toLocaleString()})]}),u.jsxs("div",{style:{fontSize:"1rem"},children:[le.type==="page_view"&&`Visited: ${le.path}`,le.type==="login"&&`Logged in via ${le.method}`]})]},le.id))]})]})]})},At={REQUESTED:"Strategy Call Requested",SCHEDULED:"Strategy Call Scheduled",PAYMENT_PENDING:"Payment Pending",ADVANCE_RECEIVED:"Advance Received",IN_PROGRESS:"In Progress",COMPLETED:"Completed",CANCELLED:"Cancelled"},Ir={PENDING:"Pending",IN_PROGRESS:"In Progress",COMPLETED:"Completed"},mi={ADMIN:"admin",CLIENT:"client"},Kr="projects",Pn={createProject:async n=>{try{return(await rd(Dn(_t,Kr),{...n,status:At.REQUESTED,isLocked:!1,createdAt:Eu(),updatedAt:Eu()})).id}catch(e){throw console.error("Error creating project:",e),e}},getProjects:async(n,e=!1)=>{try{let t;return e?t=Xr(Dn(_t,Kr),Lu("createdAt","desc")):t=Xr(Dn(_t,Kr),xd("clientId","==",n)),(await ho(t)).docs.map(a=>({id:a.id,...a.data()}))}catch(t){throw console.error("Error fetching projects:",t),t}},getPublicProjects:async()=>{try{const n=Xr(Dn(_t,Kr),xd("isPublic","==",!0),Lu("createdAt","desc"));return(await ho(n)).docs.map(t=>({id:t.id,...t.data()}))}catch(n){throw console.error("Error fetching public projects:",n),n}},getProjectById:async n=>{try{const e=Us(_t,Kr,n),t=await Vd(e);if(t.exists())return{id:t.id,...t.data()};throw new Error("Project not found")}catch(e){throw console.error("Error fetching project:",e),e}},updateProject:async(n,e)=>{try{const t=Us(_t,Kr,n);await MS(t,{...e,updatedAt:Eu()})}catch(t){throw console.error("Error updating project:",t),t}},addTask:async(n,e)=>{try{const t=Dn(_t,Kr,n,"tasks");await rd(t,{...e,createdAt:Eu()})}catch(t){throw console.error("Error adding task:",t),t}},addComment:async(n,e)=>{try{const t=Dn(_t,Kr,n,"comments");await rd(t,{...e,createdAt:Eu()})}catch(t){throw console.error("Error adding comment:",t),t}},subscribeToComments:(n,e)=>{const t=Xr(Dn(_t,Kr,n,"comments"),Lu("createdAt","asc"));return LS(t,r=>{const a=r.docs.map(l=>({id:l.id,...l.data()}));e(a)})},subscribeToTasks:(n,e)=>{const t=Xr(Dn(_t,Kr,n,"tasks"),Lu("createdAt","asc"));return LS(t,r=>{const a=r.docs.map(l=>({id:l.id,...l.data()}));e(a)})},updateTask:async(n,e,t)=>{try{const r=Us(_t,Kr,n,"tasks",e);await MS(r,t)}catch(r){throw console.error("Error updating task:",r),r}}},bz=({onClose:n,onProjectCreated:e})=>{const[t,r]=N.useState(1),[a,l]=N.useState(""),[d,f]=N.useState(null),[m,g]=N.useState("idle"),[_,v]=N.useState({title:"",requirements:"",estimatedCost:"",adminNotes:""}),[w,S]=N.useState(!1),[T,I]=N.useState(null),D=async z=>{if(z.preventDefault(),!!a){g("searching"),f(null);try{const J=Xr(Dn(_t,"users"),xd("email","==",a)),ae=await ho(J);if(ae.empty)g("not-found");else{const ce=ae.docs[0];f({id:ce.id,...ce.data()}),g("found")}}catch(J){console.error("Search error:",J),g("not-found")}}},F=async z=>{if(z.preventDefault(),!!d){S(!0),I(null);try{const J={title:_.title,requirements:_.requirements,estimatedCost:Number(_.estimatedCost),adminNotes:_.adminNotes,clientId:d.id,clientEmail:d.email,clientName:d.displayName||"Client",isPublic:!1};await Pn.createProject(J),e(),n()}catch(J){I(J.message),S(!1)}}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(5px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:u.jsxs("div",{style:{background:"#111",border:"1px solid #333",borderRadius:"16px",width:"90%",maxWidth:"600px",padding:"2rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2rem"},children:[u.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:t===1?"1. Select Client":"2. Project Details"}),u.jsx("button",{onClick:n,style:{background:"transparent",border:"none",color:"#666",cursor:"pointer"},children:u.jsx(tm,{size:24})})]}),t===1&&u.jsxs("div",{children:[u.jsxs("form",{onSubmit:D,style:{display:"flex",gap:"10px",marginBottom:"1.5rem"},children:[u.jsx("input",{type:"email",placeholder:"Search Client Email...",value:a,onChange:z=>l(z.target.value),style:{flex:1,padding:"12px",borderRadius:"8px",background:"#222",border:"1px solid #444",color:"#fff"}}),u.jsx("button",{type:"submit",style:{padding:"0 20px",borderRadius:"8px",background:"var(--accent-primary)",border:"none",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center"},children:u.jsx(p2,{size:18})})]}),m==="searching"&&u.jsx("p",{style:{color:"#888"},children:"Searching..."}),m==="not-found"&&u.jsxs("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",display:"flex",gap:"10px"},children:[u.jsx(rO,{size:20}),u.jsx("span",{children:"User not found in 'users' collection. Ask them to sign up first."})]}),m==="found"&&d&&u.jsxs("div",{style:{padding:"1rem",background:"rgba(34, 197, 94, 0.1)",border:"1px solid #22c55e",borderRadius:"8px",marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{children:[u.jsx("h4",{style:{color:"#fff",marginBottom:"4px"},children:d.displayName||"Unknown Name"}),u.jsx("p",{style:{color:"#22c55e",fontSize:"0.9rem"},children:d.email})]}),u.jsx("div",{style:{background:"#22c55e",padding:"4px",borderRadius:"50%"},children:u.jsx(em,{size:16,color:"#000"})})]}),d&&u.jsx("button",{onClick:()=>r(2),style:{width:"100%",padding:"14px",borderRadius:"8px",background:"#fff",color:"#000",border:"none",fontWeight:"bold",cursor:"pointer"},children:"Continue "})]}),t===2&&u.jsxs("form",{onSubmit:F,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",color:"#888",fontSize:"0.9rem",marginBottom:"6px"},children:"Project Title"}),u.jsx("input",{required:!0,value:_.title,onChange:z=>v({..._,title:z.target.value}),placeholder:"e.g. E-commerce Platform Redesign",style:{width:"100%",padding:"12px",borderRadius:"8px",background:"#222",border:"1px solid #444",color:"#fff"}})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",color:"#888",fontSize:"0.9rem",marginBottom:"6px"},children:"Client (Locked)"}),u.jsx("input",{disabled:!0,value:d?.email,style:{width:"100%",padding:"12px",borderRadius:"8px",background:"#1a1a1a",border:"1px solid #333",color:"#666"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",color:"#888",fontSize:"0.9rem",marginBottom:"6px"},children:"Est. Cost (INR)"}),u.jsx("input",{type:"number",required:!0,value:_.estimatedCost,onChange:z=>v({..._,estimatedCost:z.target.value}),placeholder:"50000",style:{width:"100%",padding:"12px",borderRadius:"8px",background:"#222",border:"1px solid #444",color:"#fff"}})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",color:"#888",fontSize:"0.9rem",marginBottom:"6px"},children:"Initial Requirements (Public to Client)"}),u.jsx("textarea",{required:!0,rows:4,value:_.requirements,onChange:z=>v({..._,requirements:z.target.value}),placeholder:"Describe the scope, deliverables, and goals...",style:{width:"100%",padding:"12px",borderRadius:"8px",background:"#222",border:"1px solid #444",color:"#fff",fontSize:"1rem",fontFamily:"inherit"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",color:"#888",fontSize:"0.9rem",marginBottom:"6px"},children:"Admin Notes (Private)"}),u.jsx("textarea",{rows:2,value:_.adminNotes,onChange:z=>v({..._,adminNotes:z.target.value}),placeholder:"Internal notes about budget flexibility, risks, etc.",style:{width:"100%",padding:"12px",borderRadius:"8px",background:"#222",border:"1px solid #444",color:"#fff",fontFamily:"inherit"}})]}),T&&u.jsxs("p",{style:{color:"#ef4444",fontSize:"0.9rem"},children:["Error: ",T]}),u.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[u.jsx("button",{type:"button",onClick:()=>r(1),style:{flex:1,padding:"14px",borderRadius:"8px",background:"transparent",border:"1px solid #333",color:"#fff",cursor:"pointer"},children:"Back"}),u.jsx("button",{type:"submit",disabled:w,style:{flex:2,padding:"14px",borderRadius:"8px",background:w?"#555":"var(--accent-primary)",color:"#fff",border:"none",fontWeight:"bold",cursor:w?"not-allowed":"pointer"},children:w?"Creating...":"Start Project"})]})]})]})})},d0=n=>{switch(n){case At.REQUESTED:return"#fbbf24";case At.SCHEDULED:return"#3b82f6";case At.PAYMENT_PENDING:return"#f59e0b";case At.IN_PROGRESS:return"#8b5cf6";case At.COMPLETED:return"#10b981";case At.CANCELLED:return"#ef4444";default:return"#666"}},xz=()=>{const n=pr(),[e,t]=N.useState([]),[r,a]=N.useState(!0),[l,d]=N.useState(!1),[f,m]=N.useState("ALL");N.useEffect(()=>{g()},[]);const g=async()=>{a(!0);try{const v=await Pn.getProjects(null,!0);t(v)}catch(v){console.error("Error fetching projects:",v)}finally{a(!1)}},_=f==="ALL"?e:e.filter(v=>v.status===f);return u.jsxs("div",{style:{padding:"20px"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[u.jsxs("div",{children:[u.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"5px"},children:"Project Management"}),u.jsx("p",{style:{color:"#888",fontSize:"0.9rem"},children:"Track client deliverables, calls, and payments."})]}),u.jsxs("button",{onClick:()=>d(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"#fff",color:"#000",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 12px rgba(255,255,255,0.1)"},children:[u.jsx(vp,{size:18})," New Project"]})]}),u.jsx("div",{style:{display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"10px",borderBottom:"1px solid #333",marginBottom:"2rem"},children:["ALL",At.REQUESTED,At.IN_PROGRESS,At.COMPLETED].map(v=>u.jsx("button",{onClick:()=>m(v),style:{background:"transparent",border:"none",color:f===v?"#fff":"#666",borderBottom:f===v?"2px solid #fff":"2px solid transparent",padding:"8px 4px",cursor:"pointer",fontWeight:"500"},children:v==="ALL"?"All Projects":v},v))}),r?u.jsx("div",{style:{color:"#666"},children:"Loading projects..."}):_.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"4rem",border:"1px dashed #333",borderRadius:"16px",color:"#666"},children:[u.jsx(gO,{size:48,style:{marginBottom:"1rem",opacity:.5}}),u.jsx("p",{children:"No projects found in this view."})]}):u.jsx("div",{style:{display:"grid",gap:"1rem"},children:_.map(v=>u.jsxs("div",{style:{background:"#111",border:"1px solid #222",borderRadius:"12px",padding:"1.5rem",display:"grid",gridTemplateColumns:"2fr 1.5fr  1fr auto",alignItems:"center",gap:"1rem",transition:"border-color 0.2s",cursor:"pointer"},onMouseEnter:w=>w.currentTarget.style.borderColor="#444",onMouseLeave:w=>w.currentTarget.style.borderColor="#222",children:[u.jsxs("div",{children:[u.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px",fontWeight:"600"},children:v.title}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#888",fontSize:"0.85rem"},children:[u.jsx("span",{children:v.clientName}),u.jsx("span",{children:""}),u.jsx("span",{children:v.clientEmail})]})]}),u.jsx("div",{children:u.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"600",background:`${d0(v.status)}20`,color:d0(v.status),border:`1px solid ${d0(v.status)}40`},children:v.status})}),u.jsxs("div",{style:{color:"#666",fontSize:"0.9rem",textAlign:"right"},children:["",v.estimatedCost?.toLocaleString()]}),u.jsx("div",{onClick:()=>n(`/projects/${v.id}`),style:{color:"var(--accent-primary)",fontSize:"0.9rem",fontWeight:"bold"},children:"View "})]},v.id))}),l&&u.jsx(bz,{onClose:()=>d(!1),onProjectCreated:()=>{g()}})]})},wz=({userId:n})=>{const e=pr(),[t,r]=N.useState([]),[a,l]=N.useState(!0),[d,f]=N.useState(null);N.useEffect(()=>{n&&m()},[n]);const m=async()=>{try{l(!0);const g=await Pn.getProjects(n,!1);r(g)}catch(g){console.error("Error fetching projects:",g),f("Failed to load projects. "+g.message)}finally{l(!1)}};return a?u.jsx("div",{style:{color:"#666",marginTop:"1rem"},children:"Loading projects..."}):d?u.jsx("div",{style:{color:"#ef4444",marginTop:"1rem"},children:d}):t.length===0?null:u.jsxs("div",{style:{marginTop:"2rem",borderTop:"1px solid var(--border-light)",paddingTop:"2rem"},children:[u.jsxs("h3",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"10px"},children:[u.jsx(YD,{size:20,color:"var(--accent-primary)"}),"My Projects"]}),u.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(g=>u.jsxs("div",{onClick:()=>e(`/projects/${g.id}`),style:{background:"var(--bg-secondary)",border:"1px solid var(--border-light)",borderRadius:"12px",padding:"1.5rem",cursor:"pointer",transition:"0.2s",display:"flex",justifyContent:"space-between",alignItems:"center"},onMouseEnter:_=>_.currentTarget.style.borderColor="var(--accent-primary)",onMouseLeave:_=>_.currentTarget.style.borderColor="var(--border-light)",children:[u.jsxs("div",{children:[u.jsx("h4",{style:{margin:"0 0 6px 0",fontSize:"1.1rem"},children:g.title}),u.jsxs("div",{style:{display:"flex",gap:"1rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:[u.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[u.jsx(k_,{size:14})," Updated: ",g.updatedAt?.toDate?g.updatedAt.toDate().toLocaleDateString():"Recently"]}),u.jsx("span",{children:""}),u.jsx("span",{style:{color:g.status===At.COMPLETED?"#10b981":"var(--accent-primary)",fontWeight:"500"},children:g.status})]})]}),u.jsx("div",{style:{color:"var(--text-tertiary)"},children:u.jsx(c2,{size:24})})]},g.id))})]})},Ez=()=>{const{currentUser:n}=is(),e=zd(n?.email),[t,r]=Do.useState("projects");return e?u.jsxs("div",{className:"dashboard-container",children:[u.jsxs("div",{className:"dashboard-header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[u.jsxs("div",{className:"user-welcome",children:[u.jsx("h1",{children:"Admin Dashboard"}),u.jsx("p",{className:"user-email",children:"Analytics & Insights"})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[u.jsx("button",{onClick:()=>r("projects"),style:{padding:"8px 16px",borderRadius:"8px",background:t==="projects"?"#fff":"transparent",color:t==="projects"?"#000":"#888",border:"1px solid #333",cursor:"pointer",fontWeight:"bold"},children:"Projects"}),u.jsx("button",{onClick:()=>r("analytics"),style:{padding:"8px 16px",borderRadius:"8px",background:t==="analytics"?"#fff":"transparent",color:t==="analytics"?"#000":"#888",border:"1px solid #333",cursor:"pointer",fontWeight:"bold"},children:"Analytics"})]})]}),t==="analytics"?u.jsx(vz,{}):u.jsx(xz,{})]}):u.jsxs("div",{className:"dashboard-container",children:[u.jsx("div",{className:"dashboard-header",children:u.jsxs("div",{className:"user-welcome",children:[u.jsxs("h1",{children:["Welcome, ",n?.displayName||"User"]}),u.jsx("p",{className:"user-email",children:"Complete your profile to help us serve you better."})]})}),u.jsxs("div",{className:"dashboard-grid single-column",children:[u.jsx(wz,{userId:n?.uid}),u.jsx(fC,{targetUserId:n?.uid,readOnly:!1})]})]})},Sz=()=>{const{userId:n}=T_(),{currentUser:e}=is(),t=e?.uid===n,r=zd(e?.email);return!t&&!r?u.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[u.jsx("h2",{children:"Access Denied"}),u.jsx("p",{children:"You do not have permission to view this profile."})]}):u.jsxs("div",{className:"dashboard-container",children:[u.jsx("div",{className:"dashboard-header",children:u.jsxs("div",{className:"user-welcome",children:[u.jsx("button",{onClick:()=>window.history.back(),style:{background:"none",border:"none",cursor:"pointer",marginBottom:"1rem",padding:"0",color:"var(--text-secondary)"},children:" Back"}),u.jsx("h1",{children:"User Profile"}),u.jsxs("p",{className:"user-email",children:["ID: ",n]})]})}),u.jsx("div",{className:"dashboard-grid single-column",children:u.jsx(fC,{targetUserId:n,readOnly:!t})})]})},Cu=({children:n})=>{const{currentUser:e}=is();return e?n:u.jsx(ZT,{to:"/login"})},Tz=({project:n,role:e})=>{const[t,r]=N.useState(!1),[a,l]=N.useState({description:n.requirements||"",clientNotes:n.clientNotes||"",adminNotes:n.adminNotes||"",estimatedCost:n.estimatedCost||0,title:n.title||""}),[d,f]=N.useState(!1),m=e===mi.ADMIN,g=n.isLocked,_=async()=>{f(!0);try{await Pn.updateProject(n.id,{requirements:a.description,clientNotes:a.clientNotes,adminNotes:a.adminNotes,estimatedCost:Number(a.estimatedCost),title:a.title}),r(!1)}catch(S){console.error("Failed to update project",S),alert("Failed to update project")}finally{f(!1)}},v=async()=>{if(m)try{await Pn.updateProject(n.id,{isLocked:!g})}catch(S){console.error("Failed to toggle lock",S)}},w=m||!g;return u.jsxs("div",{style:{padding:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",alignItems:"center"},children:[u.jsx("h3",{style:{fontSize:"1.2rem",color:"#fff"},children:"Project Overview"}),u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m&&u.jsxs("button",{onClick:v,title:g?"Unlock Requirements":"Lock Requirements",style:{background:"transparent",border:"1px solid #333",color:g?"#ef4444":"#22c55e",padding:"8px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[g?u.jsx(O_,{size:16}):u.jsx(zO,{size:16}),u.jsx("span",{style:{fontSize:"0.8rem"},children:g?"Locked":"Unlocked"})]}),w&&!t&&u.jsxs("button",{onClick:()=>r(!0),style:{background:"var(--accent-primary)",border:"none",color:"#fff",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[u.jsx(s4,{size:16})," Edit"]}),t&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>r(!1),style:{background:"transparent",border:"1px solid #333",color:"#888",padding:"8px 16px",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),u.jsxs("button",{onClick:_,disabled:d,style:{background:"#10b981",border:"none",color:"#fff",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[u.jsx(l4,{size:16})," ",d?"Saving...":"Save Changes"]})]})]})]}),u.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"2rem"},children:[u.jsxs("div",{style:{flex:"1 1 600px",background:"#111",padding:"1.5rem",borderRadius:"12px",border:"1px solid #222"},children:[u.jsx("label",{style:{display:"block",color:"#888",fontSize:"0.9rem",marginBottom:"10px"},children:"Project Requirements & Scope"}),t?u.jsx("textarea",{value:a.description,onChange:S=>l({...a,description:S.target.value}),style:{width:"100%",minHeight:"300px",background:"#050505",border:"1px solid #333",color:"#ddd",padding:"1rem",borderRadius:"8px",lineHeight:"1.6",fontFamily:"inherit"}}):u.jsx("div",{style:{whiteSpace:"pre-wrap",color:"#ccc",lineHeight:"1.6"},children:n.requirements||"No requirements documented yet."})]}),u.jsxs("div",{style:{flex:"1 1 300px",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[u.jsxs("div",{style:{background:"#111",padding:"1.5rem",borderRadius:"12px",border:"1px solid #222"},children:[u.jsx("label",{style:{display:"block",color:"#888",fontSize:"0.9rem",marginBottom:"10px"},children:"Estimated Cost"}),m&&t?u.jsx("input",{type:"number",value:a.estimatedCost,onChange:S=>l({...a,estimatedCost:S.target.value}),style:{width:"100%",padding:"10px",background:"#050505",border:"1px solid #333",color:"#fff",borderRadius:"6px"}}):u.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--accent-primary)"},children:["",Number(n.estimatedCost).toLocaleString()]})]}),u.jsxs("div",{style:{background:"#111",padding:"1.5rem",borderRadius:"12px",border:"1px solid #222"},children:[u.jsx("label",{style:{display:"block",color:"#888",fontSize:"0.9rem",marginBottom:"10px"},children:"Project Notes (Visible to Client)"}),m&&t?u.jsx("textarea",{rows:4,value:a.clientNotes,onChange:S=>l({...a,clientNotes:S.target.value}),style:{width:"100%",padding:"10px",background:"#050505",border:"1px solid #333",color:"#fff",borderRadius:"6px"}}):u.jsx("p",{style:{color:"#aaa",fontSize:"0.95rem"},children:n.clientNotes||"No notes."})]}),m&&u.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.05)",padding:"1.5rem",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[u.jsx("label",{style:{display:"block",color:"#ef4444",fontSize:"0.9rem",marginBottom:"10px",fontWeight:"bold"},children:"Internal Admin Notes (Private)"}),t?u.jsx("textarea",{rows:4,value:a.adminNotes,onChange:S=>l({...a,adminNotes:S.target.value}),style:{width:"100%",padding:"10px",background:"#050505",border:"1px solid #333",color:"#fff",borderRadius:"6px"}}):u.jsx("p",{style:{color:"#aaa",fontSize:"0.95rem"},children:n.adminNotes||"No internal notes."})]})]})]})]})},Az=({projectId:n,role:e})=>{const[t,r]=N.useState([]),[a,l]=N.useState(!0),[d,f]=N.useState(!1),[m,g]=N.useState({title:"",description:"",dueDate:""}),_=e===mi.ADMIN;N.useEffect(()=>{const T=Pn.subscribeToTasks(n,I=>{r(I),l(!1)});return()=>T()},[n]);const v=async T=>{if(T.preventDefault(),!!m.title)try{await Pn.addTask(n,{...m,status:Ir.PENDING}),g({title:"",description:"",dueDate:""}),f(!1)}catch(I){console.error("Error adding task",I)}},w=async(T,I)=>{if(!_)return;let D=Ir.PENDING;I===Ir.PENDING?D=Ir.IN_PROGRESS:I===Ir.IN_PROGRESS?D=Ir.COMPLETED:I===Ir.COMPLETED&&(D=Ir.PENDING);try{await Pn.updateTask(n,T,{status:D})}catch(F){console.error("Error updating task",F)}},S=T=>{switch(T){case Ir.COMPLETED:return u.jsx(ha,{size:20,color:"#10b981"});case Ir.IN_PROGRESS:return u.jsx(k_,{size:20,color:"#3b82f6"});default:return u.jsx(aO,{size:20,color:"#666"})}};return u.jsxs("div",{style:{padding:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[u.jsxs("div",{children:[u.jsx("h3",{style:{fontSize:"1.2rem",color:"#fff"},children:"Project Plan & Tasks"}),u.jsx("p",{style:{color:"#888",fontSize:"0.9rem"},children:"Track progress of deliverables."})]}),_&&u.jsxs("button",{onClick:()=>f(!d),style:{background:"var(--accent-primary)",border:"none",color:"#fff",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[u.jsx(vp,{size:18})," Add Task"]})]}),d&&u.jsxs("form",{onSubmit:v,style:{background:"#111",padding:"1.5rem",borderRadius:"12px",border:"1px solid #333",marginBottom:"2rem"},children:[u.jsx("h4",{style:{marginBottom:"1rem",color:"#fff"},children:"New Task"}),u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsx("input",{value:m.title,onChange:T=>g({...m,title:T.target.value}),placeholder:"Task Title",autoFocus:!0,style:{padding:"10px",borderRadius:"6px",background:"#222",border:"1px solid #444",color:"#fff"}}),u.jsx("textarea",{value:m.description,onChange:T=>g({...m,description:T.target.value}),placeholder:"Description (Optional)",rows:2,style:{padding:"10px",borderRadius:"6px",background:"#222",border:"1px solid #444",color:"#fff",fontFamily:"inherit"}}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[u.jsx("button",{type:"button",onClick:()=>f(!1),style:{padding:"8px 16px",background:"transparent",color:"#888",border:"none",cursor:"pointer"},children:"Cancel"}),u.jsx("button",{type:"submit",style:{padding:"8px 16px",background:"#fff",color:"#000",borderRadius:"6px",border:"none",fontWeight:"bold",cursor:"pointer"},children:"Add Task"})]})]})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[t.length===0&&!a&&u.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#666",border:"1px dashed #333",borderRadius:"12px"},children:"No tasks created yet."}),t.map(T=>u.jsxs("div",{style:{background:"#111",border:"1px solid #222",borderRadius:"10px",padding:"1rem",display:"flex",alignItems:"flex-start",gap:"1rem",transition:"0.2s"},children:[u.jsx("button",{onClick:()=>w(T.id,T.status),disabled:!_,style:{background:"transparent",border:"none",cursor:_?"pointer":"default",padding:"0",marginTop:"2px"},children:S(T.status)}),u.jsxs("div",{style:{flex:1},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[u.jsx("h4",{style:{textDecoration:T.status===Ir.COMPLETED?"line-through":"none",color:T.status===Ir.COMPLETED?"#666":"#fff",marginBottom:"4px"},children:T.title}),u.jsx("span",{style:{fontSize:"0.8rem",padding:"2px 8px",borderRadius:"12px",background:"#222",color:"#888"},children:T.status})]}),T.description&&u.jsx("p",{style:{color:"#888",fontSize:"0.9rem"},children:T.description})]})]},T.id))]})]})},Rz=({projectId:n,currentUser:e,role:t})=>{const[r,a]=N.useState([]),[l,d]=N.useState(""),[f,m]=N.useState(!0),g=N.useRef(null);N.useEffect(()=>{const w=Pn.subscribeToComments(n,S=>{a(S),m(!1),setTimeout(()=>g.current?.scrollIntoView({behavior:"smooth"}),100)});return()=>w()},[n]);const _=async w=>{if(w.preventDefault(),!!l.trim())try{await Pn.addComment(n,{text:l,authorId:e.uid,authorName:e.displayName||"User",authorRole:t}),d("")}catch(S){console.error("Error sending comment",S)}},v=w=>w?new Date(w.seconds*1e3).toLocaleString():"Just now";return u.jsxs("div",{style:{padding:"1rem",height:"100%",display:"flex",flexDirection:"column"},children:[u.jsxs("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1rem",minHeight:"300px",maxHeight:"600px",paddingRight:"10px"},children:[r.length===0&&!f&&u.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"2rem"},children:u.jsx("p",{children:"No messages yet. Start the conversation."})}),r.map(w=>{const S=w.authorId===e.uid,T=w.authorRole===mi.ADMIN;return u.jsxs("div",{style:{alignSelf:S?"flex-end":"flex-start",maxWidth:"80%",display:"flex",flexDirection:"column",alignItems:S?"flex-end":"flex-start"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px",fontSize:"0.8rem",color:"#888"},children:[T&&u.jsx(g4,{size:14,color:"#3b82f6"}),u.jsx("span",{style:{fontWeight:T?"bold":"normal",color:T?"#3b82f6":"#888"},children:w.authorName}),u.jsx("span",{children:""}),u.jsx("span",{children:v(w.createdAt)})]}),u.jsx("div",{style:{padding:"12px 16px",borderRadius:"12px",borderTopRightRadius:S?"2px":"12px",borderTopLeftRadius:S?"12px":"2px",background:S?"var(--accent-primary)":"#222",color:S?"#fff":"#ddd",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:w.text})]},w.id)}),u.jsx("div",{ref:g})]}),u.jsxs("form",{onSubmit:_,style:{display:"flex",gap:"10px",background:"#111",padding:"1rem",borderRadius:"12px",border:"1px solid #333"},children:[u.jsx("input",{value:l,onChange:w=>d(w.target.value),placeholder:"Type your message...",style:{flex:1,background:"transparent",border:"none",color:"#fff",outline:"none"}}),u.jsx("button",{type:"submit",disabled:!l.trim(),style:{background:l.trim()?"var(--accent-primary)":"#333",color:l.trim()?"#fff":"#666",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:l.trim()?"pointer":"default",transition:"0.2s"},children:u.jsx(m2,{size:18})})]})]})},Cz=({project:n,role:e,onReviewSubmitted:t})=>{const[r,a]=N.useState(n.review?.rating||0),[l,d]=N.useState(n.review?.text||""),[f,m]=N.useState(n.isPublic||!1),[g,_]=N.useState(n.review?.allowLinkShare||!1),[v,w]=N.useState(!1),[S,T]=N.useState(!1),I=n.review&&n.review.rating>=4,D=async F=>{F.preventDefault(),w(!0);try{const z={rating:r,text:l,allowLinkShare:g,submittedAt:new Date().toISOString()};await Pn.updateProject(n.id,{review:z,isPublic:f}),t&&t()}catch(z){console.error("Review failed",z),alert("Failed to submit review")}finally{w(!1)}};return I?u.jsxs("div",{style:{background:"#111",padding:"2rem",borderRadius:"12px",border:"1px solid #222",textAlign:"center"},children:[u.jsx("div",{style:{display:"inline-flex",padding:"1rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"50%",marginBottom:"1rem"},children:u.jsx(em,{size:32,color:"#22c55e"})}),u.jsx("h3",{style:{color:"#fff",marginBottom:"0.5rem"},children:"Thank you for your review!"}),u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"4px",marginBottom:"1rem"},children:[1,2,3,4,5].map(F=>u.jsx(Gf,{size:24,fill:F<=n.review.rating?"#fbbf24":"none",color:F<=n.review.rating?"#fbbf24":"#444"},F))}),u.jsxs("p",{style:{color:"#aaa",fontStyle:"italic"},children:['"',n.review.text,'"']})]}):e===mi.ADMIN?n.review?u.jsxs("div",{style:{background:"#111",padding:"1.5rem",borderRadius:"12px",border:"1px solid #333"},children:[u.jsx("h4",{style:{color:"#fff",marginBottom:"1rem"},children:"Client Review"}),u.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"1rem"},children:[1,2,3,4,5].map(F=>u.jsx(Gf,{size:20,fill:F<=n.review.rating?"#fbbf24":"none",color:F<=n.review.rating?"#fbbf24":"#444"},F))}),u.jsx("p",{style:{color:"#ccc",marginBottom:"1rem"},children:n.review.text}),u.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.9rem",color:"#888"},children:[u.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[u.jsx(ud,{size:14,color:n.isPublic?"#22c55e":"#666"}),"Public: ",n.isPublic?"Yes":"No"]}),u.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[u.jsx(y2,{size:14,color:n.review.allowLinkShare?"#22c55e":"#666"}),"Link Share: ",n.review.allowLinkShare?"Yes":"No"]})]})]}):u.jsx("div",{style:{color:"#666",fontStyle:"italic"},children:"Client hasn't submitted a review yet."}):u.jsxs("div",{style:{background:"#111",padding:"2rem",borderRadius:"12px",border:"1px solid #222"},children:[u.jsx("h3",{style:{fontSize:"1.5rem",color:"#fff",marginBottom:"0.5rem"},children:"Project Completed"}),u.jsx("p",{style:{color:"#888",marginBottom:"2rem"},children:"Please rate your experience with Frenzo."}),u.jsxs("form",{onSubmit:D,children:[u.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"1.5rem",cursor:"pointer"},children:[1,2,3,4,5].map(F=>u.jsx(Gf,{size:32,fill:F<=r?"#fbbf24":"none",color:F<=r?"#fbbf24":"#444",onClick:()=>a(F)},F))}),u.jsx("textarea",{value:l,onChange:F=>d(F.target.value),placeholder:"What did you like? How can we improve?",rows:4,style:{width:"100%",padding:"1rem",background:"#050505",border:"1px solid #333",borderRadius:"8px",color:"#fff",marginBottom:"1.5rem",fontFamily:"inherit"}}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"2rem"},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#ccc",cursor:"pointer"},children:[u.jsx("input",{type:"checkbox",checked:f,onChange:F=>m(F.target.checked),style:{width:"18px",height:"18px",accentColor:"var(--accent-primary)"}}),u.jsx("span",{children:"Allow Frenzo to showcase this project publicly"})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#ccc",cursor:"pointer"},children:[u.jsx("input",{type:"checkbox",checked:g,onChange:F=>_(F.target.checked),style:{width:"18px",height:"18px",accentColor:"var(--accent-primary)"}}),u.jsx("span",{children:"Allow sharing project link in portfolio"})]})]}),u.jsx("button",{type:"submit",disabled:v||r===0,style:{width:"100%",padding:"14px",background:v||r===0?"#333":"var(--accent-primary)",color:"#fff",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:v||r===0?"default":"pointer"},children:v?"Submitting...":"Submit Review"})]})]})},Iz=({status:n})=>{const e=a=>{switch(a){case At.REQUESTED:return{bg:"#fbbf24",text:"#000"};case At.SCHEDULED:return{bg:"#3b82f6",text:"#fff"};case At.IN_PROGRESS:return{bg:"#8b5cf6",text:"#fff"};case At.COMPLETED:return{bg:"#10b981",text:"#fff"};case At.CANCELLED:return{bg:"#ef4444",text:"#fff"};default:return{bg:"#333",text:"#888"}}},{bg:t,text:r}=e(n);return u.jsx("span",{style:{background:t,color:r,padding:"4px 12px",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold",textTransform:"uppercase"},children:n})},jz=()=>{const{projectId:n}=T_(),{currentUser:e}=is(),t=pr(),[r,a]=N.useState(null),[l,d]=N.useState(!0),[f,m]=N.useState("overview"),[g,_]=N.useState(null),v=zd(e?.email)?mi.ADMIN:mi.CLIENT;return N.useEffect(()=>{e&&(async()=>{try{const S=await Pn.getProjectById(n);if(v===mi.CLIENT&&S.clientId!==e.uid)throw new Error("Unauthorized access");a(S)}catch(S){console.error("Error loading project",S),_("Project not found or access denied.")}finally{d(!1)}})()},[n,e,v]),l?u.jsx("div",{className:"loading-screen",children:"Loading Project..."}):g?u.jsxs("div",{style:{padding:"4rem",textAlign:"center",color:"#fff"},children:[u.jsx("h2",{children:"Error"}),u.jsx("p",{children:g}),u.jsx("button",{onClick:()=>t("/dashboard"),style:{marginTop:"1rem",padding:"10px 20px",background:"var(--accent-primary)",border:"none",color:"#fff",borderRadius:"8px"},children:"Back to Dashboard"})]}):u.jsxs("div",{style:{minHeight:"100vh",background:"#050505",color:"#fff",paddingBottom:"4rem",paddingTop:"var(--header-height)"},children:[u.jsx("div",{style:{background:"#111",borderBottom:"1px solid #222",padding:"1.5rem 2rem"},children:u.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs(ut,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"6px",color:"#888",textDecoration:"none",marginBottom:"1rem",fontSize:"0.9rem"},children:[u.jsx(a2,{size:16})," Back to Dashboard"]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsxs("h1",{style:{fontSize:"2rem",marginBottom:"8px",display:"flex",alignItems:"center",gap:"12px"},children:[r.title,r.isLocked&&u.jsx("span",{title:"Requirements Locked",style:{fontSize:"1.2rem"},children:""})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",fontSize:"0.9rem",color:"#888"},children:[v===mi.ADMIN?u.jsx("select",{value:r.status,onChange:async w=>{const S=w.target.value;try{await Pn.updateProject(r.id,{status:S}),a(T=>({...T,status:S}))}catch(T){console.error("Status update failed",T),alert("Failed to update status")}},style:{background:"#333",color:"#fff",border:"none",padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:Object.values(At).map(w=>u.jsx("option",{value:w,children:w},w))}):u.jsx(Iz,{status:r.status}),u.jsxs("span",{children:["ID: ",r.id.substring(0,8)]}),v===mi.ADMIN&&u.jsxs("span",{style:{color:"var(--accent-primary)"},children:["Client: ",r.clientName]})]})]}),u.jsxs("div",{style:{width:"200px"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"#888",marginBottom:"4px"},children:[u.jsx("span",{children:"Completion"}),u.jsx("span",{children:r.status===At.COMPLETED?"100%":r.status===At.IN_PROGRESS?"40%":"10%"})]}),u.jsx("div",{style:{width:"100%",height:"6px",background:"#333",borderRadius:"3px",overflow:"hidden"},children:u.jsx("div",{style:{width:r.status===At.COMPLETED?"100%":r.status===At.IN_PROGRESS?"40%":"10%",height:"100%",background:"var(--accent-primary)"}})})]})]})]})}),r.status===At.COMPLETED&&u.jsx("div",{style:{maxWidth:"1200px",margin:"2rem auto 0",padding:"0 2rem"},children:u.jsx(Cz,{project:r,role:v,onReviewSubmitted:()=>a(w=>({...w,isPublic:w.isPublic}))})}),u.jsx("div",{style:{borderBottom:"1px solid #222",background:"#0a0a0a",position:"sticky",top:0,zIndex:10},children:u.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",gap:"2rem",padding:"0 2rem",overflowX:"auto",whiteSpace:"nowrap"},children:[{id:"overview",label:"Overview",icon:u.jsx(P_,{size:18})},{id:"tasks",label:"Plan & Tasks",icon:u.jsx(PO,{size:18})},{id:"discussion",label:"Discussion",icon:u.jsx(I0,{size:18})}].map(w=>u.jsxs("button",{onClick:()=>m(w.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"1rem 0",background:"transparent",border:"none",color:f===w.id?"#fff":"#666",borderBottom:f===w.id?"2px solid var(--accent-primary)":"2px solid transparent",cursor:"pointer",fontWeight:"500"},children:[w.icon," ",w.label]},w.id))})}),u.jsxs("div",{style:{maxWidth:"1200px",margin:"2rem auto",padding:"0 2rem"},children:[f==="overview"&&u.jsx(Tz,{project:r,role:v}),f==="tasks"&&u.jsx(Az,{projectId:r.id,role:v}),f==="discussion"&&u.jsx(Rz,{projectId:r.id,currentUser:e,role:v})]})]})},kz=()=>{const n=rs(),{currentUser:e,loading:t}=is(),r=N.useRef({path:"",time:0});return N.useEffect(()=>{if(t||e&&zd(e.email))return;const a=Date.now(),l=r.current.path===n.pathname,d=a-r.current.time<1e3;l&&d||(r.current={path:n.pathname,time:a},Os.logPageView(n.pathname,e?.uid))},[n,e,t]),null};function pC(n,e){return function(){return n.apply(e,arguments)}}const{toString:Nz}=Object.prototype,{getPrototypeOf:Gv}=Object,{iterator:Rm,toStringTag:mC}=Symbol,Cm=(n=>e=>{const t=Nz.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),as=n=>(n=n.toLowerCase(),e=>Cm(e)===n),Im=n=>e=>typeof e===n,{isArray:dc}=Array,tc=Im("undefined");function Ud(n){return n!==null&&!tc(n)&&n.constructor!==null&&!tc(n.constructor)&&Kn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const gC=as("ArrayBuffer");function Dz(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&gC(n.buffer),e}const Oz=Im("string"),Kn=Im("function"),yC=Im("number"),Bd=n=>n!==null&&typeof n=="object",Pz=n=>n===!0||n===!1,sp=n=>{if(Cm(n)!=="object")return!1;const e=Gv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(mC in n)&&!(Rm in n)},Mz=n=>{if(!Bd(n)||Ud(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Lz=as("Date"),Vz=as("File"),zz=as("Blob"),Uz=as("FileList"),Bz=n=>Bd(n)&&Kn(n.pipe),Fz=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Kn(n.append)&&((e=Cm(n))==="formdata"||e==="object"&&Kn(n.toString)&&n.toString()==="[object FormData]"))},qz=as("URLSearchParams"),[Hz,$z,Wz,Gz]=["ReadableStream","Request","Response","Headers"].map(as),Kz=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fd(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,a;if(typeof n!="object"&&(n=[n]),dc(n))for(r=0,a=n.length;r<a;r++)e.call(null,n[r],r,n);else{if(Ud(n))return;const l=t?Object.getOwnPropertyNames(n):Object.keys(n),d=l.length;let f;for(r=0;r<d;r++)f=l[r],e.call(null,n[f],f,n)}}function _C(n,e){if(Ud(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,a;for(;r-- >0;)if(a=t[r],e===a.toLowerCase())return a;return null}const po=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vC=n=>!tc(n)&&n!==po;function n_(){const{caseless:n,skipUndefined:e}=vC(this)&&this||{},t={},r=(a,l)=>{const d=n&&_C(t,l)||l;sp(t[d])&&sp(a)?t[d]=n_(t[d],a):sp(a)?t[d]=n_({},a):dc(a)?t[d]=a.slice():(!e||!tc(a))&&(t[d]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Fd(arguments[a],r);return t}const Yz=(n,e,t,{allOwnKeys:r}={})=>(Fd(e,(a,l)=>{t&&Kn(a)?Object.defineProperty(n,l,{value:pC(a,t),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(n,l,{value:a,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),n),Qz=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Xz=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Jz=(n,e,t,r)=>{let a,l,d;const f={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)d=a[l],(!r||r(d,n,e))&&!f[d]&&(e[d]=n[d],f[d]=!0);n=t!==!1&&Gv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Zz=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},eU=n=>{if(!n)return null;if(dc(n))return n;let e=n.length;if(!yC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},tU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Gv(Uint8Array)),nU=(n,e)=>{const r=(n&&n[Rm]).call(n);let a;for(;(a=r.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},rU=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},sU=as("HTMLFormElement"),iU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,a){return r.toUpperCase()+a}),$S=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),aU=as("RegExp"),bC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Fd(t,(a,l)=>{let d;(d=e(a,l,n))!==!1&&(r[l]=d||a)}),Object.defineProperties(n,r)},oU=n=>{bC(n,(e,t)=>{if(Kn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Kn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},lU=(n,e)=>{const t={},r=a=>{a.forEach(l=>{t[l]=!0})};return dc(n)?r(n):r(String(n).split(e)),t},cU=()=>{},uU=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function dU(n){return!!(n&&Kn(n.append)&&n[mC]==="FormData"&&n[Rm])}const hU=n=>{const e=new Array(10),t=(r,a)=>{if(Bd(r)){if(e.indexOf(r)>=0)return;if(Ud(r))return r;if(!("toJSON"in r)){e[a]=r;const l=dc(r)?[]:{};return Fd(r,(d,f)=>{const m=t(d,a+1);!tc(m)&&(l[f]=m)}),e[a]=void 0,l}}return r};return t(n,0)},fU=as("AsyncFunction"),pU=n=>n&&(Bd(n)||Kn(n))&&Kn(n.then)&&Kn(n.catch),xC=((n,e)=>n?setImmediate:e?((t,r)=>(po.addEventListener("message",({source:a,data:l})=>{a===po&&l===t&&r.length&&r.shift()()},!1),a=>{r.push(a),po.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Kn(po.postMessage)),mU=typeof queueMicrotask<"u"?queueMicrotask.bind(po):typeof process<"u"&&process.nextTick||xC,gU=n=>n!=null&&Kn(n[Rm]),X={isArray:dc,isArrayBuffer:gC,isBuffer:Ud,isFormData:Fz,isArrayBufferView:Dz,isString:Oz,isNumber:yC,isBoolean:Pz,isObject:Bd,isPlainObject:sp,isEmptyObject:Mz,isReadableStream:Hz,isRequest:$z,isResponse:Wz,isHeaders:Gz,isUndefined:tc,isDate:Lz,isFile:Vz,isBlob:zz,isRegExp:aU,isFunction:Kn,isStream:Bz,isURLSearchParams:qz,isTypedArray:tU,isFileList:Uz,forEach:Fd,merge:n_,extend:Yz,trim:Kz,stripBOM:Qz,inherits:Xz,toFlatObject:Jz,kindOf:Cm,kindOfTest:as,endsWith:Zz,toArray:eU,forEachEntry:nU,matchAll:rU,isHTMLForm:sU,hasOwnProperty:$S,hasOwnProp:$S,reduceDescriptors:bC,freezeMethods:oU,toObjectSet:lU,toCamelCase:iU,noop:cU,toFiniteNumber:uU,findKey:_C,global:po,isContextDefined:vC,isSpecCompliantForm:dU,toJSONObject:hU,isAsyncFn:fU,isThenable:pU,setImmediate:xC,asap:mU,isIterable:gU};let ke=class wC extends Error{static from(e,t,r,a,l,d){const f=new wC(e.message,t||e.code,r,a,l);return f.cause=e,f.name=e.name,d&&Object.assign(f,d),f}constructor(e,t,r,a,l){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),l&&(this.response=l,this.status=l.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}};ke.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";ke.ERR_BAD_OPTION="ERR_BAD_OPTION";ke.ECONNABORTED="ECONNABORTED";ke.ETIMEDOUT="ETIMEDOUT";ke.ERR_NETWORK="ERR_NETWORK";ke.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";ke.ERR_DEPRECATED="ERR_DEPRECATED";ke.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";ke.ERR_BAD_REQUEST="ERR_BAD_REQUEST";ke.ERR_CANCELED="ERR_CANCELED";ke.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";ke.ERR_INVALID_URL="ERR_INVALID_URL";const yU=null;function r_(n){return X.isPlainObject(n)||X.isArray(n)}function EC(n){return X.endsWith(n,"[]")?n.slice(0,-2):n}function WS(n,e,t){return n?n.concat(e).map(function(a,l){return a=EC(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function _U(n){return X.isArray(n)&&!n.some(r_)}const vU=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function jm(n,e,t){if(!X.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,D){return!X.isUndefined(D[I])});const r=t.metaTokens,a=t.visitor||_,l=t.dots,d=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(a))throw new TypeError("visitor must be a function");function g(T){if(T===null)return"";if(X.isDate(T))return T.toISOString();if(X.isBoolean(T))return T.toString();if(!m&&X.isBlob(T))throw new ke("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(T)||X.isTypedArray(T)?m&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function _(T,I,D){let F=T;if(T&&!D&&typeof T=="object"){if(X.endsWith(I,"{}"))I=r?I:I.slice(0,-2),T=JSON.stringify(T);else if(X.isArray(T)&&_U(T)||(X.isFileList(T)||X.endsWith(I,"[]"))&&(F=X.toArray(T)))return I=EC(I),F.forEach(function(J,ae){!(X.isUndefined(J)||J===null)&&e.append(d===!0?WS([I],ae,l):d===null?I:I+"[]",g(J))}),!1}return r_(T)?!0:(e.append(WS(D,I,l),g(T)),!1)}const v=[],w=Object.assign(vU,{defaultVisitor:_,convertValue:g,isVisitable:r_});function S(T,I){if(!X.isUndefined(T)){if(v.indexOf(T)!==-1)throw Error("Circular reference detected in "+I.join("."));v.push(T),X.forEach(T,function(F,z){(!(X.isUndefined(F)||F===null)&&a.call(e,F,X.isString(z)?z.trim():z,I,w))===!0&&S(F,I?I.concat(z):[z])}),v.pop()}}if(!X.isObject(n))throw new TypeError("data must be an object");return S(n),e}function GS(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Kv(n,e){this._pairs=[],n&&jm(n,this,e)}const SC=Kv.prototype;SC.append=function(e,t){this._pairs.push([e,t])};SC.toString=function(e){const t=e?function(r){return e.call(this,r,GS)}:GS;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function bU(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function TC(n,e,t){if(!e)return n;const r=t&&t.encode||bU,a=X.isFunction(t)?{serialize:t}:t,l=a&&a.serialize;let d;if(l?d=l(e,a):d=X.isURLSearchParams(e)?e.toString():new Kv(e,a).toString(r),d){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+d}return n}class KS{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(r){r!==null&&e(r)})}}const AC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xU=typeof URLSearchParams<"u"?URLSearchParams:Kv,wU=typeof FormData<"u"?FormData:null,EU=typeof Blob<"u"?Blob:null,SU={isBrowser:!0,classes:{URLSearchParams:xU,FormData:wU,Blob:EU},protocols:["http","https","file","blob","url","data"]},Yv=typeof window<"u"&&typeof document<"u",s_=typeof navigator=="object"&&navigator||void 0,TU=Yv&&(!s_||["ReactNative","NativeScript","NS"].indexOf(s_.product)<0),AU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RU=Yv&&window.location.href||"http://localhost",CU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yv,hasStandardBrowserEnv:TU,hasStandardBrowserWebWorkerEnv:AU,navigator:s_,origin:RU},Symbol.toStringTag,{value:"Module"})),An={...CU,...SU};function IU(n,e){return jm(n,new An.classes.URLSearchParams,{visitor:function(t,r,a,l){return An.isNode&&X.isBuffer(t)?(this.append(r,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function jU(n){return X.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kU(n){const e={},t=Object.keys(n);let r;const a=t.length;let l;for(r=0;r<a;r++)l=t[r],e[l]=n[l];return e}function RC(n){function e(t,r,a,l){let d=t[l++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),m=l>=t.length;return d=!d&&X.isArray(a)?a.length:d,m?(X.hasOwnProp(a,d)?a[d]=[a[d],r]:a[d]=r,!f):((!a[d]||!X.isObject(a[d]))&&(a[d]=[]),e(t,r,a[d],l)&&X.isArray(a[d])&&(a[d]=kU(a[d])),!f)}if(X.isFormData(n)&&X.isFunction(n.entries)){const t={};return X.forEachEntry(n,(r,a)=>{e(jU(r),a,t,0)}),t}return null}function NU(n,e,t){if(X.isString(n))try{return(e||JSON.parse)(n),X.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const qd={transitional:AC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,l=X.isObject(e);if(l&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return a?JSON.stringify(RC(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return IU(e,this.formSerializer).toString();if((f=X.isFileList(e))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return jm(f?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),NU(e)):e}],transformResponse:[function(e){const t=this.transitional||qd.transitional,r=t&&t.forcedJSONParsing,a=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(r&&!this.responseType||a)){const d=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(f){if(d)throw f.name==="SyntaxError"?ke.from(f,ke.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],n=>{qd.headers[n]={}});const DU=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OU=n=>{const e={};let t,r,a;return n&&n.split(`
`).forEach(function(d){a=d.indexOf(":"),t=d.substring(0,a).trim().toLowerCase(),r=d.substring(a+1).trim(),!(!t||e[t]&&DU[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},YS=Symbol("internals");function Iu(n){return n&&String(n).trim().toLowerCase()}function ip(n){return n===!1||n==null?n:X.isArray(n)?n.map(ip):String(n)}function PU(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const MU=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function h0(n,e,t,r,a){if(X.isFunction(r))return r.call(this,e,t);if(a&&(e=t),!!X.isString(e)){if(X.isString(r))return e.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(e)}}function LU(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function VU(n,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(a,l,d){return this[r].call(this,e,a,l,d)},configurable:!0})})}let Yn=class{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function l(f,m,g){const _=Iu(m);if(!_)throw new Error("header name must be a non-empty string");const v=X.findKey(a,_);(!v||a[v]===void 0||g===!0||g===void 0&&a[v]!==!1)&&(a[v||m]=ip(f))}const d=(f,m)=>X.forEach(f,(g,_)=>l(g,_,m));if(X.isPlainObject(e)||e instanceof this.constructor)d(e,t);else if(X.isString(e)&&(e=e.trim())&&!MU(e))d(OU(e),t);else if(X.isObject(e)&&X.isIterable(e)){let f={},m,g;for(const _ of e){if(!X.isArray(_))throw TypeError("Object iterator must return a key-value pair");f[g=_[0]]=(m=f[g])?X.isArray(m)?[...m,_[1]]:[m,_[1]]:_[1]}d(f,t)}else e!=null&&l(t,e,r);return this}get(e,t){if(e=Iu(e),e){const r=X.findKey(this,e);if(r){const a=this[r];if(!t)return a;if(t===!0)return PU(a);if(X.isFunction(t))return t.call(this,a,r);if(X.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Iu(e),e){const r=X.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||h0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let a=!1;function l(d){if(d=Iu(d),d){const f=X.findKey(r,d);f&&(!t||h0(r,r[f],f,t))&&(delete r[f],a=!0)}}return X.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const l=t[r];(!e||h0(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,r={};return X.forEach(this,(a,l)=>{const d=X.findKey(r,l);if(d){t[d]=ip(a),delete t[l];return}const f=e?LU(l):String(l).trim();f!==l&&delete t[l],t[f]=ip(a),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(r,a)=>{r!=null&&r!==!1&&(t[a]=e&&X.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[YS]=this[YS]={accessors:{}}).accessors,a=this.prototype;function l(d){const f=Iu(d);r[f]||(VU(a,d),r[f]=!0)}return X.isArray(e)?e.forEach(l):l(e),this}};Yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Yn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});X.freezeMethods(Yn);function f0(n,e){const t=this||qd,r=e||t,a=Yn.from(r.headers);let l=r.data;return X.forEach(n,function(f){l=f.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function CC(n){return!!(n&&n.__CANCEL__)}let Hd=class extends ke{constructor(e,t,r){super(e??"canceled",ke.ERR_CANCELED,t,r),this.name="CanceledError",this.__CANCEL__=!0}};function IC(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ke("Request failed with status code "+t.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function zU(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function UU(n,e){n=n||10;const t=new Array(n),r=new Array(n);let a=0,l=0,d;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),_=r[l];d||(d=g),t[a]=m,r[a]=g;let v=l,w=0;for(;v!==a;)w+=t[v++],v=v%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),g-d<e)return;const S=_&&g-_;return S?Math.round(w*1e3/S):void 0}}function BU(n,e){let t=0,r=1e3/e,a,l;const d=(g,_=Date.now())=>{t=_,a=null,l&&(clearTimeout(l),l=null),n(...g)};return[(...g)=>{const _=Date.now(),v=_-t;v>=r?d(g,_):(a=g,l||(l=setTimeout(()=>{l=null,d(a)},r-v)))},()=>a&&d(a)]}const Fp=(n,e,t=3)=>{let r=0;const a=UU(50,250);return BU(l=>{const d=l.loaded,f=l.lengthComputable?l.total:void 0,m=d-r,g=a(m),_=d<=f;r=d;const v={loaded:d,total:f,progress:f?d/f:void 0,bytes:m,rate:g||void 0,estimated:g&&f&&_?(f-d)/g:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(v)},t)},QS=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},XS=n=>(...e)=>X.asap(()=>n(...e)),FU=An.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,An.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(An.origin),An.navigator&&/(msie|trident)/i.test(An.navigator.userAgent)):()=>!0,qU=An.hasStandardBrowserEnv?{write(n,e,t,r,a,l,d){if(typeof document>"u")return;const f=[`${n}=${encodeURIComponent(e)}`];X.isNumber(t)&&f.push(`expires=${new Date(t).toUTCString()}`),X.isString(r)&&f.push(`path=${r}`),X.isString(a)&&f.push(`domain=${a}`),l===!0&&f.push("secure"),X.isString(d)&&f.push(`SameSite=${d}`),document.cookie=f.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function HU(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function $U(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function jC(n,e,t){let r=!HU(e);return n&&(r||t==!1)?$U(n,e):e}const JS=n=>n instanceof Yn?{...n}:n;function ko(n,e){e=e||{};const t={};function r(g,_,v,w){return X.isPlainObject(g)&&X.isPlainObject(_)?X.merge.call({caseless:w},g,_):X.isPlainObject(_)?X.merge({},_):X.isArray(_)?_.slice():_}function a(g,_,v,w){if(X.isUndefined(_)){if(!X.isUndefined(g))return r(void 0,g,v,w)}else return r(g,_,v,w)}function l(g,_){if(!X.isUndefined(_))return r(void 0,_)}function d(g,_){if(X.isUndefined(_)){if(!X.isUndefined(g))return r(void 0,g)}else return r(void 0,_)}function f(g,_,v){if(v in e)return r(g,_);if(v in n)return r(void 0,g)}const m={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(g,_,v)=>a(JS(g),JS(_),v,!0)};return X.forEach(Object.keys({...n,...e}),function(_){const v=m[_]||a,w=v(n[_],e[_],_);X.isUndefined(w)&&v!==f||(t[_]=w)}),t}const kC=n=>{const e=ko({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:d,auth:f}=e;if(e.headers=d=Yn.from(d),e.url=TC(jC(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),X.isFormData(t)){if(An.hasStandardBrowserEnv||An.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(X.isFunction(t.getHeaders)){const m=t.getHeaders(),g=["content-type","content-length"];Object.entries(m).forEach(([_,v])=>{g.includes(_.toLowerCase())&&d.set(_,v)})}}if(An.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(e)),r||r!==!1&&FU(e.url))){const m=a&&l&&qU.read(l);m&&d.set(a,m)}return e},WU=typeof XMLHttpRequest<"u",GU=WU&&function(n){return new Promise(function(t,r){const a=kC(n);let l=a.data;const d=Yn.from(a.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:g}=a,_,v,w,S,T;function I(){S&&S(),T&&T(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let D=new XMLHttpRequest;D.open(a.method.toUpperCase(),a.url,!0),D.timeout=a.timeout;function F(){if(!D)return;const J=Yn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),ce={data:!f||f==="text"||f==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:J,config:n,request:D};IC(function(j){t(j),I()},function(j){r(j),I()},ce),D=null}"onloadend"in D?D.onloadend=F:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(F)},D.onabort=function(){D&&(r(new ke("Request aborted",ke.ECONNABORTED,n,D)),D=null)},D.onerror=function(ae){const ce=ae&&ae.message?ae.message:"Network Error",pe=new ke(ce,ke.ERR_NETWORK,n,D);pe.event=ae||null,r(pe),D=null},D.ontimeout=function(){let ae=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ce=a.transitional||AC;a.timeoutErrorMessage&&(ae=a.timeoutErrorMessage),r(new ke(ae,ce.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,n,D)),D=null},l===void 0&&d.setContentType(null),"setRequestHeader"in D&&X.forEach(d.toJSON(),function(ae,ce){D.setRequestHeader(ce,ae)}),X.isUndefined(a.withCredentials)||(D.withCredentials=!!a.withCredentials),f&&f!=="json"&&(D.responseType=a.responseType),g&&([w,T]=Fp(g,!0),D.addEventListener("progress",w)),m&&D.upload&&([v,S]=Fp(m),D.upload.addEventListener("progress",v),D.upload.addEventListener("loadend",S)),(a.cancelToken||a.signal)&&(_=J=>{D&&(r(!J||J.type?new Hd(null,n,D):J),D.abort(),D=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const z=zU(a.url);if(z&&An.protocols.indexOf(z)===-1){r(new ke("Unsupported protocol "+z+":",ke.ERR_BAD_REQUEST,n));return}D.send(l||null)})},KU=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,a;const l=function(g){if(!a){a=!0,f();const _=g instanceof Error?g:this.reason;r.abort(_ instanceof ke?_:new Hd(_ instanceof Error?_.message:_))}};let d=e&&setTimeout(()=>{d=null,l(new ke(`timeout of ${e}ms exceeded`,ke.ETIMEDOUT))},e);const f=()=>{n&&(d&&clearTimeout(d),d=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),n=null)};n.forEach(g=>g.addEventListener("abort",l));const{signal:m}=r;return m.unsubscribe=()=>X.asap(f),m}},YU=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,a;for(;r<t;)a=r+e,yield n.slice(r,a),r=a},QU=async function*(n,e){for await(const t of XU(n))yield*YU(t,e)},XU=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},ZS=(n,e,t,r)=>{const a=QU(n,e);let l=0,d,f=m=>{d||(d=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:g,value:_}=await a.next();if(g){f(),m.close();return}let v=_.byteLength;if(t){let w=l+=v;t(w)}m.enqueue(new Uint8Array(_))}catch(g){throw f(g),g}},cancel(m){return f(m),a.return()}},{highWaterMark:2})},eT=64*1024,{isFunction:Mf}=X,JU=(({Request:n,Response:e})=>({Request:n,Response:e}))(X.global),{ReadableStream:tT,TextEncoder:nT}=X.global,rT=(n,...e)=>{try{return!!n(...e)}catch{return!1}},ZU=n=>{n=X.merge.call({skipUndefined:!0},JU,n);const{fetch:e,Request:t,Response:r}=n,a=e?Mf(e):typeof fetch=="function",l=Mf(t),d=Mf(r);if(!a)return!1;const f=a&&Mf(tT),m=a&&(typeof nT=="function"?(T=>I=>T.encode(I))(new nT):async T=>new Uint8Array(await new t(T).arrayBuffer())),g=l&&f&&rT(()=>{let T=!1;const I=new t(An.origin,{body:new tT,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!I}),_=d&&f&&rT(()=>X.isReadableStream(new r("").body)),v={stream:_&&(T=>T.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!v[T]&&(v[T]=(I,D)=>{let F=I&&I[T];if(F)return F.call(I);throw new ke(`Response type '${T}' is not supported`,ke.ERR_NOT_SUPPORT,D)})});const w=async T=>{if(T==null)return 0;if(X.isBlob(T))return T.size;if(X.isSpecCompliantForm(T))return(await new t(An.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(X.isArrayBufferView(T)||X.isArrayBuffer(T))return T.byteLength;if(X.isURLSearchParams(T)&&(T=T+""),X.isString(T))return(await m(T)).byteLength},S=async(T,I)=>{const D=X.toFiniteNumber(T.getContentLength());return D??w(I)};return async T=>{let{url:I,method:D,data:F,signal:z,cancelToken:J,timeout:ae,onDownloadProgress:ce,onUploadProgress:pe,responseType:j,headers:C,withCredentials:k="same-origin",fetchOptions:M}=kC(T),O=e||fetch;j=j?(j+"").toLowerCase():"text";let B=KU([z,J&&J.toAbortSignal()],ae),P=null;const qe=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let ht;try{if(pe&&g&&D!=="get"&&D!=="head"&&(ht=await S(C,F))!==0){let V=new t(I,{method:"POST",body:F,duplex:"half"}),ne;if(X.isFormData(F)&&(ne=V.headers.get("content-type"))&&C.setContentType(ne),V.body){const[fe,me]=QS(ht,Fp(XS(pe)));F=ZS(V.body,eT,fe,me)}}X.isString(k)||(k=k?"include":"omit");const Z=l&&"credentials"in t.prototype,de={...M,signal:B,method:D.toUpperCase(),headers:C.normalize().toJSON(),body:F,duplex:"half",credentials:Z?k:void 0};P=l&&new t(I,de);let le=await(l?O(P,M):O(I,de));const Ae=_&&(j==="stream"||j==="response");if(_&&(ce||Ae&&qe)){const V={};["status","statusText","headers"].forEach(Ce=>{V[Ce]=le[Ce]});const ne=X.toFiniteNumber(le.headers.get("content-length")),[fe,me]=ce&&QS(ne,Fp(XS(ce),!0))||[];le=new r(ZS(le.body,eT,fe,()=>{me&&me(),qe&&qe()}),V)}j=j||"text";let Ue=await v[X.findKey(v,j)||"text"](le,T);return!Ae&&qe&&qe(),await new Promise((V,ne)=>{IC(V,ne,{data:Ue,headers:Yn.from(le.headers),status:le.status,statusText:le.statusText,config:T,request:P})})}catch(Z){throw qe&&qe(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,T,P),{cause:Z.cause||Z}):ke.from(Z,Z&&Z.code,T,P)}}},eB=new Map,NC=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:a}=e,l=[r,a,t];let d=l.length,f=d,m,g,_=eB;for(;f--;)m=l[f],g=_.get(m),g===void 0&&_.set(m,g=f?new Map:ZU(e)),_=g;return g};NC();const Qv={http:yU,xhr:GU,fetch:{get:NC}};X.forEach(Qv,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const sT=n=>`- ${n}`,tB=n=>X.isFunction(n)||n===null||n===!1;function nB(n,e){n=X.isArray(n)?n:[n];const{length:t}=n;let r,a;const l={};for(let d=0;d<t;d++){r=n[d];let f;if(a=r,!tB(r)&&(a=Qv[(f=String(r)).toLowerCase()],a===void 0))throw new ke(`Unknown adapter '${f}'`);if(a&&(X.isFunction(a)||(a=a.get(e))))break;l[f||"#"+d]=a}if(!a){const d=Object.entries(l).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=t?d.length>1?`since :
`+d.map(sT).join(`
`):" "+sT(d[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a}const DC={getAdapter:nB,adapters:Qv};function p0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Hd(null,n)}function iT(n){return p0(n),n.headers=Yn.from(n.headers),n.data=f0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),DC.getAdapter(n.adapter||qd.adapter,n)(n).then(function(r){return p0(n),r.data=f0.call(n,n.transformResponse,r),r.headers=Yn.from(r.headers),r},function(r){return CC(r)||(p0(n),r&&r.response&&(r.response.data=f0.call(n,n.transformResponse,r.response),r.response.headers=Yn.from(r.response.headers))),Promise.reject(r)})}const OC="1.13.4",km={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{km[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const aT={};km.transitional=function(e,t,r){function a(l,d){return"[Axios v"+OC+"] Transitional option '"+l+"'"+d+(r?". "+r:"")}return(l,d,f)=>{if(e===!1)throw new ke(a(d," has been removed"+(t?" in "+t:"")),ke.ERR_DEPRECATED);return t&&!aT[d]&&(aT[d]=!0,console.warn(a(d," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,d,f):!0}};km.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function rB(n,e,t){if(typeof n!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let a=r.length;for(;a-- >0;){const l=r[a],d=e[l];if(d){const f=n[l],m=f===void 0||d(f,l,n);if(m!==!0)throw new ke("option "+l+" must be "+m,ke.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ke("Unknown option "+l,ke.ERR_BAD_OPTION)}}const ap={assertOptions:rB,validators:km},Is=ap.validators;let xo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new KS,response:new KS}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ko(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:l}=t;r!==void 0&&ap.assertOptions(r,{silentJSONParsing:Is.transitional(Is.boolean),forcedJSONParsing:Is.transitional(Is.boolean),clarifyTimeoutError:Is.transitional(Is.boolean)},!1),a!=null&&(X.isFunction(a)?t.paramsSerializer={serialize:a}:ap.assertOptions(a,{encode:Is.function,serialize:Is.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ap.assertOptions(t,{baseUrl:Is.spelling("baseURL"),withXsrfToken:Is.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let d=l&&X.merge(l.common,l[t.method]);l&&X.forEach(["delete","get","head","post","put","patch","common"],T=>{delete l[T]}),t.headers=Yn.concat(d,l);const f=[];let m=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(m=m&&I.synchronous,f.unshift(I.fulfilled,I.rejected))});const g=[];this.interceptors.response.forEach(function(I){g.push(I.fulfilled,I.rejected)});let _,v=0,w;if(!m){const T=[iT.bind(this),void 0];for(T.unshift(...f),T.push(...g),w=T.length,_=Promise.resolve(t);v<w;)_=_.then(T[v++],T[v++]);return _}w=f.length;let S=t;for(;v<w;){const T=f[v++],I=f[v++];try{S=T(S)}catch(D){I.call(this,D);break}}try{_=iT.call(this,S)}catch(T){return Promise.reject(T)}for(v=0,w=g.length;v<w;)_=_.then(g[v++],g[v++]);return _}getUri(e){e=ko(this.defaults,e);const t=jC(e.baseURL,e.url,e.allowAbsoluteUrls);return TC(t,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){xo.prototype[e]=function(t,r){return this.request(ko(r||{},{method:e,url:t,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(r){return function(l,d,f){return this.request(ko(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}xo.prototype[e]=t(),xo.prototype[e+"Form"]=t(!0)});let sB=class PC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const d=new Promise(f=>{r.subscribe(f),l=f}).then(a);return d.cancel=function(){r.unsubscribe(l)},d},e(function(l,d,f){r.reason||(r.reason=new Hd(l,d,f),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new PC(function(a){e=a}),cancel:e}}};function iB(n){return function(t){return n.apply(null,t)}}function aB(n){return X.isObject(n)&&n.isAxiosError===!0}const i_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(i_).forEach(([n,e])=>{i_[e]=n});function MC(n){const e=new xo(n),t=pC(xo.prototype.request,e);return X.extend(t,xo.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return MC(ko(n,a))},t}const Pt=MC(qd);Pt.Axios=xo;Pt.CanceledError=Hd;Pt.CancelToken=sB;Pt.isCancel=CC;Pt.VERSION=OC;Pt.toFormData=jm;Pt.AxiosError=ke;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=iB;Pt.isAxiosError=aB;Pt.mergeConfig=ko;Pt.AxiosHeaders=Yn;Pt.formToJSON=n=>RC(X.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=DC.getAdapter;Pt.HttpStatusCode=i_;Pt.default=Pt;const{Axios:U7,AxiosError:B7,CanceledError:F7,isCancel:q7,CancelToken:H7,VERSION:$7,all:W7,Cancel:G7,isAxiosError:K7,spread:Y7,toFormData:Q7,AxiosHeaders:X7,HttpStatusCode:J7,formToJSON:Z7,getAdapter:eF,mergeConfig:tF}=Pt;function je(n,e,t,r,a){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}function G(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let LC=function(){const{crypto:n}=globalThis;if(n?.randomUUID)return LC=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^t()&15>>+r/4).toString(16))};function a_(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const o_=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};class Te extends Error{}class xn extends Te{constructor(e,t,r,a){super(`${xn.makeMessage(e,t,r)}`),this.status=e,this.headers=a,this.requestID=a?.get("x-request-id"),this.error=t;const l=t;this.code=l?.code,this.param=l?.param,this.type=l?.type}static makeMessage(e,t,r){const a=t?.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,t,r,a){if(!e||!a)return new Nm({message:r,cause:o_(t)});const l=t?.error;return e===400?new VC(e,l,r,a):e===401?new zC(e,l,r,a):e===403?new UC(e,l,r,a):e===404?new BC(e,l,r,a):e===409?new FC(e,l,r,a):e===422?new qC(e,l,r,a):e===429?new HC(e,l,r,a):e>=500?new $C(e,l,r,a):new xn(e,l,r,a)}}class Nr extends xn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nm extends xn{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class Xv extends Nm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class VC extends xn{}class zC extends xn{}class UC extends xn{}class BC extends xn{}class FC extends xn{}class qC extends xn{}class HC extends xn{}class $C extends xn{}class WC extends Te{constructor(){super("Could not parse response content as the length limit was reached")}}class GC extends Te{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Uu extends Error{constructor(e){super(e)}}const oB=/^[a-z][a-z0-9+.-]*:/i,lB=n=>oB.test(n);let Hn=n=>(Hn=Array.isArray,Hn(n)),oT=Hn;function KC(n){return typeof n!="object"?{}:n??{}}function cB(n){if(!n)return!0;for(const e in n)return!1;return!0}function uB(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function m0(n){return n!=null&&typeof n=="object"&&!Array.isArray(n)}const dB=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Te(`${n} must be an integer`);if(e<0)throw new Te(`${n} must be a positive integer`);return e},hB=n=>{try{return JSON.parse(n)}catch{return}},$d=n=>new Promise(e=>setTimeout(e,n)),Ll="6.18.0",fB=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function pB(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const mB=()=>{const n=pB();if(n==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ll,"X-Stainless-OS":cT(Deno.build.os),"X-Stainless-Arch":lT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ll,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(n==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ll,"X-Stainless-OS":cT(globalThis.process.platform??"unknown"),"X-Stainless-Arch":lT(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=gB();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ll,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ll,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gB(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const a=r[1]||0,l=r[2]||0,d=r[3]||0;return{browser:e,version:`${a}.${l}.${d}`}}}return null}const lT=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",cT=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let uT;const yB=()=>uT??(uT=mB());function _B(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function YC(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function QC(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return YC({start(){},async pull(t){const{done:r,value:a}=await e.next();r?t.close():t.enqueue(a)},async cancel(){await e.return?.()}})}function XC(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t?.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vB(n){if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await n[Symbol.asyncIterator]().return?.();return}const e=n.getReader(),t=e.cancel();e.releaseLock(),await t}const bB=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),JC="RFC3986",ZC=n=>String(n),dT={RFC1738:n=>String(n).replace(/%20/g,"+"),RFC3986:ZC},xB="RFC1738";let l_=(n,e)=>(l_=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),l_(n,e));const js=(()=>{const n=[];for(let e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n})(),g0=1024,wB=(n,e,t,r,a)=>{if(n.length===0)return n;let l=n;if(typeof n=="symbol"?l=Symbol.prototype.toString.call(n):typeof n!="string"&&(l=String(n)),t==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});let d="";for(let f=0;f<l.length;f+=g0){const m=l.length>=g0?l.slice(f,f+g0):l,g=[];for(let _=0;_<m.length;++_){let v=m.charCodeAt(_);if(v===45||v===46||v===95||v===126||v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122||a===xB&&(v===40||v===41)){g[g.length]=m.charAt(_);continue}if(v<128){g[g.length]=js[v];continue}if(v<2048){g[g.length]=js[192|v>>6]+js[128|v&63];continue}if(v<55296||v>=57344){g[g.length]=js[224|v>>12]+js[128|v>>6&63]+js[128|v&63];continue}_+=1,v=65536+((v&1023)<<10|m.charCodeAt(_)&1023),g[g.length]=js[240|v>>18]+js[128|v>>12&63]+js[128|v>>6&63]+js[128|v&63]}d+=g.join("")}return d};function EB(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))}function hT(n,e){if(Hn(n)){const t=[];for(let r=0;r<n.length;r+=1)t.push(e(n[r]));return t}return e(n)}const eI={brackets(n){return String(n)+"[]"},comma:"comma",indices(n,e){return String(n)+"["+e+"]"},repeat(n){return String(n)}},tI=function(n,e){Array.prototype.push.apply(n,Hn(e)?e:[e])};let fT;const tn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:wB,encodeValuesOnly:!1,format:JC,formatter:ZC,indices:!1,serializeDate(n){return(fT??(fT=Function.prototype.call.bind(Date.prototype.toISOString)))(n)},skipNulls:!1,strictNullHandling:!1};function SB(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"}const y0={};function nI(n,e,t,r,a,l,d,f,m,g,_,v,w,S,T,I,D,F){let z=n,J=F,ae=0,ce=!1;for(;(J=J.get(y0))!==void 0&&!ce;){const M=J.get(n);if(ae+=1,typeof M<"u"){if(M===ae)throw new RangeError("Cyclic object value");ce=!0}typeof J.get(y0)>"u"&&(ae=0)}if(typeof g=="function"?z=g(e,z):z instanceof Date?z=w?.(z):t==="comma"&&Hn(z)&&(z=hT(z,function(M){return M instanceof Date?w?.(M):M})),z===null){if(l)return m&&!I?m(e,tn.encoder,D,"key",S):e;z=""}if(SB(z)||EB(z)){if(m){const M=I?e:m(e,tn.encoder,D,"key",S);return[T?.(M)+"="+T?.(m(z,tn.encoder,D,"value",S))]}return[T?.(e)+"="+T?.(String(z))]}const pe=[];if(typeof z>"u")return pe;let j;if(t==="comma"&&Hn(z))I&&m&&(z=hT(z,m)),j=[{value:z.length>0?z.join(",")||null:void 0}];else if(Hn(g))j=g;else{const M=Object.keys(z);j=_?M.sort(_):M}const C=f?String(e).replace(/\./g,"%2E"):String(e),k=r&&Hn(z)&&z.length===1?C+"[]":C;if(a&&Hn(z)&&z.length===0)return k+"[]";for(let M=0;M<j.length;++M){const O=j[M],B=typeof O=="object"&&typeof O.value<"u"?O.value:z[O];if(d&&B===null)continue;const P=v&&f?O.replace(/\./g,"%2E"):O,qe=Hn(z)?typeof t=="function"?t(k,P):k:k+(v?"."+P:"["+P+"]");F.set(n,ae);const ht=new WeakMap;ht.set(y0,F),tI(pe,nI(B,qe,t,r,a,l,d,f,t==="comma"&&I&&Hn(z)?null:m,g,_,v,w,S,T,I,D,ht))}return pe}function TB(n=tn){if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=n.charset||tn.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=JC;if(typeof n.format<"u"){if(!l_(dT,n.format))throw new TypeError("Unknown format option provided.");t=n.format}const r=dT[t];let a=tn.filter;(typeof n.filter=="function"||Hn(n.filter))&&(a=n.filter);let l;if(n.arrayFormat&&n.arrayFormat in eI?l=n.arrayFormat:"indices"in n?l=n.indices?"indices":"repeat":l=tn.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof n.allowDots>"u"?n.encodeDotInKeys?!0:tn.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:tn.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:tn.allowEmptyArrays,arrayFormat:l,charset:e,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:tn.charsetSentinel,commaRoundTrip:!!n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?tn.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:tn.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:tn.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:tn.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:tn.encodeValuesOnly,filter:a,format:t,formatter:r,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:tn.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:tn.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:tn.strictNullHandling}}function AB(n,e={}){let t=n;const r=TB(e);let a,l;typeof r.filter=="function"?(l=r.filter,t=l("",t)):Hn(r.filter)&&(l=r.filter,a=l);const d=[];if(typeof t!="object"||t===null)return"";const f=eI[r.arrayFormat],m=f==="comma"&&r.commaRoundTrip;a||(a=Object.keys(t)),r.sort&&a.sort(r.sort);const g=new WeakMap;for(let w=0;w<a.length;++w){const S=a[w];r.skipNulls&&t[S]===null||tI(d,nI(t[S],S,f,m,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,g))}const _=d.join(r.delimiter);let v=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),_.length>0?v+_:""}function RB(n){let e=0;for(const a of n)e+=a.length;const t=new Uint8Array(e);let r=0;for(const a of n)t.set(a,r),r+=a.length;return t}let pT;function Jv(n){let e;return(pT??(e=new globalThis.TextEncoder,pT=e.encode.bind(e)))(n)}let mT;function gT(n){let e;return(mT??(e=new globalThis.TextDecoder,mT=e.decode.bind(e)))(n)}var ar,or;class Dm{constructor(){ar.set(this,void 0),or.set(this,void 0),je(this,ar,new Uint8Array),je(this,or,null)}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Jv(e):e;je(this,ar,RB([G(this,ar,"f"),t]));const r=[];let a;for(;(a=CB(G(this,ar,"f"),G(this,or,"f")))!=null;){if(a.carriage&&G(this,or,"f")==null){je(this,or,a.index);continue}if(G(this,or,"f")!=null&&(a.index!==G(this,or,"f")+1||a.carriage)){r.push(gT(G(this,ar,"f").subarray(0,G(this,or,"f")-1))),je(this,ar,G(this,ar,"f").subarray(G(this,or,"f"))),je(this,or,null);continue}const l=G(this,or,"f")!==null?a.preceding-1:a.preceding,d=gT(G(this,ar,"f").subarray(0,l));r.push(d),je(this,ar,G(this,ar,"f").subarray(a.index)),je(this,or,null)}return r}flush(){return G(this,ar,"f").length?this.decode(`
`):[]}}ar=new WeakMap,or=new WeakMap;Dm.NEWLINE_CHARS=new Set([`
`,"\r"]);Dm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function CB(n,e){for(let a=e??0;a<n.length;a++){if(n[a]===10)return{preceding:a,index:a+1,carriage:!1};if(n[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function IB(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}const qp={off:0,error:200,warn:300,info:400,debug:500},yT=(n,e,t)=>{if(n){if(uB(qp,n))return n;gn(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(qp))}`)}};function Bu(){}function Lf(n,e,t){return!e||qp[n]>qp[t]?Bu:e[n].bind(e)}const jB={error:Bu,warn:Bu,info:Bu,debug:Bu};let _T=new WeakMap;function gn(n){const e=n.logger,t=n.logLevel??"off";if(!e)return jB;const r=_T.get(e);if(r&&r[0]===t)return r[1];const a={error:Lf("error",e,t),warn:Lf("warn",e,t),info:Lf("info",e,t),debug:Lf("debug",e,t)};return _T.set(e,[t,a]),a}const oo=n=>(n.options&&(n.options={...n.options},delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);var ju;class Ps{constructor(e,t,r){this.iterator=e,ju.set(this,void 0),this.controller=t,je(this,ju,r)}static fromSSEResponse(e,t,r){let a=!1;const l=r?gn(r):console;async function*d(){if(a)throw new Te("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let f=!1;try{for await(const m of kB(e,t))if(!f){if(m.data.startsWith("[DONE]")){f=!0;continue}if(m.event===null||!m.event.startsWith("thread.")){let g;try{g=JSON.parse(m.data)}catch(_){throw l.error("Could not parse message into JSON:",m.data),l.error("From chunk:",m.raw),_}if(g&&g.error)throw new xn(void 0,g.error,void 0,e.headers);yield g}else{let g;try{g=JSON.parse(m.data)}catch(_){throw console.error("Could not parse message into JSON:",m.data),console.error("From chunk:",m.raw),_}if(m.event=="error")throw new xn(void 0,g.error,g.message,void 0);yield{event:m.event,data:g}}}f=!0}catch(m){if(a_(m))return;throw m}finally{f||t.abort()}}return new Ps(d,t,r)}static fromReadableStream(e,t,r){let a=!1;async function*l(){const f=new Dm,m=XC(e);for await(const g of m)for(const _ of f.decode(g))yield _;for(const g of f.flush())yield g}async function*d(){if(a)throw new Te("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let f=!1;try{for await(const m of l())f||m&&(yield JSON.parse(m));f=!0}catch(m){if(a_(m))return;throw m}finally{f||t.abort()}}return new Ps(d,t,r)}[(ju=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),a=l=>({next:()=>{if(l.length===0){const d=r.next();e.push(d),t.push(d)}return l.shift()}});return[new Ps(()=>a(e),this.controller,G(this,ju,"f")),new Ps(()=>a(t),this.controller,G(this,ju,"f"))]}toReadableStream(){const e=this;let t;return YC({async start(){t=e[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:l}=await t.next();if(l)return r.close();const d=Jv(JSON.stringify(a)+`
`);r.enqueue(d)}catch(a){r.error(a)}},async cancel(){await t.return?.()}})}}async function*kB(n,e){if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Te("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Te("Attempted to iterate over a response with no body");const t=new DB,r=new Dm,a=XC(n.body);for await(const l of NB(a))for(const d of r.decode(l)){const f=t.decode(d);f&&(yield f)}for(const l of r.flush()){const d=t.decode(l);d&&(yield d)}}async function*NB(n){let e=new Uint8Array;for await(const t of n){if(t==null)continue;const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Jv(t):t;let a=new Uint8Array(e.length+r.length);a.set(e),a.set(r,e.length),e=a;let l;for(;(l=IB(e))!==-1;)yield e.slice(0,l),e=e.slice(l)}e.length>0&&(yield e)}class DB{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,a]=OB(e,":");return a.startsWith(" ")&&(a=a.substring(1)),t==="event"?this.event=a:t==="data"&&this.data.push(a),null}}function OB(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}async function rI(n,e){const{response:t,requestLogID:r,retryOfRequestLogID:a,startTime:l}=e,d=await(async()=>{if(e.options.stream)return gn(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Ps.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const m=t.headers.get("content-type")?.split(";")[0]?.trim();if(m?.includes("application/json")||m?.endsWith("+json")){if(t.headers.get("content-length")==="0")return;const w=await t.json();return sI(w,t)}return await t.text()})();return gn(n).debug(`[${r}] response parsed`,oo({retryOfRequestLogID:a,url:t.url,status:t.status,body:d,durationMs:Date.now()-l})),d}function sI(n,e){return!n||typeof n!="object"||Array.isArray(n)?n:Object.defineProperty(n,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Fu;class Om extends Promise{constructor(e,t,r=rI){super(a=>{a(null)}),this.responsePromise=t,this.parseResponse=r,Fu.set(this,void 0),je(this,Fu,e)}_thenUnwrap(e){return new Om(G(this,Fu,"f"),this.responsePromise,async(t,r)=>sI(e(await this.parseResponse(t,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(G(this,Fu,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Fu=new WeakMap;var Vf;class Zv{constructor(e,t,r,a){Vf.set(this,void 0),je(this,Vf,e),this.options=a,this.response=t,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Te("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await G(this,Vf,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Vf=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class PB extends Om{constructor(e,t,r){super(e,t,async(a,l)=>new r(a,l.response,await rI(a,l),l.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}class Pm extends Zv{constructor(e,t,r,a){super(e,t,r,a),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Qt extends Zv{constructor(e,t,r,a){super(e,t,r,a),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),t=e[e.length-1]?.id;return t?{...this.options,query:{...KC(this.options.query),after:t}}:null}}class Hp extends Zv{constructor(e,t,r,a){super(e,t,r,a),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...KC(this.options.query),after:e}}:null}}const iI=()=>{if(typeof File>"u"){const{process:n}=globalThis,e=typeof n?.versions?.node=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ad(n,e,t){return iI(),new File(n,e??"unknown_file",t)}function op(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const eb=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function",vT=async(n,e)=>c_(n.body)?{...n,body:await aI(n.body,e)}:n,No=async(n,e)=>({...n,body:await aI(n.body,e)}),bT=new WeakMap;function MB(n){const e=typeof n=="function"?n:n.fetch,t=bT.get(e);if(t)return t;const r=(async()=>{try{const a="Response"in e?e.Response:(await e("data:,")).constructor,l=new FormData;return l.toString()!==await new a(l).text()}catch{return!0}})();return bT.set(e,r),r}const aI=async(n,e)=>{if(!await MB(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const t=new FormData;return await Promise.all(Object.entries(n||{}).map(([r,a])=>u_(t,r,a))),t},oI=n=>n instanceof Blob&&"name"in n,LB=n=>typeof n=="object"&&n!==null&&(n instanceof Response||eb(n)||oI(n)),c_=n=>{if(LB(n))return!0;if(Array.isArray(n))return n.some(c_);if(n&&typeof n=="object"){for(const e in n)if(c_(n[e]))return!0}return!1},u_=async(n,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if(t instanceof Response)n.append(e,ad([await t.blob()],op(t)));else if(eb(t))n.append(e,ad([await new Response(QC(t)).blob()],op(t)));else if(oI(t))n.append(e,t,op(t));else if(Array.isArray(t))await Promise.all(t.map(r=>u_(n,e+"[]",r)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([r,a])=>u_(n,`${e}[${r}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}},lI=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",VB=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&lI(n),zB=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function UB(n,e,t){if(iI(),n=await n,VB(n))return n instanceof File?n:ad([await n.arrayBuffer()],n.name);if(zB(n)){const a=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),ad(await d_(a),e,t)}const r=await d_(n);if(e||(e=op(n)),!t?.type){const a=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof a=="string"&&(t={...t,type:a})}return ad(r,e,t)}async function d_(n){let e=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)e.push(n);else if(lI(n))e.push(n instanceof Blob?n:await n.arrayBuffer());else if(eb(n))for await(const t of n)e.push(...await d_(t));else{const t=n?.constructor?.name;throw new Error(`Unexpected data type: ${typeof n}${t?`; constructor: ${t}`:""}${BB(n)}`)}return e}function BB(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}class Ee{constructor(e){this._client=e}}function cI(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const xT=Object.freeze(Object.create(null)),FB=(n=cI)=>function(t,...r){if(t.length===1)return t[0];let a=!1;const l=[],d=t.reduce((_,v,w)=>{/[?#]/.test(v)&&(a=!0);const S=r[w];let T=(a?encodeURIComponent:n)(""+S);return w!==r.length&&(S==null||typeof S=="object"&&S.toString===Object.getPrototypeOf(Object.getPrototypeOf(S.hasOwnProperty??xT)??xT)?.toString)&&(T=S+"",l.push({start:_.length+v.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),_+v+(w===r.length?"":T)},""),f=d.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=m.exec(f))!==null;)l.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(l.sort((_,v)=>_.start-v.start),l.length>0){let _=0;const v=l.reduce((w,S)=>{const T=" ".repeat(S.start-_),I="^".repeat(S.length);return _=S.start+S.length,w+T+I},"");throw new Te(`Path parameters result in path with invalid segments:
${l.map(w=>w.error).join(`
`)}
${d}
${v}`)}return d},oe=FB(cI);let uI=class extends Ee{list(e,t={},r){return this._client.getAPIList(oe`/chat/completions/${e}/messages`,Qt,{query:t,...r})}};function $p(n){return n!==void 0&&"function"in n&&n.function!==void 0}function tb(n){return n?.$brand==="auto-parseable-response-format"}function Wd(n){return n?.$brand==="auto-parseable-tool"}function qB(n,e){return!e||!dI(e)?{...n,choices:n.choices.map(t=>(hI(t.message.tool_calls),{...t,message:{...t.message,parsed:null,...t.message.tool_calls?{tool_calls:t.message.tool_calls}:void 0}}))}:nb(n,e)}function nb(n,e){const t=n.choices.map(r=>{if(r.finish_reason==="length")throw new WC;if(r.finish_reason==="content_filter")throw new GC;return hI(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:r.message.tool_calls?.map(a=>$B(e,a))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?HB(e,r.message.content):null}}});return{...n,choices:t}}function HB(n,e){return n.response_format?.type!=="json_schema"?null:n.response_format?.type==="json_schema"?"$parseRaw"in n.response_format?n.response_format.$parseRaw(e):JSON.parse(e):null}function $B(n,e){const t=n.tools?.find(r=>$p(r)&&r.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Wd(t)?t.$parseRaw(e.function.arguments):t?.function.strict?JSON.parse(e.function.arguments):null}}}function WB(n,e){if(!n||!("tools"in n)||!n.tools)return!1;const t=n.tools?.find(r=>$p(r)&&r.function?.name===e.function.name);return $p(t)&&(Wd(t)||t?.function.strict||!1)}function dI(n){return tb(n.response_format)?!0:n.tools?.some(e=>Wd(e)||e.type==="function"&&e.function.strict===!0)??!1}function hI(n){for(const e of n||[])if(e.type!=="function")throw new Te(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function GB(n){for(const e of n??[]){if(e.type!=="function")throw new Te(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Te(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Wp=n=>n?.role==="assistant",fI=n=>n?.role==="tool";var h_,lp,cp,qu,Hu,up,$u,hi,Wu,Gp,Kp,Vl,pI;class rb{constructor(){h_.add(this),this.controller=new AbortController,lp.set(this,void 0),cp.set(this,()=>{}),qu.set(this,()=>{}),Hu.set(this,void 0),up.set(this,()=>{}),$u.set(this,()=>{}),hi.set(this,{}),Wu.set(this,!1),Gp.set(this,!1),Kp.set(this,!1),Vl.set(this,!1),je(this,lp,new Promise((e,t)=>{je(this,cp,e,"f"),je(this,qu,t,"f")})),je(this,Hu,new Promise((e,t)=>{je(this,up,e,"f"),je(this,$u,t,"f")})),G(this,lp,"f").catch(()=>{}),G(this,Hu,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},G(this,h_,"m",pI).bind(this))},0)}_connected(){this.ended||(G(this,cp,"f").call(this),this._emit("connect"))}get ended(){return G(this,Wu,"f")}get errored(){return G(this,Gp,"f")}get aborted(){return G(this,Kp,"f")}abort(){this.controller.abort()}on(e,t){return(G(this,hi,"f")[e]||(G(this,hi,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=G(this,hi,"f")[e];if(!r)return this;const a=r.findIndex(l=>l.listener===t);return a>=0&&r.splice(a,1),this}once(e,t){return(G(this,hi,"f")[e]||(G(this,hi,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{je(this,Vl,!0),e!=="error"&&this.once("error",r),this.once(e,t)})}async done(){je(this,Vl,!0),await G(this,Hu,"f")}_emit(e,...t){if(G(this,Wu,"f"))return;e==="end"&&(je(this,Wu,!0),G(this,up,"f").call(this));const r=G(this,hi,"f")[e];if(r&&(G(this,hi,"f")[e]=r.filter(a=>!a.once),r.forEach(({listener:a})=>a(...t))),e==="abort"){const a=t[0];!G(this,Vl,"f")&&!r?.length&&Promise.reject(a),G(this,qu,"f").call(this,a),G(this,$u,"f").call(this,a),this._emit("end");return}if(e==="error"){const a=t[0];!G(this,Vl,"f")&&!r?.length&&Promise.reject(a),G(this,qu,"f").call(this,a),G(this,$u,"f").call(this,a),this._emit("end")}}_emitFinal(){}}lp=new WeakMap,cp=new WeakMap,qu=new WeakMap,Hu=new WeakMap,up=new WeakMap,$u=new WeakMap,hi=new WeakMap,Wu=new WeakMap,Gp=new WeakMap,Kp=new WeakMap,Vl=new WeakMap,h_=new WeakSet,pI=function(e){if(je(this,Gp,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Nr),e instanceof Nr)return je(this,Kp,!0),this._emit("abort",e);if(e instanceof Te)return this._emit("error",e);if(e instanceof Error){const t=new Te(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new Te(String(e)))};function KB(n){return typeof n.parse=="function"}var Nn,f_,Yp,p_,m_,g_,mI,gI;const YB=10;class yI extends rb{constructor(){super(...arguments),Nn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),fI(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Wp(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Te("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),G(this,Nn,"m",f_).call(this)}async finalMessage(){return await this.done(),G(this,Nn,"m",Yp).call(this)}async finalFunctionToolCall(){return await this.done(),G(this,Nn,"m",p_).call(this)}async finalFunctionToolCallResult(){return await this.done(),G(this,Nn,"m",m_).call(this)}async totalUsage(){return await this.done(),G(this,Nn,"m",g_).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=G(this,Nn,"m",Yp).call(this);t&&this._emit("finalMessage",t);const r=G(this,Nn,"m",f_).call(this);r&&this._emit("finalContent",r);const a=G(this,Nn,"m",p_).call(this);a&&this._emit("finalFunctionToolCall",a);const l=G(this,Nn,"m",m_).call(this);l!=null&&this._emit("finalFunctionToolCallResult",l),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",G(this,Nn,"m",g_).call(this))}async _createChatCompletion(e,t,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),G(this,Nn,"m",mI).call(this,t);const l=await e.chat.completions.create({...t,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(nb(l,t))}async _runChatCompletion(e,t,r){for(const a of t.messages)this._addMessage(a,!1);return await this._createChatCompletion(e,t,r)}async _runTools(e,t,r){const a="tool",{tool_choice:l="auto",stream:d,...f}=t,m=typeof l!="string"&&l.type==="function"&&l?.function?.name,{maxChatCompletions:g=YB}=r||{},_=t.tools.map(S=>{if(Wd(S)){if(!S.$callback)throw new Te("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:S.$callback,name:S.function.name,description:S.function.description||"",parameters:S.function.parameters,parse:S.$parseRaw,strict:!0}}}return S}),v={};for(const S of _)S.type==="function"&&(v[S.function.name||S.function.function.name]=S.function);const w="tools"in t?_.map(S=>S.type==="function"?{type:"function",function:{name:S.function.name||S.function.function.name,parameters:S.function.parameters,description:S.function.description,strict:S.function.strict}}:S):void 0;for(const S of t.messages)this._addMessage(S,!1);for(let S=0;S<g;++S){const I=(await this._createChatCompletion(e,{...f,tool_choice:l,tools:w,messages:[...this.messages]},r)).choices[0]?.message;if(!I)throw new Te("missing message in ChatCompletion response");if(!I.tool_calls?.length)return;for(const D of I.tool_calls){if(D.type!=="function")continue;const F=D.id,{name:z,arguments:J}=D.function,ae=v[z];if(ae){if(m&&m!==z){const C=`Invalid tool_call: ${JSON.stringify(z)}. ${JSON.stringify(m)} requested. Please try again`;this._addMessage({role:a,tool_call_id:F,content:C});continue}}else{const C=`Invalid tool_call: ${JSON.stringify(z)}. Available options are: ${Object.keys(v).map(k=>JSON.stringify(k)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:F,content:C});continue}let ce;try{ce=KB(ae)?await ae.parse(J):J}catch(C){const k=C instanceof Error?C.message:String(C);this._addMessage({role:a,tool_call_id:F,content:k});continue}const pe=await ae.function(ce,this),j=G(this,Nn,"m",gI).call(this,pe);if(this._addMessage({role:a,tool_call_id:F,content:j}),m)return}}}}Nn=new WeakSet,f_=function(){return G(this,Nn,"m",Yp).call(this).content??null},Yp=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(Wp(t))return{...t,content:t.content??null,refusal:t.refusal??null}}throw new Te("stream ended without producing a ChatCompletionMessage with role=assistant")},p_=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Wp(t)&&t?.tool_calls?.length)return t.tool_calls.filter(r=>r.type==="function").at(-1)?.function}},m_=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(fI(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(r=>r.role==="assistant"&&r.tool_calls?.some(a=>a.type==="function"&&a.id===t.tool_call_id)))return t.content}},g_=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},mI=function(e){if(e.n!=null&&e.n>1)throw new Te("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},gI=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class sb extends yI{static runTools(e,t,r){const a=new sb,l={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,t,l)),a}_addMessage(e,t=!0){super._addMessage(e,t),Wp(e)&&e.content&&this._emit("content",e.content)}}const _I=1,vI=2,bI=4,xI=8,wI=16,EI=32,SI=64,TI=128,AI=256,RI=TI|AI,CI=wI|EI|RI|SI,II=_I|vI|CI,jI=bI|xI,QB=II|jI,ln={STR:_I,NUM:vI,ARR:bI,OBJ:xI,NULL:wI,BOOL:EI,NAN:SI,INFINITY:TI,MINUS_INFINITY:AI,INF:RI,SPECIAL:CI,ATOM:II,COLLECTION:jI,ALL:QB};class XB extends Error{}class JB extends Error{}function ZB(n,e=ln.ALL){if(typeof n!="string")throw new TypeError(`expecting str, got ${typeof n}`);if(!n.trim())throw new Error(`${n} is empty`);return e7(n.trim(),e)}const e7=(n,e)=>{const t=n.length;let r=0;const a=w=>{throw new XB(`${w} at position ${r}`)},l=w=>{throw new JB(`${w} at position ${r}`)},d=()=>(v(),r>=t&&a("Unexpected end of input"),n[r]==='"'?f():n[r]==="{"?m():n[r]==="["?g():n.substring(r,r+4)==="null"||ln.NULL&e&&t-r<4&&"null".startsWith(n.substring(r))?(r+=4,null):n.substring(r,r+4)==="true"||ln.BOOL&e&&t-r<4&&"true".startsWith(n.substring(r))?(r+=4,!0):n.substring(r,r+5)==="false"||ln.BOOL&e&&t-r<5&&"false".startsWith(n.substring(r))?(r+=5,!1):n.substring(r,r+8)==="Infinity"||ln.INFINITY&e&&t-r<8&&"Infinity".startsWith(n.substring(r))?(r+=8,1/0):n.substring(r,r+9)==="-Infinity"||ln.MINUS_INFINITY&e&&1<t-r&&t-r<9&&"-Infinity".startsWith(n.substring(r))?(r+=9,-1/0):n.substring(r,r+3)==="NaN"||ln.NAN&e&&t-r<3&&"NaN".startsWith(n.substring(r))?(r+=3,NaN):_()),f=()=>{const w=r;let S=!1;for(r++;r<t&&(n[r]!=='"'||S&&n[r-1]==="\\");)S=n[r]==="\\"?!S:!1,r++;if(n.charAt(r)=='"')try{return JSON.parse(n.substring(w,++r-Number(S)))}catch(T){l(String(T))}else if(ln.STR&e)try{return JSON.parse(n.substring(w,r-Number(S))+'"')}catch{return JSON.parse(n.substring(w,n.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},m=()=>{r++,v();const w={};try{for(;n[r]!=="}";){if(v(),r>=t&&ln.OBJ&e)return w;const S=f();v(),r++;try{const T=d();Object.defineProperty(w,S,{value:T,writable:!0,enumerable:!0,configurable:!0})}catch(T){if(ln.OBJ&e)return w;throw T}v(),n[r]===","&&r++}}catch{if(ln.OBJ&e)return w;a("Expected '}' at end of object")}return r++,w},g=()=>{r++;const w=[];try{for(;n[r]!=="]";)w.push(d()),v(),n[r]===","&&r++}catch{if(ln.ARR&e)return w;a("Expected ']' at end of array")}return r++,w},_=()=>{if(r===0){n==="-"&&ln.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(n)}catch(S){if(ln.NUM&e)try{return n[n.length-1]==="."?JSON.parse(n.substring(0,n.lastIndexOf("."))):JSON.parse(n.substring(0,n.lastIndexOf("e")))}catch{}l(String(S))}}const w=r;for(n[r]==="-"&&r++;n[r]&&!",]}".includes(n[r]);)r++;r==t&&!(ln.NUM&e)&&a("Unterminated number literal");try{return JSON.parse(n.substring(w,r))}catch{n.substring(w,r)==="-"&&ln.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(n.substring(w,n.lastIndexOf("e")))}catch(T){l(String(T))}}},v=()=>{for(;r<t&&` 
\r	`.includes(n[r]);)r++};return d()},wT=n=>ZB(n,ln.ALL^ln.NUM);var en,di,Il,ia,_0,zf,v0,b0,x0,Uf,w0,ET;class wd extends yI{constructor(e){super(),en.add(this),di.set(this,void 0),Il.set(this,void 0),ia.set(this,void 0),je(this,di,e),je(this,Il,[])}get currentChatCompletionSnapshot(){return G(this,ia,"f")}static fromReadableStream(e){const t=new wd(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){const a=new wd(t);return a._run(()=>a._runChatCompletion(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(e,t,r){super._createChatCompletion;const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),G(this,en,"m",_0).call(this);const l=await e.chat.completions.create({...t,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const d of l)G(this,en,"m",v0).call(this,d);if(l.controller.signal?.aborted)throw new Nr;return this._addChatCompletion(G(this,en,"m",Uf).call(this))}async _fromReadableStream(e,t){const r=t?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),G(this,en,"m",_0).call(this),this._connected();const a=Ps.fromReadableStream(e,this.controller);let l;for await(const d of a)l&&l!==d.id&&this._addChatCompletion(G(this,en,"m",Uf).call(this)),G(this,en,"m",v0).call(this,d),l=d.id;if(a.controller.signal?.aborted)throw new Nr;return this._addChatCompletion(G(this,en,"m",Uf).call(this))}[(di=new WeakMap,Il=new WeakMap,ia=new WeakMap,en=new WeakSet,_0=function(){this.ended||je(this,ia,void 0)},zf=function(t){let r=G(this,Il,"f")[t.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},G(this,Il,"f")[t.index]=r,r)},v0=function(t){if(this.ended)return;const r=G(this,en,"m",ET).call(this,t);this._emit("chunk",t,r);for(const a of t.choices){const l=r.choices[a.index];a.delta.content!=null&&l.message?.role==="assistant"&&l.message?.content&&(this._emit("content",a.delta.content,l.message.content),this._emit("content.delta",{delta:a.delta.content,snapshot:l.message.content,parsed:l.message.parsed})),a.delta.refusal!=null&&l.message?.role==="assistant"&&l.message?.refusal&&this._emit("refusal.delta",{delta:a.delta.refusal,snapshot:l.message.refusal}),a.logprobs?.content!=null&&l.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:a.logprobs?.content,snapshot:l.logprobs?.content??[]}),a.logprobs?.refusal!=null&&l.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:a.logprobs?.refusal,snapshot:l.logprobs?.refusal??[]});const d=G(this,en,"m",zf).call(this,l);l.finish_reason&&(G(this,en,"m",x0).call(this,l),d.current_tool_call_index!=null&&G(this,en,"m",b0).call(this,l,d.current_tool_call_index));for(const f of a.delta.tool_calls??[])d.current_tool_call_index!==f.index&&(G(this,en,"m",x0).call(this,l),d.current_tool_call_index!=null&&G(this,en,"m",b0).call(this,l,d.current_tool_call_index)),d.current_tool_call_index=f.index;for(const f of a.delta.tool_calls??[]){const m=l.message.tool_calls?.[f.index];m?.type&&(m?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:m.function?.name,index:f.index,arguments:m.function.arguments,parsed_arguments:m.function.parsed_arguments,arguments_delta:f.function?.arguments??""}):(m?.type,void 0))}}},b0=function(t,r){if(G(this,en,"m",zf).call(this,t).done_tool_calls.has(r))return;const l=t.message.tool_calls?.[r];if(!l)throw new Error("no tool call snapshot");if(!l.type)throw new Error("tool call snapshot missing `type`");if(l.type==="function"){const d=G(this,di,"f")?.tools?.find(f=>$p(f)&&f.function.name===l.function.name);this._emit("tool_calls.function.arguments.done",{name:l.function.name,index:r,arguments:l.function.arguments,parsed_arguments:Wd(d)?d.$parseRaw(l.function.arguments):d?.function.strict?JSON.parse(l.function.arguments):null})}else l.type},x0=function(t){const r=G(this,en,"m",zf).call(this,t);if(t.message.content&&!r.content_done){r.content_done=!0;const a=G(this,en,"m",w0).call(this);this._emit("content.done",{content:t.message.content,parsed:a?a.$parseRaw(t.message.content):null})}t.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),t.logprobs?.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),t.logprobs?.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},Uf=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");const t=G(this,ia,"f");if(!t)throw new Te("request ended without sending any chunks");return je(this,ia,void 0),je(this,Il,[]),t7(t,G(this,di,"f"))},w0=function(){const t=G(this,di,"f")?.response_format;return tb(t)?t:null},ET=function(t){var r,a,l,d;let f=G(this,ia,"f");const{choices:m,...g}=t;f?Object.assign(f,g):f=je(this,ia,{...g,choices:[]});for(const{delta:_,finish_reason:v,index:w,logprobs:S=null,...T}of t.choices){let I=f.choices[w];if(I||(I=f.choices[w]={finish_reason:v,index:w,message:{},logprobs:S,...T}),S)if(!I.logprobs)I.logprobs=Object.assign({},S);else{const{content:pe,refusal:j,...C}=S;Object.assign(I.logprobs,C),pe&&((r=I.logprobs).content??(r.content=[]),I.logprobs.content.push(...pe)),j&&((a=I.logprobs).refusal??(a.refusal=[]),I.logprobs.refusal.push(...j))}if(v&&(I.finish_reason=v,G(this,di,"f")&&dI(G(this,di,"f")))){if(v==="length")throw new WC;if(v==="content_filter")throw new GC}if(Object.assign(I,T),!_)continue;const{content:D,refusal:F,function_call:z,role:J,tool_calls:ae,...ce}=_;if(Object.assign(I.message,ce),F&&(I.message.refusal=(I.message.refusal||"")+F),J&&(I.message.role=J),z&&(I.message.function_call?(z.name&&(I.message.function_call.name=z.name),z.arguments&&((l=I.message.function_call).arguments??(l.arguments=""),I.message.function_call.arguments+=z.arguments)):I.message.function_call=z),D&&(I.message.content=(I.message.content||"")+D,!I.message.refusal&&G(this,en,"m",w0).call(this)&&(I.message.parsed=wT(I.message.content))),ae){I.message.tool_calls||(I.message.tool_calls=[]);for(const{index:pe,id:j,type:C,function:k,...M}of ae){const O=(d=I.message.tool_calls)[pe]??(d[pe]={});Object.assign(O,M),j&&(O.id=j),C&&(O.type=C),k&&(O.function??(O.function={name:k.name??"",arguments:""})),k?.name&&(O.function.name=k.name),k?.arguments&&(O.function.arguments+=k.arguments,WB(G(this,di,"f"),O)&&(O.function.parsed_arguments=wT(O.function.arguments)))}}}return f},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("chunk",a=>{const l=t.shift();l?l.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of t)a.resolve(void 0);t.length=0}),this.on("abort",a=>{r=!0;for(const l of t)l.reject(a);t.length=0}),this.on("error",a=>{r=!0;for(const l of t)l.reject(a);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((l,d)=>t.push({resolve:l,reject:d})).then(l=>l?{value:l,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ps(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function t7(n,e){const{id:t,choices:r,created:a,model:l,system_fingerprint:d,...f}=n,m={...f,id:t,choices:r.map(({message:g,finish_reason:_,index:v,logprobs:w,...S})=>{if(!_)throw new Te(`missing finish_reason for choice ${v}`);const{content:T=null,function_call:I,tool_calls:D,...F}=g,z=g.role;if(!z)throw new Te(`missing role for choice ${v}`);if(I){const{arguments:J,name:ae}=I;if(J==null)throw new Te(`missing function_call.arguments for choice ${v}`);if(!ae)throw new Te(`missing function_call.name for choice ${v}`);return{...S,message:{content:T,function_call:{arguments:J,name:ae},role:z,refusal:g.refusal??null},finish_reason:_,index:v,logprobs:w}}return D?{...S,index:v,finish_reason:_,logprobs:w,message:{...F,role:z,content:T,refusal:g.refusal??null,tool_calls:D.map((J,ae)=>{const{function:ce,type:pe,id:j,...C}=J,{arguments:k,name:M,...O}=ce||{};if(j==null)throw new Te(`missing choices[${v}].tool_calls[${ae}].id
${Bf(n)}`);if(pe==null)throw new Te(`missing choices[${v}].tool_calls[${ae}].type
${Bf(n)}`);if(M==null)throw new Te(`missing choices[${v}].tool_calls[${ae}].function.name
${Bf(n)}`);if(k==null)throw new Te(`missing choices[${v}].tool_calls[${ae}].function.arguments
${Bf(n)}`);return{...C,id:j,type:pe,function:{...O,name:M,arguments:k}}})}}:{...S,message:{...F,content:T,role:z,refusal:g.refusal??null},finish_reason:_,index:v,logprobs:w}}),created:a,model:l,object:"chat.completion",...d?{system_fingerprint:d}:{}};return qB(m,e)}function Bf(n){return JSON.stringify(n)}class Qp extends wd{static fromReadableStream(e){const t=new Qp(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,r){const a=new Qp(t),l={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,t,l)),a}}let ib=class extends Ee{constructor(){super(...arguments),this.messages=new uI(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(oe`/chat/completions/${e}`,t)}update(e,t,r){return this._client.post(oe`/chat/completions/${e}`,{body:t,...r})}list(e={},t){return this._client.getAPIList("/chat/completions",Qt,{query:e,...t})}delete(e,t){return this._client.delete(oe`/chat/completions/${e}`,t)}parse(e,t){return GB(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>nb(r,e))}runTools(e,t){return e.stream?Qp.runTools(this._client,e,t):sb.runTools(this._client,e,t)}stream(e,t){return wd.createChatCompletion(this._client,e,t)}};ib.Messages=uI;class ab extends Ee{constructor(){super(...arguments),this.completions=new ib(this._client)}}ab.Completions=ib;const kI=Symbol("brand.privateNullableHeaders");function*n7(n){if(!n)return;if(kI in n){const{values:r,nulls:a}=n;yield*r.entries();for(const l of a)yield[l,null];return}let e=!1,t;n instanceof Headers?t=n.entries():oT(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let r of t){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const l=oT(r[1])?r[1]:[r[1]];let d=!1;for(const f of l)f!==void 0&&(e&&!d&&(d=!0,yield[a,null]),yield[a,f])}}const be=n=>{const e=new Headers,t=new Set;for(const r of n){const a=new Set;for(const[l,d]of n7(r)){const f=l.toLowerCase();a.has(f)||(e.delete(l),a.add(f)),d===null?(e.delete(l),t.add(f)):(e.append(l,d),t.delete(f))}}return{[kI]:!0,values:e,nulls:t}};class NI extends Ee{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:be([{Accept:"application/octet-stream"},t?.headers]),__binaryResponse:!0})}}class DI extends Ee{create(e,t){return this._client.post("/audio/transcriptions",No({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class OI extends Ee{create(e,t){return this._client.post("/audio/translations",No({body:e,...t,__metadata:{model:e.model}},this._client))}}class Gd extends Ee{constructor(){super(...arguments),this.transcriptions=new DI(this._client),this.translations=new OI(this._client),this.speech=new NI(this._client)}}Gd.Transcriptions=DI;Gd.Translations=OI;Gd.Speech=NI;class PI extends Ee{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(oe`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",Qt,{query:e,...t})}cancel(e,t){return this._client.post(oe`/batches/${e}/cancel`,t)}}class MI extends Ee{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(oe`/assistants/${e}`,{...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(oe`/assistants/${e}`,{body:t,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},t){return this._client.getAPIList("/assistants",Qt,{query:e,...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(oe`/assistants/${e}`,{...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}let LI=class extends Ee{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}};class VI extends Ee{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}let Mm=class extends Ee{constructor(){super(...arguments),this.sessions=new LI(this._client),this.transcriptionSessions=new VI(this._client)}};Mm.Sessions=LI;Mm.TranscriptionSessions=VI;class zI extends Ee{create(e,t){return this._client.post("/chatkit/sessions",{body:e,...t,headers:be([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}cancel(e,t){return this._client.post(oe`/chatkit/sessions/${e}/cancel`,{...t,headers:be([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}}let UI=class extends Ee{retrieve(e,t){return this._client.get(oe`/chatkit/threads/${e}`,{...t,headers:be([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}list(e={},t){return this._client.getAPIList("/chatkit/threads",Hp,{query:e,...t,headers:be([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}delete(e,t){return this._client.delete(oe`/chatkit/threads/${e}`,{...t,headers:be([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}listItems(e,t={},r){return this._client.getAPIList(oe`/chatkit/threads/${e}/items`,Hp,{query:t,...r,headers:be([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}};class Lm extends Ee{constructor(){super(...arguments),this.sessions=new zI(this._client),this.threads=new UI(this._client)}}Lm.Sessions=zI;Lm.Threads=UI;class BI extends Ee{create(e,t,r){return this._client.post(oe`/threads/${e}/messages`,{body:t,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){const{thread_id:a}=t;return this._client.get(oe`/threads/${a}/messages/${e}`,{...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){const{thread_id:a,...l}=t;return this._client.post(oe`/threads/${a}/messages/${e}`,{body:l,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(oe`/threads/${e}/messages`,Qt,{query:t,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t,r){const{thread_id:a}=t;return this._client.delete(oe`/threads/${a}/messages/${e}`,{...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class FI extends Ee{retrieve(e,t,r){const{thread_id:a,run_id:l,...d}=t;return this._client.get(oe`/threads/${a}/runs/${l}/steps/${e}`,{query:d,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t,r){const{thread_id:a,...l}=t;return this._client.getAPIList(oe`/threads/${a}/runs/${e}/steps`,Qt,{query:l,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}const r7=n=>{if(typeof Buffer<"u"){const e=Buffer.from(n,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(n),t=e.length,r=new Uint8Array(t);for(let a=0;a<t;a++)r[a]=e.charCodeAt(a);return Array.from(new Float32Array(r.buffer))}};var s7={};const jl=n=>{if(typeof globalThis.process<"u")return s7?.[n]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(n)?.trim()};var yn,mo,y_,Ns,dp,Qr,go,Ul,lo,Xp,lr,hp,fp,od,Gu,Ku,ST,TT,AT,RT,CT,IT,jT;class ld extends rb{constructor(){super(...arguments),yn.add(this),y_.set(this,[]),Ns.set(this,{}),dp.set(this,{}),Qr.set(this,void 0),go.set(this,void 0),Ul.set(this,void 0),lo.set(this,void 0),Xp.set(this,void 0),lr.set(this,void 0),hp.set(this,void 0),fp.set(this,void 0),od.set(this,void 0)}[(y_=new WeakMap,Ns=new WeakMap,dp=new WeakMap,Qr=new WeakMap,go=new WeakMap,Ul=new WeakMap,lo=new WeakMap,Xp=new WeakMap,lr=new WeakMap,hp=new WeakMap,fp=new WeakMap,od=new WeakMap,yn=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",a=>{const l=t.shift();l?l.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of t)a.resolve(void 0);t.length=0}),this.on("abort",a=>{r=!0;for(const l of t)l.reject(a);t.length=0}),this.on("error",a=>{r=!0;for(const l of t)l.reject(a);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((l,d)=>t.push({resolve:l,reject:d})).then(l=>l?{value:l,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new mo;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){const r=t?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const a=Ps.fromReadableStream(e,this.controller);for await(const l of a)G(this,yn,"m",Gu).call(this,l);if(a.controller.signal?.aborted)throw new Nr;return this._addRun(G(this,yn,"m",Ku).call(this))}toReadableStream(){return new Ps(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,a){const l=new mo;return l._run(()=>l._runToolAssistantStream(e,t,r,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createToolAssistantStream(e,t,r,a){const l=a?.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const d={...r,stream:!0},f=await e.submitToolOutputs(t,d,{...a,signal:this.controller.signal});this._connected();for await(const m of f)G(this,yn,"m",Gu).call(this,m);if(f.controller.signal?.aborted)throw new Nr;return this._addRun(G(this,yn,"m",Ku).call(this))}static createThreadAssistantStream(e,t,r){const a=new mo;return a._run(()=>a._threadAssistantStream(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(e,t,r,a){const l=new mo;return l._run(()=>l._runAssistantStream(e,t,r,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}})),l}currentEvent(){return G(this,hp,"f")}currentRun(){return G(this,fp,"f")}currentMessageSnapshot(){return G(this,Qr,"f")}currentRunStepSnapshot(){return G(this,od,"f")}async finalRunSteps(){return await this.done(),Object.values(G(this,Ns,"f"))}async finalMessages(){return await this.done(),Object.values(G(this,dp,"f"))}async finalRun(){if(await this.done(),!G(this,go,"f"))throw Error("Final run was not received.");return G(this,go,"f")}async _createThreadAssistantStream(e,t,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const l={...t,stream:!0},d=await e.createAndRun(l,{...r,signal:this.controller.signal});this._connected();for await(const f of d)G(this,yn,"m",Gu).call(this,f);if(d.controller.signal?.aborted)throw new Nr;return this._addRun(G(this,yn,"m",Ku).call(this))}async _createAssistantStream(e,t,r,a){const l=a?.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const d={...r,stream:!0},f=await e.create(t,d,{...a,signal:this.controller.signal});this._connected();for await(const m of f)G(this,yn,"m",Gu).call(this,m);if(f.controller.signal?.aborted)throw new Nr;return this._addRun(G(this,yn,"m",Ku).call(this))}static accumulateDelta(e,t){for(const[r,a]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=a;continue}let l=e[r];if(l==null){e[r]=a;continue}if(r==="index"||r==="type"){e[r]=a;continue}if(typeof l=="string"&&typeof a=="string")l+=a;else if(typeof l=="number"&&typeof a=="number")l+=a;else if(m0(l)&&m0(a))l=this.accumulateDelta(l,a);else if(Array.isArray(l)&&Array.isArray(a)){if(l.every(d=>typeof d=="string"||typeof d=="number")){l.push(...a);continue}for(const d of a){if(!m0(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const f=d.index;if(f==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof f!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${f}`);const m=l[f];m==null?l.push(d):l[f]=this.accumulateDelta(m,d)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${a}, accValue: ${l}`);e[r]=l}return e}_addRun(e){return e}async _threadAssistantStream(e,t,r){return await this._createThreadAssistantStream(t,e,r)}async _runAssistantStream(e,t,r,a){return await this._createAssistantStream(t,e,r,a)}async _runToolAssistantStream(e,t,r,a){return await this._createToolAssistantStream(t,e,r,a)}}mo=ld,Gu=function(e){if(!this.ended)switch(je(this,hp,e),G(this,yn,"m",AT).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":G(this,yn,"m",jT).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":G(this,yn,"m",TT).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":G(this,yn,"m",ST).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Ku=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");if(!G(this,go,"f"))throw Error("Final run has not been received");return G(this,go,"f")},ST=function(e){const[t,r]=G(this,yn,"m",CT).call(this,e,G(this,Qr,"f"));je(this,Qr,t),G(this,dp,"f")[t.id]=t;for(const a of r){const l=t.content[a.index];l?.type=="text"&&this._emit("textCreated",l.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const a of e.data.delta.content){if(a.type=="text"&&a.text){let l=a.text,d=t.content[a.index];if(d&&d.type=="text")this._emit("textDelta",l,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=G(this,Ul,"f")){if(G(this,lo,"f"))switch(G(this,lo,"f").type){case"text":this._emit("textDone",G(this,lo,"f").text,G(this,Qr,"f"));break;case"image_file":this._emit("imageFileDone",G(this,lo,"f").image_file,G(this,Qr,"f"));break}je(this,Ul,a.index)}je(this,lo,t.content[a.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(G(this,Ul,"f")!==void 0){const a=e.data.content[G(this,Ul,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,G(this,Qr,"f"));break;case"text":this._emit("textDone",a.text,G(this,Qr,"f"));break}}G(this,Qr,"f")&&this._emit("messageDone",e.data),je(this,Qr,void 0)}},TT=function(e){const t=G(this,yn,"m",RT).call(this,e);switch(je(this,od,t),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const l of r.step_details.tool_calls)l.index==G(this,Xp,"f")?this._emit("toolCallDelta",l,t.step_details.tool_calls[l.index]):(G(this,lr,"f")&&this._emit("toolCallDone",G(this,lr,"f")),je(this,Xp,l.index),je(this,lr,t.step_details.tool_calls[l.index]),G(this,lr,"f")&&this._emit("toolCallCreated",G(this,lr,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":je(this,od,void 0),e.data.step_details.type=="tool_calls"&&G(this,lr,"f")&&(this._emit("toolCallDone",G(this,lr,"f")),je(this,lr,void 0)),this._emit("runStepDone",e.data,t);break}},AT=function(e){G(this,y_,"f").push(e),this._emit("event",e)},RT=function(e){switch(e.event){case"thread.run.step.created":return G(this,Ns,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=G(this,Ns,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const a=mo.accumulateDelta(t,r.delta);G(this,Ns,"f")[e.data.id]=a}return G(this,Ns,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":G(this,Ns,"f")[e.data.id]=e.data;break}if(G(this,Ns,"f")[e.data.id])return G(this,Ns,"f")[e.data.id];throw new Error("No snapshot available")},CT=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=e.data;if(a.delta.content)for(const l of a.delta.content)if(l.index in t.content){let d=t.content[l.index];t.content[l.index]=G(this,yn,"m",IT).call(this,l,d)}else t.content[l.index]=l,r.push(l);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},IT=function(e,t){return mo.accumulateDelta(t,e)},jT=function(e){switch(je(this,fp,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":je(this,go,e.data),G(this,lr,"f")&&(this._emit("toolCallDone",G(this,lr,"f")),je(this,lr,void 0));break}};let ob=class extends Ee{constructor(){super(...arguments),this.steps=new FI(this._client)}create(e,t,r){const{include:a,...l}=t;return this._client.post(oe`/threads/${e}/runs`,{query:{include:a},body:l,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}retrieve(e,t,r){const{thread_id:a}=t;return this._client.get(oe`/threads/${a}/runs/${e}`,{...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){const{thread_id:a,...l}=t;return this._client.post(oe`/threads/${a}/runs/${e}`,{body:l,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(oe`/threads/${e}/runs`,Qt,{query:t,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,t,r){const{thread_id:a}=t;return this._client.post(oe`/threads/${a}/runs/${e}/cancel`,{...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){const a=await this.create(e,t,r);return await this.poll(a.id,{thread_id:e},r)}createAndStream(e,t,r){return ld.createAssistantStream(e,this._client.beta.threads.runs,t,r)}async poll(e,t,r){const a=be([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:l,response:d}=await this.retrieve(e,t,{...r,headers:{...r?.headers,...a}}).withResponse();switch(l.status){case"queued":case"in_progress":case"cancelling":let f=5e3;if(r?.pollIntervalMs)f=r.pollIntervalMs;else{const m=d.headers.get("openai-poll-after-ms");if(m){const g=parseInt(m);isNaN(g)||(f=g)}}await $d(f);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return l}}}stream(e,t,r){return ld.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r){const{thread_id:a,...l}=t;return this._client.post(oe`/threads/${a}/runs/${e}/submit_tool_outputs`,{body:l,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,r){const a=await this.submitToolOutputs(e,t,r);return await this.poll(a.id,t,r)}submitToolOutputsStream(e,t,r){return ld.createToolAssistantStream(e,this._client.beta.threads.runs,t,r)}};ob.Steps=FI;class Vm extends Ee{constructor(){super(...arguments),this.runs=new ob(this._client),this.messages=new BI(this._client)}create(e={},t){return this._client.post("/threads",{body:e,...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(oe`/threads/${e}`,{...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(oe`/threads/${e}`,{body:t,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t){return this._client.delete(oe`/threads/${e}`,{...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){const r=await this.createAndRun(e,t);return await this.runs.poll(r.id,{thread_id:r.thread_id},t)}createAndRunStream(e,t){return ld.createThreadAssistantStream(e,this._client.beta.threads,t)}}Vm.Runs=ob;Vm.Messages=BI;class hc extends Ee{constructor(){super(...arguments),this.realtime=new Mm(this._client),this.chatkit=new Lm(this._client),this.assistants=new MI(this._client),this.threads=new Vm(this._client)}}hc.Realtime=Mm;hc.ChatKit=Lm;hc.Assistants=MI;hc.Threads=Vm;class qI extends Ee{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class HI extends Ee{retrieve(e,t,r){const{container_id:a}=t;return this._client.get(oe`/containers/${a}/files/${e}/content`,{...r,headers:be([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}}let lb=class extends Ee{constructor(){super(...arguments),this.content=new HI(this._client)}create(e,t,r){return this._client.post(oe`/containers/${e}/files`,No({body:t,...r},this._client))}retrieve(e,t,r){const{container_id:a}=t;return this._client.get(oe`/containers/${a}/files/${e}`,r)}list(e,t={},r){return this._client.getAPIList(oe`/containers/${e}/files`,Qt,{query:t,...r})}delete(e,t,r){const{container_id:a}=t;return this._client.delete(oe`/containers/${a}/files/${e}`,{...r,headers:be([{Accept:"*/*"},r?.headers])})}};lb.Content=HI;class cb extends Ee{constructor(){super(...arguments),this.files=new lb(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(oe`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",Qt,{query:e,...t})}delete(e,t){return this._client.delete(oe`/containers/${e}`,{...t,headers:be([{Accept:"*/*"},t?.headers])})}}cb.Files=lb;class $I extends Ee{create(e,t,r){const{include:a,...l}=t;return this._client.post(oe`/conversations/${e}/items`,{query:{include:a},body:l,...r})}retrieve(e,t,r){const{conversation_id:a,...l}=t;return this._client.get(oe`/conversations/${a}/items/${e}`,{query:l,...r})}list(e,t={},r){return this._client.getAPIList(oe`/conversations/${e}/items`,Hp,{query:t,...r})}delete(e,t,r){const{conversation_id:a}=t;return this._client.delete(oe`/conversations/${a}/items/${e}`,r)}}class ub extends Ee{constructor(){super(...arguments),this.items=new $I(this._client)}create(e={},t){return this._client.post("/conversations",{body:e,...t})}retrieve(e,t){return this._client.get(oe`/conversations/${e}`,t)}update(e,t,r){return this._client.post(oe`/conversations/${e}`,{body:t,...r})}delete(e,t){return this._client.delete(oe`/conversations/${e}`,t)}}ub.Items=$I;class WI extends Ee{create(e,t){const r=!!e.encoding_format;let a=r?e.encoding_format:"base64";r&&gn(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const l=this._client.post("/embeddings",{body:{...e,encoding_format:a},...t});return r?l:(gn(this._client).debug("embeddings/decoding base64 embeddings from base64"),l._thenUnwrap(d=>(d&&d.data&&d.data.forEach(f=>{const m=f.embedding;f.embedding=r7(m)}),d)))}}class GI extends Ee{retrieve(e,t,r){const{eval_id:a,run_id:l}=t;return this._client.get(oe`/evals/${a}/runs/${l}/output_items/${e}`,r)}list(e,t,r){const{eval_id:a,...l}=t;return this._client.getAPIList(oe`/evals/${a}/runs/${e}/output_items`,Qt,{query:l,...r})}}class db extends Ee{constructor(){super(...arguments),this.outputItems=new GI(this._client)}create(e,t,r){return this._client.post(oe`/evals/${e}/runs`,{body:t,...r})}retrieve(e,t,r){const{eval_id:a}=t;return this._client.get(oe`/evals/${a}/runs/${e}`,r)}list(e,t={},r){return this._client.getAPIList(oe`/evals/${e}/runs`,Qt,{query:t,...r})}delete(e,t,r){const{eval_id:a}=t;return this._client.delete(oe`/evals/${a}/runs/${e}`,r)}cancel(e,t,r){const{eval_id:a}=t;return this._client.post(oe`/evals/${a}/runs/${e}`,r)}}db.OutputItems=GI;class hb extends Ee{constructor(){super(...arguments),this.runs=new db(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(oe`/evals/${e}`,t)}update(e,t,r){return this._client.post(oe`/evals/${e}`,{body:t,...r})}list(e={},t){return this._client.getAPIList("/evals",Qt,{query:e,...t})}delete(e,t){return this._client.delete(oe`/evals/${e}`,t)}}hb.Runs=db;let KI=class extends Ee{create(e,t){return this._client.post("/files",No({body:e,...t},this._client))}retrieve(e,t){return this._client.get(oe`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",Qt,{query:e,...t})}delete(e,t){return this._client.delete(oe`/files/${e}`,t)}content(e,t){return this._client.get(oe`/files/${e}/content`,{...t,headers:be([{Accept:"application/binary"},t?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:r=1800*1e3}={}){const a=new Set(["processed","error","deleted"]),l=Date.now();let d=await this.retrieve(e);for(;!d.status||!a.has(d.status);)if(await $d(t),d=await this.retrieve(e),Date.now()-l>r)throw new Xv({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return d}};class YI extends Ee{}let QI=class extends Ee{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}};class fb extends Ee{constructor(){super(...arguments),this.graders=new QI(this._client)}}fb.Graders=QI;class XI extends Ee{create(e,t,r){return this._client.getAPIList(oe`/fine_tuning/checkpoints/${e}/permissions`,Pm,{body:t,method:"post",...r})}retrieve(e,t={},r){return this._client.get(oe`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...r})}delete(e,t,r){const{fine_tuned_model_checkpoint:a}=t;return this._client.delete(oe`/fine_tuning/checkpoints/${a}/permissions/${e}`,r)}}let pb=class extends Ee{constructor(){super(...arguments),this.permissions=new XI(this._client)}};pb.Permissions=XI;class JI extends Ee{list(e,t={},r){return this._client.getAPIList(oe`/fine_tuning/jobs/${e}/checkpoints`,Qt,{query:t,...r})}}class mb extends Ee{constructor(){super(...arguments),this.checkpoints=new JI(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(oe`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",Qt,{query:e,...t})}cancel(e,t){return this._client.post(oe`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return this._client.getAPIList(oe`/fine_tuning/jobs/${e}/events`,Qt,{query:t,...r})}pause(e,t){return this._client.post(oe`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(oe`/fine_tuning/jobs/${e}/resume`,t)}}mb.Checkpoints=JI;class fc extends Ee{constructor(){super(...arguments),this.methods=new YI(this._client),this.jobs=new mb(this._client),this.checkpoints=new pb(this._client),this.alpha=new fb(this._client)}}fc.Methods=YI;fc.Jobs=mb;fc.Checkpoints=pb;fc.Alpha=fb;class ZI extends Ee{}class gb extends Ee{constructor(){super(...arguments),this.graderModels=new ZI(this._client)}}gb.GraderModels=ZI;class ej extends Ee{createVariation(e,t){return this._client.post("/images/variations",No({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",No({body:e,...t,stream:e.stream??!1},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t,stream:e.stream??!1})}}class tj extends Ee{retrieve(e,t){return this._client.get(oe`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",Pm,e)}delete(e,t){return this._client.delete(oe`/models/${e}`,t)}}class nj extends Ee{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class rj extends Ee{accept(e,t,r){return this._client.post(oe`/realtime/calls/${e}/accept`,{body:t,...r,headers:be([{Accept:"*/*"},r?.headers])})}hangup(e,t){return this._client.post(oe`/realtime/calls/${e}/hangup`,{...t,headers:be([{Accept:"*/*"},t?.headers])})}refer(e,t,r){return this._client.post(oe`/realtime/calls/${e}/refer`,{body:t,...r,headers:be([{Accept:"*/*"},r?.headers])})}reject(e,t={},r){return this._client.post(oe`/realtime/calls/${e}/reject`,{body:t,...r,headers:be([{Accept:"*/*"},r?.headers])})}}class sj extends Ee{create(e,t){return this._client.post("/realtime/client_secrets",{body:e,...t})}}class zm extends Ee{constructor(){super(...arguments),this.clientSecrets=new sj(this._client),this.calls=new rj(this._client)}}zm.ClientSecrets=sj;zm.Calls=rj;function i7(n,e){return!e||!o7(e)?{...n,output_parsed:null,output:n.output.map(t=>t.type==="function_call"?{...t,parsed_arguments:null}:t.type==="message"?{...t,content:t.content.map(r=>({...r,parsed:null}))}:t)}:ij(n,e)}function ij(n,e){const t=n.output.map(a=>{if(a.type==="function_call")return{...a,parsed_arguments:u7(e,a)};if(a.type==="message"){const l=a.content.map(d=>d.type==="output_text"?{...d,parsed:a7(e,d.text)}:d);return{...a,content:l}}return a}),r=Object.assign({},n,{output:t});return Object.getOwnPropertyDescriptor(n,"output_text")||__(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const a of r.output)if(a.type==="message"){for(const l of a.content)if(l.type==="output_text"&&l.parsed!==null)return l.parsed}return null}}),r}function a7(n,e){return n.text?.format?.type!=="json_schema"?null:"$parseRaw"in n.text?.format?(n.text?.format).$parseRaw(e):JSON.parse(e)}function o7(n){return!!tb(n.text?.format)}function l7(n){return n?.$brand==="auto-parseable-tool"}function c7(n,e){return n.find(t=>t.type==="function"&&t.name===e)}function u7(n,e){const t=c7(n.tools??[],e.name);return{...e,...e,parsed_arguments:l7(t)?t.$parseRaw(e.arguments):t?.strict?JSON.parse(e.arguments):null}}function __(n){const e=[];for(const t of n.output)if(t.type==="message")for(const r of t.content)r.type==="output_text"&&e.push(r.text);n.output_text=e.join("")}var kl,Ff,aa,qf,kT,NT,DT,OT;class yb extends rb{constructor(e){super(),kl.add(this),Ff.set(this,void 0),aa.set(this,void 0),qf.set(this,void 0),je(this,Ff,e)}static createResponse(e,t,r){const a=new yb(t);return a._run(()=>a._createOrRetrieveResponse(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createOrRetrieveResponse(e,t,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),G(this,kl,"m",kT).call(this);let l,d=null;"response_id"in t?(l=await e.responses.retrieve(t.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),d=t.starting_after??null):l=await e.responses.create({...t,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const f of l)G(this,kl,"m",NT).call(this,f,d);if(l.controller.signal?.aborted)throw new Nr;return G(this,kl,"m",DT).call(this)}[(Ff=new WeakMap,aa=new WeakMap,qf=new WeakMap,kl=new WeakSet,kT=function(){this.ended||je(this,aa,void 0)},NT=function(t,r){if(this.ended)return;const a=(d,f)=>{(r==null||f.sequence_number>r)&&this._emit(d,f)},l=G(this,kl,"m",OT).call(this,t);switch(a("event",t),t.type){case"response.output_text.delta":{const d=l.output[t.output_index];if(!d)throw new Te(`missing output at index ${t.output_index}`);if(d.type==="message"){const f=d.content[t.content_index];if(!f)throw new Te(`missing content at index ${t.content_index}`);if(f.type!=="output_text")throw new Te(`expected content to be 'output_text', got ${f.type}`);a("response.output_text.delta",{...t,snapshot:f.text})}break}case"response.function_call_arguments.delta":{const d=l.output[t.output_index];if(!d)throw new Te(`missing output at index ${t.output_index}`);d.type==="function_call"&&a("response.function_call_arguments.delta",{...t,snapshot:d.arguments});break}default:a(t.type,t);break}},DT=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");const t=G(this,aa,"f");if(!t)throw new Te("request ended without sending any events");je(this,aa,void 0);const r=d7(t,G(this,Ff,"f"));return je(this,qf,r),r},OT=function(t){let r=G(this,aa,"f");if(!r){if(t.type!=="response.created")throw new Te(`When snapshot hasn't been set yet, expected 'response.created' event, got ${t.type}`);return r=je(this,aa,t.response),r}switch(t.type){case"response.output_item.added":{r.output.push(t.item);break}case"response.content_part.added":{const a=r.output[t.output_index];if(!a)throw new Te(`missing output at index ${t.output_index}`);const l=a.type,d=t.part;l==="message"&&d.type!=="reasoning_text"?a.content.push(d):l==="reasoning"&&d.type==="reasoning_text"&&(a.content||(a.content=[]),a.content.push(d));break}case"response.output_text.delta":{const a=r.output[t.output_index];if(!a)throw new Te(`missing output at index ${t.output_index}`);if(a.type==="message"){const l=a.content[t.content_index];if(!l)throw new Te(`missing content at index ${t.content_index}`);if(l.type!=="output_text")throw new Te(`expected content to be 'output_text', got ${l.type}`);l.text+=t.delta}break}case"response.function_call_arguments.delta":{const a=r.output[t.output_index];if(!a)throw new Te(`missing output at index ${t.output_index}`);a.type==="function_call"&&(a.arguments+=t.delta);break}case"response.reasoning_text.delta":{const a=r.output[t.output_index];if(!a)throw new Te(`missing output at index ${t.output_index}`);if(a.type==="reasoning"){const l=a.content?.[t.content_index];if(!l)throw new Te(`missing content at index ${t.content_index}`);if(l.type!=="reasoning_text")throw new Te(`expected content to be 'reasoning_text', got ${l.type}`);l.text+=t.delta}break}case"response.completed":{je(this,aa,t.response);break}}return r},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",a=>{const l=t.shift();l?l.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of t)a.resolve(void 0);t.length=0}),this.on("abort",a=>{r=!0;for(const l of t)l.reject(a);t.length=0}),this.on("error",a=>{r=!0;for(const l of t)l.reject(a);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((l,d)=>t.push({resolve:l,reject:d})).then(l=>l?{value:l,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=G(this,qf,"f");if(!e)throw new Te("stream ended without producing a ChatCompletion");return e}}function d7(n,e){return i7(n,e)}class aj extends Ee{list(e,t={},r){return this._client.getAPIList(oe`/responses/${e}/input_items`,Qt,{query:t,...r})}}class oj extends Ee{count(e={},t){return this._client.post("/responses/input_tokens",{body:e,...t})}}class Um extends Ee{constructor(){super(...arguments),this.inputItems=new aj(this._client),this.inputTokens=new oj(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&__(r),r))}retrieve(e,t={},r){return this._client.get(oe`/responses/${e}`,{query:t,...r,stream:t?.stream??!1})._thenUnwrap(a=>("object"in a&&a.object==="response"&&__(a),a))}delete(e,t){return this._client.delete(oe`/responses/${e}`,{...t,headers:be([{Accept:"*/*"},t?.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(r=>ij(r,e))}stream(e,t){return yb.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(oe`/responses/${e}/cancel`,t)}compact(e,t){return this._client.post("/responses/compact",{body:e,...t})}}Um.InputItems=aj;Um.InputTokens=oj;class lj extends Ee{create(e,t,r){return this._client.post(oe`/uploads/${e}/parts`,No({body:t,...r},this._client))}}class _b extends Ee{constructor(){super(...arguments),this.parts=new lj(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(oe`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(oe`/uploads/${e}/complete`,{body:t,...r})}}_b.Parts=lj;const h7=async n=>{const e=await Promise.allSettled(n),t=e.filter(a=>a.status==="rejected");if(t.length){for(const a of t)console.error(a.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const r=[];for(const a of e)a.status==="fulfilled"&&r.push(a.value);return r};class cj extends Ee{create(e,t,r){return this._client.post(oe`/vector_stores/${e}/file_batches`,{body:t,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){const{vector_store_id:a}=t;return this._client.get(oe`/vector_stores/${a}/file_batches/${e}`,{...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,t,r){const{vector_store_id:a}=t;return this._client.post(oe`/vector_stores/${a}/file_batches/${e}/cancel`,{...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){const a=await this.create(e,t);return await this.poll(e,a.id,r)}listFiles(e,t,r){const{vector_store_id:a,...l}=t;return this._client.getAPIList(oe`/vector_stores/${a}/file_batches/${e}/files`,Qt,{query:l,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async poll(e,t,r){const a=be([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:l,response:d}=await this.retrieve(t,{vector_store_id:e},{...r,headers:a}).withResponse();switch(l.status){case"in_progress":let f=5e3;if(r?.pollIntervalMs)f=r.pollIntervalMs;else{const m=d.headers.get("openai-poll-after-ms");if(m){const g=parseInt(m);isNaN(g)||(f=g)}}await $d(f);break;case"failed":case"cancelled":case"completed":return l}}}async uploadAndPoll(e,{files:t,fileIds:r=[]},a){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const l=a?.maxConcurrency??5,d=Math.min(l,t.length),f=this._client,m=t.values(),g=[...r];async function _(w){for(let S of w){const T=await f.files.create({file:S,purpose:"assistants"},a);g.push(T.id)}}const v=Array(d).fill(m).map(_);return await h7(v),await this.createAndPoll(e,{file_ids:g})}}class uj extends Ee{create(e,t,r){return this._client.post(oe`/vector_stores/${e}/files`,{body:t,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){const{vector_store_id:a}=t;return this._client.get(oe`/vector_stores/${a}/files/${e}`,{...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){const{vector_store_id:a,...l}=t;return this._client.post(oe`/vector_stores/${a}/files/${e}`,{body:l,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(oe`/vector_stores/${e}/files`,Qt,{query:t,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t,r){const{vector_store_id:a}=t;return this._client.delete(oe`/vector_stores/${a}/files/${e}`,{...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){const a=await this.create(e,t,r);return await this.poll(e,a.id,r)}async poll(e,t,r){const a=be([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const l=await this.retrieve(t,{vector_store_id:e},{...r,headers:a}).withResponse(),d=l.data;switch(d.status){case"in_progress":let f=5e3;if(r?.pollIntervalMs)f=r.pollIntervalMs;else{const m=l.response.headers.get("openai-poll-after-ms");if(m){const g=parseInt(m);isNaN(g)||(f=g)}}await $d(f);break;case"failed":case"completed":return d}}}async upload(e,t,r){const a=await this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:a.id},r)}async uploadAndPoll(e,t,r){const a=await this.upload(e,t,r);return await this.poll(e,a.id,r)}content(e,t,r){const{vector_store_id:a}=t;return this._client.getAPIList(oe`/vector_stores/${a}/files/${e}/content`,Pm,{...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class Bm extends Ee{constructor(){super(...arguments),this.files=new uj(this._client),this.fileBatches=new cj(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(oe`/vector_stores/${e}`,{...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(oe`/vector_stores/${e}`,{body:t,...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},t){return this._client.getAPIList("/vector_stores",Qt,{query:e,...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(oe`/vector_stores/${e}`,{...t,headers:be([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}search(e,t,r){return this._client.getAPIList(oe`/vector_stores/${e}/search`,Pm,{body:t,method:"post",...r,headers:be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}Bm.Files=uj;Bm.FileBatches=cj;class dj extends Ee{create(e,t){return this._client.post("/videos",vT({body:e,...t},this._client))}retrieve(e,t){return this._client.get(oe`/videos/${e}`,t)}list(e={},t){return this._client.getAPIList("/videos",Hp,{query:e,...t})}delete(e,t){return this._client.delete(oe`/videos/${e}`,t)}downloadContent(e,t={},r){return this._client.get(oe`/videos/${e}/content`,{query:t,...r,headers:be([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}remix(e,t,r){return this._client.post(oe`/videos/${e}/remix`,vT({body:t,...r},this._client))}}var zl,hj,pp;class fj extends Ee{constructor(){super(...arguments),zl.add(this)}async unwrap(e,t,r=this._client.webhookSecret,a=300){return await this.verifySignature(e,t,r,a),JSON.parse(e)}async verifySignature(e,t,r=this._client.webhookSecret,a=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");G(this,zl,"m",hj).call(this,r);const l=be([t]).values,d=G(this,zl,"m",pp).call(this,l,"webhook-signature"),f=G(this,zl,"m",pp).call(this,l,"webhook-timestamp"),m=G(this,zl,"m",pp).call(this,l,"webhook-id"),g=parseInt(f,10);if(isNaN(g))throw new Uu("Invalid webhook timestamp format");const _=Math.floor(Date.now()/1e3);if(_-g>a)throw new Uu("Webhook timestamp is too old");if(g>_+a)throw new Uu("Webhook timestamp is too new");const v=d.split(" ").map(I=>I.startsWith("v1,")?I.substring(3):I),w=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),S=m?`${m}.${f}.${e}`:`${f}.${e}`,T=await crypto.subtle.importKey("raw",w,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const I of v)try{const D=Buffer.from(I,"base64");if(await crypto.subtle.verify("HMAC",T,D,new TextEncoder().encode(S)))return}catch{continue}throw new Uu("The given webhook signature does not match the expected signature")}}zl=new WeakSet,hj=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},pp=function(e,t){if(!e)throw new Error("Headers are required");const r=e.get(t);if(r==null)throw new Error(`Missing required header: ${t}`);return r};var v_,vb,mp,pj;class ze{constructor({baseURL:e=jl("OPENAI_BASE_URL"),apiKey:t=jl("OPENAI_API_KEY"),organization:r=jl("OPENAI_ORG_ID")??null,project:a=jl("OPENAI_PROJECT_ID")??null,webhookSecret:l=jl("OPENAI_WEBHOOK_SECRET")??null,...d}={}){if(v_.add(this),mp.set(this,void 0),this.completions=new qI(this),this.chat=new ab(this),this.embeddings=new WI(this),this.files=new KI(this),this.images=new ej(this),this.audio=new Gd(this),this.moderations=new nj(this),this.models=new tj(this),this.fineTuning=new fc(this),this.graders=new gb(this),this.vectorStores=new Bm(this),this.webhooks=new fj(this),this.beta=new hc(this),this.batches=new PI(this),this.uploads=new _b(this),this.responses=new Um(this),this.realtime=new zm(this),this.conversations=new ub(this),this.evals=new hb(this),this.containers=new cb(this),this.videos=new dj(this),t===void 0)throw new Te("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const f={apiKey:t,organization:r,project:a,webhookSecret:l,...d,baseURL:e||"https://api.openai.com/v1"};if(!f.dangerouslyAllowBrowser&&fB())throw new Te(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=f.baseURL,this.timeout=f.timeout??vb.DEFAULT_TIMEOUT,this.logger=f.logger??console;const m="warn";this.logLevel=m,this.logLevel=yT(f.logLevel,"ClientOptions.logLevel",this)??yT(jl("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??m,this.fetchOptions=f.fetchOptions,this.maxRetries=f.maxRetries??2,this.fetch=f.fetch??_B(),je(this,mp,bB),this._options=f,this.apiKey=typeof t=="string"?t:"Missing Key",this.organization=r,this.project=a,this.webhookSecret=l}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}async authHeaders(e){return be([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return AB(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Ll}`}defaultIdempotencyKey(){return`stainless-node-retry-${LC()}`}makeStatusError(e,t,r,a){return xn.generate(e,t,r,a)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let t;try{t=await e()}catch(r){throw r instanceof Te?r:new Te(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof t!="string"||!t)throw new Te(`Expected 'apiKey' function argument to return a string but it returned ${t}`);return this.apiKey=t,!0}buildURL(e,t,r){const a=!G(this,v_,"m",pj).call(this)&&r||this.baseURL,l=lB(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return cB(d)||(t={...d,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(l.search=this.stringifyQuery(t)),l.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(a=>({method:e,path:t,...a})))}request(e,t=null){return new Om(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){const a=await e,l=a.maxRetries??this.maxRetries;t==null&&(t=l),await this.prepareOptions(a);const{req:d,url:f,timeout:m}=await this.buildRequest(a,{retryCount:l-t});await this.prepareRequest(d,{url:f,options:a});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(gn(this).debug(`[${g}] sending request`,oo({retryOfRequestLogID:r,method:a.method,url:f,options:a,headers:d.headers})),a.signal?.aborted)throw new Nr;const w=new AbortController,S=await this.fetchWithTimeout(f,d,m,w).catch(o_),T=Date.now();if(S instanceof globalThis.Error){const F=`retrying, ${t} attempts remaining`;if(a.signal?.aborted)throw new Nr;const z=a_(S)||/timed? ?out/i.test(String(S)+("cause"in S?String(S.cause):""));if(t)return gn(this).info(`[${g}] connection ${z?"timed out":"failed"} - ${F}`),gn(this).debug(`[${g}] connection ${z?"timed out":"failed"} (${F})`,oo({retryOfRequestLogID:r,url:f,durationMs:T-v,message:S.message})),this.retryRequest(a,t,r??g);throw gn(this).info(`[${g}] connection ${z?"timed out":"failed"} - error; no more retries left`),gn(this).debug(`[${g}] connection ${z?"timed out":"failed"} (error; no more retries left)`,oo({retryOfRequestLogID:r,url:f,durationMs:T-v,message:S.message})),z?new Xv:new Nm({cause:S})}const I=[...S.headers.entries()].filter(([F])=>F==="x-request-id").map(([F,z])=>", "+F+": "+JSON.stringify(z)).join(""),D=`[${g}${_}${I}] ${d.method} ${f} ${S.ok?"succeeded":"failed"} with status ${S.status} in ${T-v}ms`;if(!S.ok){const F=await this.shouldRetry(S);if(t&&F){const j=`retrying, ${t} attempts remaining`;return await vB(S.body),gn(this).info(`${D} - ${j}`),gn(this).debug(`[${g}] response error (${j})`,oo({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:T-v})),this.retryRequest(a,t,r??g,S.headers)}const z=F?"error; no more retries left":"error; not retryable";gn(this).info(`${D} - ${z}`);const J=await S.text().catch(j=>o_(j).message),ae=hB(J),ce=ae?void 0:J;throw gn(this).debug(`[${g}] response error (${z})`,oo({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,message:ce,durationMs:Date.now()-v})),this.makeStatusError(S.status,ae,ce,S.headers)}return gn(this).info(D),gn(this).debug(`[${g}] response start`,oo({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:T-v})),{response:S,options:a,controller:w,requestLogID:g,retryOfRequestLogID:r,startTime:v}}getAPIList(e,t,r){return this.requestAPIList(t,r&&"then"in r?r.then(a=>({method:"get",path:e,...a})):{method:"get",path:e,...r})}requestAPIList(e,t){const r=this.makeRequest(t,null,void 0);return new PB(this,r,e)}async fetchWithTimeout(e,t,r,a){const{signal:l,method:d,...f}=t||{},m=this._makeAbort(a);l&&l.addEventListener("abort",m,{once:!0});const g=setTimeout(m,r),_=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v={signal:a.signal,..._?{duplex:"half"}:{},method:"GET",...f};d&&(v.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(g)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r,a){let l;const d=a?.get("retry-after-ms");if(d){const m=parseFloat(d);Number.isNaN(m)||(l=m)}const f=a?.get("retry-after");if(f&&!l){const m=parseFloat(f);Number.isNaN(m)?l=Date.parse(f)-Date.now():l=m*1e3}if(!(l&&0<=l&&l<60*1e3)){const m=e.maxRetries??this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(t,m)}return await $d(l),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const l=t-e,d=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return d*f*1e3}async buildRequest(e,{retryCount:t=0}={}){const r={...e},{method:a,path:l,query:d,defaultBaseURL:f}=r,m=this.buildURL(l,d,f);"timeout"in r&&dB("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:g,body:_}=this.buildBody({options:r}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:g,retryCount:t});return{req:{method:a,headers:v,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"},..._&&{body:_},...this.fetchOptions??{},...r.fetchOptions??{}},url:m,timeout:r.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:a}){let l={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const d=be([l,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...yB(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(d),d.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=be([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:QC(e)}:G(this,mp,"f").call(this,{body:e,headers:r})}}vb=ze,mp=new WeakMap,v_=new WeakSet,pj=function(){return this.baseURL!=="https://api.openai.com/v1"};ze.OpenAI=vb;ze.DEFAULT_TIMEOUT=6e5;ze.OpenAIError=Te;ze.APIError=xn;ze.APIConnectionError=Nm;ze.APIConnectionTimeoutError=Xv;ze.APIUserAbortError=Nr;ze.NotFoundError=BC;ze.ConflictError=FC;ze.RateLimitError=HC;ze.BadRequestError=VC;ze.AuthenticationError=zC;ze.InternalServerError=$C;ze.PermissionDeniedError=UC;ze.UnprocessableEntityError=qC;ze.InvalidWebhookSignatureError=Uu;ze.toFile=UB;ze.Completions=qI;ze.Chat=ab;ze.Embeddings=WI;ze.Files=KI;ze.Images=ej;ze.Audio=Gd;ze.Moderations=nj;ze.Models=tj;ze.FineTuning=fc;ze.Graders=gb;ze.VectorStores=Bm;ze.Webhooks=fj;ze.Beta=hc;ze.Batches=PI;ze.Uploads=_b;ze.Responses=Um;ze.Realtime=zm;ze.Conversations=ub;ze.Evals=hb;ze.Containers=cb;ze.Videos=dj;const mj="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",f7="/api/nvidia/v1/chat/completions",gj="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",p7=new ze({apiKey:gj,dangerouslyAllowBrowser:!0}),PT=12e3,m7={generateProjectProposal:async n=>{try{if(console.log("AI Service: Trying NVIDIA..."),mj)try{return await Promise.race([g7(n),MT(PT,"NVIDIA Timeout")])}catch(e){console.warn("NVIDIA Failed/Timed out:",e.message)}if(console.log("AI Service: Falling back to OpenAI..."),gj)try{return await Promise.race([y7(n),MT(PT,"OpenAI Timeout")])}catch(e){console.warn("OpenAI Failed/Timed out:",e.message)}throw new Error("All AI Providers failed")}catch(e){return console.error("AI Service Error:",e),_7(n)}}},MT=(n,e)=>new Promise((t,r)=>{setTimeout(()=>r(new Error(e)),n)}),yj=()=>`
You are a Senior Solutions Architect at "Frenzo Services".
Analyze user requirements and generate a professional Project Proposal.

**Pricing Strategy (INR):**
${JSON.stringify(Wn)}

**Services:**
${JSON.stringify(Yr)}

**Instructions:**
1. Recommend best Stack & Project Type.
2. Estimate Cost (with buffer).
3. Requirements & Analysis.
4. Output RAW JSON ONLY. No markdown blocks.

**Schema:**
{
  "title": "Title",
  "estimatedCost": 0,
  "requirements": "markdown string"
}
`,_j=n=>{let e=n.trim();return e.startsWith("```json")&&(e=e.replace(/^```json/,"").replace(/```$/,"")),e.startsWith("```")&&(e=e.replace(/^```/,"").replace(/```$/,"")),JSON.parse(e)},g7=async n=>{const e={model:"moonshotai/kimi-k2.5",messages:[{role:"system",content:yj()},{role:"user",content:JSON.stringify(n)}],max_tokens:4e3,temperature:.7},t=await Pt.post(f7,e,{headers:{Authorization:`Bearer ${mj}`}});return{..._j(t.data.choices[0].message.content),isAiGenerated:!0,provider:"NVIDIA"}},y7=async n=>{const e=await p7.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:yj()},{role:"user",content:JSON.stringify(n)}]});return{..._j(e.choices[0].message.content),isAiGenerated:!0,provider:"OpenAI"}},_7=async n=>{await new Promise(r=>setTimeout(r,1e3));let e=35e3,t="Custom Growth System";return n.goal?.toLowerCase().includes("scale")&&(e+=2e4,t="Enterprise Scaling Platform"),n.platform?.toLowerCase().includes("app")&&(e=6e4,t="Cross-Platform Mobile App"),{title:t,estimatedCost:e,requirements:`## System Proposal

**Strategic Analysis**
We have detected a need for a robust ${t}. This is a templated estimation based on your inputs.`,isAiGenerated:!1}},Nl=[{id:"goal",text:"What is your primary business goal right now?",options:["Launch a new product","Scale existing operations","Automate workflows","Rebrand / Redesign"]},{id:"platform",text:"What kind of platform do you envision?",options:["Web Application (SaaS)","Mobile App","E-commerce Store","Internal Tool / Dashboard"]},{id:"ai",text:"Are you interested in AI integration?",options:["Yes, I want to automate tasks","Maybe, if it adds value","No, just standard software"]},{id:"budget",text:"What is your approximate budget range?",options:["1L - 3L","3L - 10L","10L+"]}],v7=()=>{const{currentUser:n}=is(),e=pr(),[t,r]=N.useState(0),[a,l]=N.useState({}),[d,f]=N.useState(!1),[m,g]=N.useState(null),[_,v]=N.useState(!1),w=async T=>{const I={...a,[Nl[t].id]:T};if(l(I),t<Nl.length-1)r(t+1);else{r("generating"),f(!0);try{const D=await m7.generateProjectProposal(I);g(D)}catch(D){console.error(D)}finally{f(!1),r("result")}}},S=async()=>{if(!n){e("/login",{state:{from:"/design-system"}});return}v(!0);try{const T={title:m.title,requirements:m.requirements,estimatedCost:m.estimatedCost,clientNotes:"AI Generated based on Discovery Wizard.",clientId:n.uid,clientEmail:n.email,clientName:n.displayName||"Client",isPublic:!1,isAiAssisted:!0},I=await Pn.createProject(T);e(`/projects/${I}`)}catch(T){console.error("Failed to create project",T),alert("Failed to initialize project. Please try again.")}finally{v(!1)}};return u.jsxs("div",{style:{maxWidth:"700px",margin:"0 auto",padding:"2rem 1rem"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[u.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",borderRadius:"50%",background:"linear-gradient(135deg, #6366f1, #a855f7)",marginBottom:"1rem",boxShadow:"0 0 20px rgba(168, 85, 247, 0.4)"},children:u.jsx(o2,{size:32,color:"#fff"})}),u.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:"Design Your Growth System"}),u.jsx("p",{style:{color:"#888",fontSize:"1.1rem"},children:"Let our AI architect the perfect solution for your business in seconds."})]}),t!=="result"&&t!=="generating"&&u.jsxs("div",{className:"card",style:{padding:"2rem",border:"1px solid #333",background:"#111"},children:[u.jsxs("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"space-between",color:"#666",fontSize:"0.9rem"},children:[u.jsxs("span",{children:["STEP ",t+1," OF ",Nl.length]}),u.jsxs("span",{children:[Math.round(t/Nl.length*100),"% COMPLETE"]})]}),u.jsx("h2",{style:{fontSize:"1.8rem",marginBottom:"2rem",lineHeight:"1.3"},children:Nl[t].text}),u.jsx("div",{style:{display:"grid",gap:"1rem"},children:Nl[t].options.map((T,I)=>u.jsxs("button",{onClick:()=>w(T),style:{padding:"1.2rem",textAlign:"left",background:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",color:"#ddd",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.2s",display:"flex",justifyContent:"space-between",alignItems:"center"},onMouseEnter:D=>{D.currentTarget.style.borderColor="var(--accent-primary)",D.currentTarget.style.background="#222"},onMouseLeave:D=>{D.currentTarget.style.borderColor="#333",D.currentTarget.style.background="#1a1a1a"},children:[T,u.jsx(Fs,{size:18,color:"#666"})]},I))})]}),t==="generating"&&u.jsxs("div",{style:{textAlign:"center",padding:"4rem"},children:[u.jsx(LO,{size:48,className:"animate-spin",style:{color:"var(--accent-primary)",marginBottom:"1.5rem"}}),u.jsx("h3",{style:{fontSize:"1.5rem"},children:"Analyzing your requirements..."}),u.jsx("p",{style:{color:"#888"},children:"Our AI is drafting a custom architecture proposal."})]}),t==="result"&&m&&u.jsxs("div",{className:"card",style:{padding:"0",overflow:"hidden",border:"1px solid var(--accent-primary)"},children:[u.jsxs("div",{style:{background:"linear-gradient(to right, var(--accent-primary), #7c3aed)",padding:"2rem",textAlign:"center"},children:[u.jsx("h2",{style:{fontSize:"2rem",color:"#fff",margin:0},children:m.title}),u.jsxs("p",{style:{color:"rgba(255,255,255,0.8)",marginTop:"0.5rem",fontSize:"1.2rem"},children:["Estimated Investment: ",m.estimatedCost.toLocaleString()]})]}),u.jsxs("div",{style:{padding:"2rem"},children:[u.jsx("div",{style:{background:"#1a1a1a",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem",border:"1px solid #333"},children:u.jsx("div",{style:{whiteSpace:"pre-wrap",color:"#ccc",lineHeight:"1.6"},children:m.requirements})}),u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("p",{style:{color:"#888",marginBottom:"1.5rem"},children:"This proposal is a starting point. Book a strategy call to refine costs and timeline."}),u.jsx(dr,{onClick:S,disabled:_,style:{width:"100%",padding:"1.2rem",fontSize:"1.1rem",background:_?"#555":"var(--accent-primary)",cursor:_?"wait":"pointer"},children:_?"Initializing Project...":"Approve & Schedule Strategy Call"})]})]})]})]})},b7=()=>u.jsx("div",{style:{paddingTop:"var(--header-height)",minHeight:"90vh"},children:u.jsx(Yt,{children:u.jsx(v7,{})})}),x7=()=>{const n=pr(),[e,t]=N.useState([]),[r,a]=N.useState(!0),[l,d]=N.useState("All");N.useEffect(()=>{(async()=>{try{const v=await Pn.getPublicProjects();t(v)}catch(v){console.error(v)}finally{a(!1)}})()},[]);const f=["All","Web App","Mobile App","Consulting"],m=_=>_.toLowerCase().includes("app")?"Mobile App":_.toLowerCase().includes("web")||_.toLowerCase().includes("platform")?"Web App":"Consulting",g=l==="All"?e:e.filter(_=>m(_.title)===l);return r?u.jsx("div",{className:"loading-screen",children:"Loading Showcase..."}):u.jsx("div",{style:{paddingTop:"var(--header-height)"},children:u.jsxs(Yt,{className:"text-center",children:[u.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"Our Work"}),u.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.2rem",maxWidth:"600px",margin:"0 auto 3rem"},children:"Explore how we've helped ambitious brands build scalable growth systems."}),u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",flexWrap:"wrap",marginBottom:"3rem"},children:f.map(_=>u.jsx("button",{onClick:()=>d(_),style:{padding:"0.5rem 1.5rem",borderRadius:"20px",border:l===_?"1px solid var(--accent-primary)":"1px solid var(--border-light)",background:l===_?"var(--accent-primary)":"transparent",color:l===_?"#fff":"var(--text-secondary)",cursor:"pointer",transition:"0.3s"},children:_},_))}),e.length===0?u.jsxs("div",{style:{padding:"4rem",border:"1px dashed #333",borderRadius:"12px"},children:[u.jsx("h3",{style:{color:"#666"},children:"No case studies published yet."}),u.jsx("p",{style:{color:"#444"},children:"Check back soon or start your own project today."})]}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"2rem"},children:g.map(_=>u.jsxs(id,{style:{padding:"0",overflow:"hidden",textAlign:"left",transition:"transform 0.3s"},className:"hover-lift",children:[u.jsx("div",{style:{height:"200px",background:"var(--bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"1px solid var(--border-light)"},children:u.jsx("span",{style:{fontSize:"3rem",fontWeight:"bold",color:"var(--text-tertiary)",opacity:.3},children:_.title.charAt(0)})}),u.jsxs("div",{style:{padding:"1.5rem",display:"flex",flexDirection:"column",height:"calc(100% - 200px)"},children:[u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",textTransform:"uppercase",fontWeight:"bold",marginBottom:"0.5rem"},children:m(_.title)}),u.jsx("h3",{style:{fontSize:"1.4rem",marginBottom:"0.8rem"},children:_.title}),u.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.95rem",marginBottom:"1.5rem",lineHeight:"1.6",flex:1},children:_.requirements?_.requirements.substring(0,100)+"...":"A custom growth solution designed for scale."}),_.review&&u.jsxs("div",{style:{background:"rgba(251, 191, 36, 0.1)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[u.jsxs("p",{style:{fontSize:"0.9rem",fontStyle:"italic",color:"#fbbf24",marginBottom:"0.5rem"},children:['"',_.review.text.substring(0,80),'..."']}),u.jsx("div",{style:{fontSize:"0.8rem",color:"#888"},children:" Verified Client"})]}),u.jsxs(dr,{variant:"outline",style:{width:"100%",justifyContent:"center",marginTop:"auto"},onClick:()=>n("/contact",{state:{details:`I saw the ${_.title} case study and want something similar.`}}),children:["View Case Study ",u.jsx(Fs,{size:16,style:{marginLeft:"6px"}})]})]})]},_.id))})]})})};function w7(){return u.jsxs(jD,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[u.jsx(pz,{}),u.jsxs(D9,{children:[u.jsx(kz,{}),u.jsx(F9,{children:u.jsxs(aD,{children:[u.jsx(on,{path:"/",element:u.jsx(q9,{})}),u.jsx(on,{path:"/about",element:u.jsx(H9,{})}),u.jsx(on,{path:"/services",element:u.jsx($9,{})}),u.jsx(on,{path:"/services/:id",element:u.jsx(Cu,{children:u.jsx(sz,{})})}),u.jsx(on,{path:"/approach",element:u.jsx(hz,{})}),u.jsx(on,{path:"/contact",element:u.jsx(dz,{})}),u.jsx(on,{path:"/pricing",element:u.jsx(Cu,{children:u.jsx(lz,{})})}),u.jsx(on,{path:"/terms",element:u.jsx(cz,{})}),u.jsx(on,{path:"/privacy",element:u.jsx(uz,{})}),u.jsx(on,{path:"/thank-you",element:u.jsx(fz,{})}),u.jsx(on,{path:"/audit",element:u.jsx(b7,{})}),u.jsx(on,{path:"/projects",element:u.jsx(x7,{})}),u.jsx(on,{path:"/login",element:u.jsx(mz,{})}),u.jsx(on,{path:"/register",element:u.jsx(gz,{})}),u.jsx(on,{path:"/dashboard",element:u.jsx(Cu,{children:u.jsx(Ez,{})})}),u.jsx(on,{path:"/projects/:projectId",element:u.jsx(Cu,{children:u.jsx(jz,{})})}),u.jsx(on,{path:"/profile/:userId",element:u.jsx(Cu,{children:u.jsx(Sz,{})})})]})})]})]})}var vj=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(vj||{}),E0={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(vj);var bb={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(bb).reduce((n,[e,t])=>(n[t]=e,n),{});var Ed="data-rh",E7=n=>Array.isArray(n)?n.join(""):n,S7=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},S0=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(S7(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},T7=["noscript","script","style"],b_=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),bj=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),A7=(n,e,t,r)=>{const a=bj(t),l=E7(e);return a?`<${n} ${Ed}="true" ${a}>${b_(l,r)}</${n}>`:`<${n} ${Ed}="true">${b_(l,r)}</${n}>`},R7=(n,e,t=!0)=>e.reduce((r,a)=>{const l=a,d=Object.keys(l).filter(g=>!(g==="innerHTML"||g==="cssText")).reduce((g,_)=>{const v=typeof l[_]>"u"?_:`${_}="${b_(l[_],t)}"`;return g?`${g} ${v}`:v},""),f=l.innerHTML||l.cssText||"",m=T7.indexOf(n)===-1;return`${r}<${n} ${Ed}="true" ${d}${m?"/>":`>${f}</${n}>`}`},""),xj=(n,e={})=>Object.keys(n).reduce((t,r)=>{const a=bb[r];return t[a||r]=n[r],t},e),C7=(n,e,t)=>{const r={key:e,[Ed]:!0},a=xj(t,r);return[Do.createElement("title",a,e)]},gp=(n,e)=>e.map((t,r)=>{const a={key:r,[Ed]:!0};return Object.keys(t).forEach(l=>{const f=bb[l]||l;if(f==="innerHTML"||f==="cssText"){const m=t.innerHTML||t.cssText;a.dangerouslySetInnerHTML={__html:m}}else a[f]=t[l]}),Do.createElement(n,a)}),jr=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>C7(n,e.title,e.titleAttributes),toString:()=>A7(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>xj(e),toString:()=>bj(e)};default:return{toComponent:()=>gp(n,e),toString:()=>R7(n,e,t)}}},I7=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const a=S0(n,E0.meta),l=S0(e,E0.link),d=S0(t,E0.script);return{priorityMethods:{toComponent:()=>[...gp("meta",a.priority),...gp("link",l.priority),...gp("script",d.priority)],toString:()=>`${jr("meta",a.priority,r)} ${jr("link",l.priority,r)} ${jr("script",d.priority,r)}`},metaTags:a.default,linkTags:l.default,scriptTags:d.default}},j7=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:a,noscriptTags:l,styleTags:d,title:f="",titleAttributes:m,prioritizeSeoTags:g}=n;let{linkTags:_,metaTags:v,scriptTags:w}=n,S={toComponent:()=>{},toString:()=>""};return g&&({priorityMethods:S,linkTags:_,metaTags:v,scriptTags:w}=I7(n)),{priority:S,base:jr("base",e,r),bodyAttributes:jr("bodyAttributes",t,r),htmlAttributes:jr("htmlAttributes",a,r),link:jr("link",_,r),meta:jr("meta",v,r),noscript:jr("noscript",l,r),script:jr("script",w,r),style:jr("style",d,r),title:jr("title",{title:f,titleAttributes:m},r)}},k7=j7,Hf=[],wj=!!(typeof window<"u"&&window.document&&window.document.createElement),N7=class{instances=[];canUseDOM=wj;context;value={setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Hf:this.instances,add:n=>{(this.canUseDOM?Hf:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Hf:this.instances).indexOf(n);(this.canUseDOM?Hf:this.instances).splice(e,1)}}};constructor(n,e){this.context=n,this.canUseDOM=e||!1,e||(n.helmet=k7({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},D7={},O7=Do.createContext(D7),P7=class Ej extends N.Component{static canUseDOM=wj;helmetData;constructor(e){super(e),this.helmetData=new N7(this.props.context||{},Ej.canUseDOM)}render(){return Do.createElement(O7.Provider,{value:this.helmetData.value},this.props.children)}};cN.createRoot(document.getElementById("root")).render(u.jsx(Do.StrictMode,{children:u.jsx(P7,{children:u.jsx(w7,{})})}));
